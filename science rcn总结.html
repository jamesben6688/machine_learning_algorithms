<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>science rcn总结.html</title>
  <meta name="generator" content="Haroopad 0.13.1" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <style>div.oembedall-githubrepos{border:1px solid #DDD;border-radius:4px;list-style-type:none;margin:0 0 10px;padding:8px 10px 0;font:13.34px/1.4 helvetica,arial,freesans,clean,sans-serif;width:452px;background-color:#fff}div.oembedall-githubrepos .oembedall-body{background:-moz-linear-gradient(center top,#FAFAFA,#EFEFEF);background:-webkit-gradient(linear,left top,left bottom,from(#FAFAFA),to(#EFEFEF));border-bottom-left-radius:4px;border-bottom-right-radius:4px;border-top:1px solid #EEE;margin-left:-10px;margin-top:8px;padding:5px 10px;width:100%}div.oembedall-githubrepos h3{font-size:14px;margin:0;padding-left:18px;white-space:nowrap}div.oembedall-githubrepos p.oembedall-description{color:#444;font-size:12px;margin:0 0 3px}div.oembedall-githubrepos p.oembedall-updated-at{color:#888;font-size:11px;margin:0}div.oembedall-githubrepos ul.oembedall-repo-stats{border:none;float:right;font-size:11px;font-weight:700;padding-left:15px;position:relative;z-index:5;margin:0}div.oembedall-githubrepos ul.oembedall-repo-stats li{border:none;color:#666;display:inline-block;list-style-type:none;margin:0!important}div.oembedall-githubrepos ul.oembedall-repo-stats li a{background-color:transparent;border:none;color:#666!important;background-position:5px -2px;background-repeat:no-repeat;border-left:1px solid #DDD;display:inline-block;height:21px;line-height:21px;padding:0 5px 0 23px}div.oembedall-githubrepos ul.oembedall-repo-stats li:first-child a{border-left:medium none;margin-right:-3px}div.oembedall-githubrepos ul.oembedall-repo-stats li a:hover{background:5px -27px no-repeat #4183C4;color:#FFF!important;text-decoration:none}div.oembedall-githubrepos ul.oembedall-repo-stats li:first-child a:hover{border-bottom-left-radius:3px;border-top-left-radius:3px}ul.oembedall-repo-stats li:last-child a:hover{border-bottom-right-radius:3px;border-top-right-radius:3px}span.oembedall-closehide{background-color:#aaa;border-radius:2px;cursor:pointer;margin-right:3px}div.oembedall-container{margin-top:5px;text-align:left}.oembedall-ljuser{font-weight:700}.oembedall-ljuser img{vertical-align:bottom;border:0;padding-right:1px}.oembedall-stoqembed{border-bottom:1px dotted #999;float:left;overflow:hidden;width:730px;line-height:1;background:#FFF;color:#000;font-family:Arial,Liberation Sans,DejaVu Sans,sans-serif;font-size:80%;text-align:left;margin:0;padding:0}.oembedall-stoqembed a{color:#07C;text-decoration:none;margin:0;padding:0}.oembedall-stoqembed a:hover{text-decoration:underline}.oembedall-stoqembed a:visited{color:#4A6B82}.oembedall-stoqembed h3{font-family:Trebuchet MS,Liberation Sans,DejaVu Sans,sans-serif;font-size:130%;font-weight:700;margin:0;padding:0}.oembedall-stoqembed .oembedall-reputation-score{color:#444;font-size:120%;font-weight:700;margin-right:2px}.oembedall-stoqembed .oembedall-user-info{height:35px;width:185px}.oembedall-stoqembed .oembedall-user-info .oembedall-user-gravatar32{float:left;height:32px;width:32px}.oembedall-stoqembed .oembedall-user-info .oembedall-user-details{float:left;margin-left:5px;overflow:hidden;white-space:nowrap;width:145px}.oembedall-stoqembed .oembedall-question-hyperlink{font-weight:700}.oembedall-stoqembed .oembedall-stats{background:#EEE;margin:0 0 0 7px;padding:4px 7px 6px;width:58px}.oembedall-stoqembed .oembedall-statscontainer{float:left;margin-right:8px;width:86px}.oembedall-stoqembed .oembedall-votes{color:#555;padding:0 0 7px;text-align:center}.oembedall-stoqembed .oembedall-vote-count-post{font-size:240%;color:#808185;display:block;font-weight:700}.oembedall-stoqembed .oembedall-views{color:#999;padding-top:4px;text-align:center}.oembedall-stoqembed .oembedall-status{margin-top:-3px;padding:4px 0;text-align:center;background:#75845C;color:#FFF}.oembedall-stoqembed .oembedall-status strong{color:#FFF;display:block;font-size:140%}.oembedall-stoqembed .oembedall-summary{float:left;width:635px}.oembedall-stoqembed .oembedall-excerpt{line-height:1.2;margin:0;padding:0 0 5px}.oembedall-stoqembed .oembedall-tags{float:left;line-height:18px}.oembedall-stoqembed .oembedall-tags a:hover{text-decoration:none}.oembedall-stoqembed .oembedall-post-tag{background-color:#E0EAF1;border-bottom:1px solid #3E6D8E;border-right:1px solid #7F9FB6;color:#3E6D8E;font-size:90%;line-height:2.4;margin:2px 2px 2px 0;padding:3px 4px;text-decoration:none;white-space:nowrap}.oembedall-stoqembed .oembedall-post-tag:hover{background-color:#3E6D8E;border-bottom:1px solid #37607D;border-right:1px solid #37607D;color:#E0EAF1}.oembedall-stoqembed .oembedall-fr{float:right}.oembedall-stoqembed .oembedall-statsarrow{background-image:url(http://cdn.sstatic.net/stackoverflow/img/sprites.png?v=3);background-repeat:no-repeat;overflow:hidden;background-position:0 -435px;float:right;height:13px;margin-top:12px;width:7px}.oembedall-facebook1{border:1px solid #1A3C6C;padding:0;font:13.34px/1.4 verdana;width:500px}.oembedall-facebook2{background-color:#627add}.oembedall-facebook2 a{color:#e8e8e8;text-decoration:none}.oembedall-facebookBody{background-color:#fff;vertical-align:top;padding:5px}.oembedall-facebookBody .contents{display:inline-block;width:100%}.oembedall-facebookBody div img{float:left;margin-right:5px}div.oembedall-lanyard{-webkit-box-shadow:none;-webkit-transition-delay:0s;-webkit-transition-duration:.4000000059604645s;-webkit-transition-property:width;-webkit-transition-timing-function:cubic-bezier(0.42,0,.58,1);background-attachment:scroll;background-clip:border-box;background-color:transparent;background-image:none;background-origin:padding-box;border-width:0;box-shadow:none;color:#112644;display:block;float:left;font-family:'Trebuchet MS',Trebuchet,sans-serif;font-size:16px;height:253px;line-height:19px;margin:0;max-width:none;min-height:0;outline:#112644 0;overflow-x:visible;overflow-y:visible;padding:0;position:relative;text-align:left;vertical-align:baseline;width:804px}div.oembedall-lanyard .tagline{font-size:1.5em}div.oembedall-lanyard .wrapper{overflow:hidden;clear:both}div.oembedall-lanyard .split{float:left;display:inline}div.oembedall-lanyard .prominent-place .flag:active,div.oembedall-lanyard .prominent-place .flag:focus,div.oembedall-lanyard .prominent-place .flag:hover,div.oembedall-lanyard .prominent-place .flag:link,div.oembedall-lanyard .prominent-place .flag:visited{float:left;display:block;width:48px;height:48px;position:relative;top:-5px;margin-right:10px}div.oembedall-lanyard .place-context{font-size:.889em}div.oembedall-lanyard .prominent-place .sub-place{display:block}div.oembedall-lanyard .prominent-place{font-size:1.125em;line-height:1.1em;font-weight:400}div.oembedall-lanyard .main-date{color:#8CB4E0;font-weight:700;line-height:1.1}div.oembedall-lanyard .first{width:48.57%;margin:0 0 0 2.857%}.mermaid .label{color:#333}.node circle,.node polygon,.node rect{fill:#cde498;stroke:#13540c;stroke-width:1px}.edgePath .path{stroke:green;stroke-width:1.5px}.cluster rect{fill:#cdffb2;rx:40;stroke:#6eaa49;stroke-width:1px}.cluster text{fill:#333}.actor{stroke:#13540c;fill:#cde498}text.actor{fill:#000;stroke:none}.actor-line{stroke:grey}.messageLine0{stroke-width:1.5;stroke-dasharray:"2 2";marker-end:"url(#arrowhead)";stroke:#333}.messageLine1{stroke-width:1.5;stroke-dasharray:"2 2";stroke:#333}#arrowhead{fill:#333}#crosshead path{fill:#333!important;stroke:#333!important}.messageText{fill:#333;stroke:none}.labelBox{stroke:#326932;fill:#cde498}.labelText,.loopText{fill:#000;stroke:none}.loopLine{stroke-width:2;stroke-dasharray:"2 2";marker-end:"url(#arrowhead)";stroke:#326932}.note{stroke:#6eaa49;fill:#fff5ad}.noteText{fill:#000;stroke:none;font-family:'trebuchet ms',verdana,arial;font-size:14px}.section{stroke:none;opacity:.2}.section0,.section2{fill:#6eaa49}.section1,.section3{fill:#fff;opacity:.2}.sectionTitle0,.sectionTitle1,.sectionTitle2,.sectionTitle3{fill:#333}.sectionTitle{text-anchor:start;font-size:11px;text-height:14px}.grid .tick{stroke:lightgrey;opacity:.3;shape-rendering:crispEdges}.grid path{stroke-width:0}.today{fill:none;stroke:red;stroke-width:2px}.task{stroke-width:2}.taskText{text-anchor:middle;font-size:11px}.taskTextOutsideRight{fill:#000;text-anchor:start;font-size:11px}.taskTextOutsideLeft{fill:#000;text-anchor:end;font-size:11px}.taskText0,.taskText1,.taskText2,.taskText3{fill:#fff}.task0,.task1,.task2,.task3{fill:#487e3a;stroke:#13540c}.taskTextOutside0,.taskTextOutside1,.taskTextOutside2,.taskTextOutside3{fill:#000}.active0,.active1,.active2,.active3{fill:#cde498;stroke:#13540c}.activeText0,.activeText1,.activeText2,.activeText3{fill:#000!important}.done0,.done1,.done2,.done3{stroke:grey;fill:lightgrey;stroke-width:2}.doneText0,.doneText1,.doneText2,.doneText3{fill:#000!important}.crit0,.crit1,.crit2,.crit3{stroke:#f88;fill:red;stroke-width:2}.activeCrit0,.activeCrit1,.activeCrit2,.activeCrit3{stroke:#f88;fill:#cde498;stroke-width:2}.doneCrit0,.doneCrit1,.doneCrit2,.doneCrit3{stroke:#f88;fill:lightgrey;stroke-width:2;cursor:pointer;shape-rendering:crispEdges}.activeCritText0,.activeCritText1,.activeCritText2,.activeCritText3,.doneCritText0,.doneCritText1,.doneCritText2,.doneCritText3{fill:#000!important}.titleText{text-anchor:middle;font-size:18px;fill:#000}text{font-family:'trebuchet ms',verdana,arial;font-size:14px}html{height:100%}body{margin:0!important;padding:5px 20px 26px!important;background-color:#fff;font-family:"Lucida Grande","Segoe UI","Apple SD Gothic Neo","Malgun Gothic","Lucida Sans Unicode",Helvetica,Arial,sans-serif;font-size:.9em;overflow-x:hidden;overflow-y:auto}br,h1,h2,h3,h4,h5,h6{clear:both}hr.page{background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAECAYAAACtBE5DAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OENDRjNBN0E2NTZBMTFFMEI3QjRBODM4NzJDMjlGNDgiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OENDRjNBN0I2NTZBMTFFMEI3QjRBODM4NzJDMjlGNDgiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo4Q0NGM0E3ODY1NkExMUUwQjdCNEE4Mzg3MkMyOUY0OCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo4Q0NGM0E3OTY1NkExMUUwQjdCNEE4Mzg3MkMyOUY0OCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PqqezsUAAAAfSURBVHjaYmRABcYwBiM2QSA4y4hNEKYDQxAEAAIMAHNGAzhkPOlYAAAAAElFTkSuQmCC) repeat-x;border:0;height:3px;padding:0}hr.underscore{border-top-style:dashed!important}body >:first-child{margin-top:0!important}img.plugin{box-shadow:0 1px 3px rgba(0,0,0,.1);border-radius:3px}iframe{border:0}figure{-webkit-margin-before:0;-webkit-margin-after:0;-webkit-margin-start:0;-webkit-margin-end:0}kbd{border:1px solid #aaa;-moz-border-radius:2px;-webkit-border-radius:2px;border-radius:2px;-moz-box-shadow:1px 2px 2px #ddd;-webkit-box-shadow:1px 2px 2px #ddd;box-shadow:1px 2px 2px #ddd;background-color:#f9f9f9;background-image:-moz-linear-gradient(top,#eee,#f9f9f9,#eee);background-image:-o-linear-gradient(top,#eee,#f9f9f9,#eee);background-image:-webkit-linear-gradient(top,#eee,#f9f9f9,#eee);background-image:linear-gradient(top,#eee,#f9f9f9,#eee);padding:1px 3px;font-family:inherit;font-size:.85em}.oembeded .oembed_photo{display:inline-block}img[data-echo]{margin:25px 0;width:100px;height:100px;background:url(../img/ajax.gif) center center no-repeat #fff}.spinner{display:inline-block;width:10px;height:10px;margin-bottom:-.1em;border:2px solid rgba(0,0,0,.5);border-top-color:transparent;border-radius:100%;-webkit-animation:spin 1s infinite linear;animation:spin 1s infinite linear}.spinner:after{content:'';display:block;width:0;height:0;position:absolute;top:-6px;left:0;border:4px solid transparent;border-bottom-color:rgba(0,0,0,.5);-webkit-transform:rotate(45deg);transform:rotate(45deg)}@-webkit-keyframes spin{to{-webkit-transform:rotate(360deg)}}@keyframes spin{to{transform:rotate(360deg)}}p.toc{margin:0!important}p.toc ul{padding-left:10px}p.toc>ul{padding:10px;margin:0 10px;display:inline-block;border:1px solid #ededed;border-radius:5px}p.toc li,p.toc ul{list-style-type:none}p.toc li{width:100%;padding:0;overflow:hidden}p.toc li a::after{content:"."}p.toc li a:before{content:"• "}p.toc h5{text-transform:uppercase}p.toc .title{float:left;padding-right:3px}p.toc .number{margin:0;float:right;padding-left:3px;background:#fff;display:none}input.task-list-item{margin-left:-1.62em}.markdown{font-family:"Hiragino Sans GB","Microsoft YaHei",STHeiti,SimSun,"Lucida Grande","Lucida Sans Unicode","Lucida Sans",'Segoe UI',AppleSDGothicNeo-Medium,'Malgun Gothic',Verdana,Tahoma,sans-serif;padding:20px}.markdown a{text-decoration:none;vertical-align:baseline}.markdown a:hover{text-decoration:underline}.markdown h1{font-size:2.2em;font-weight:700;margin:1.5em 0 1em}.markdown h2{font-size:1.8em;font-weight:700;margin:1.275em 0 .85em}.markdown h3{font-size:1.6em;font-weight:700;margin:1.125em 0 .75em}.markdown h4{font-size:1.4em;font-weight:700;margin:.99em 0 .66em}.markdown h5{font-size:1.2em;font-weight:700;margin:.855em 0 .57em}.markdown h6{font-size:1em;font-weight:700;margin:.75em 0 .5em}.markdown h1+p,.markdown h1:first-child,.markdown h2+p,.markdown h2:first-child,.markdown h3+p,.markdown h3:first-child,.markdown h4+p,.markdown h4:first-child,.markdown h5+p,.markdown h5:first-child,.markdown h6+p,.markdown h6:first-child{margin-top:0}.markdown hr{border:1px solid #ccc}.markdown p{margin:1em 0;word-wrap:break-word}.markdown ol{list-style-type:decimal}.markdown li{display:list-item;line-height:1.4em}.markdown blockquote{margin:1em 20px}.markdown blockquote>:first-child{margin-top:0}.markdown blockquote>:last-child{margin-bottom:0}.markdown blockquote cite:before{content:'\2014 \00A0'}.markdown .code{border-radius:3px;word-wrap:break-word}.markdown pre{border-radius:3px;word-wrap:break-word;border:1px solid #ccc;overflow:auto;padding:.5em}.markdown pre code{border:0;display:block}.markdown pre>code{font-family:Consolas,Inconsolata,Courier,monospace;font-weight:700;white-space:pre;margin:0}.markdown code{border-radius:3px;word-wrap:break-word;border:1px solid #ccc;padding:0 5px;margin:0 2px}.markdown img{max-width:100%}.markdown mark{color:#000;background-color:#fcf8e3}.markdown table{padding:0;border-collapse:collapse;border-spacing:0;margin-bottom:16px}.markdown table tr td,.markdown table tr th{border:1px solid #ccc;margin:0;padding:6px 13px}.markdown table tr th{font-weight:700}.markdown table tr th>:first-child{margin-top:0}.markdown table tr th>:last-child{margin-bottom:0}.markdown table tr td>:first-child{margin-top:0}.markdown table tr td>:last-child{margin-bottom:0}@import url(http://fonts.googleapis.com/css?family=Roboto+Condensed:300italic,400italic,700italic,400,300,700);.haroopad{padding:20px;color:#222;font-size:15px;font-family:"Roboto Condensed",Tauri,"Hiragino Sans GB","Microsoft YaHei",STHeiti,SimSun,"Lucida Grande","Lucida Sans Unicode","Lucida Sans",'Segoe UI',AppleSDGothicNeo-Medium,'Malgun Gothic',Verdana,Tahoma,sans-serif;background:#fff;line-height:1.6;-webkit-font-smoothing:antialiased}.haroopad a{color:#3269a0}.haroopad a:hover{color:#4183c4}.haroopad h2{border-bottom:1px solid #e6e6e6}.haroopad h6{color:#777}.haroopad hr{border:1px solid #e6e6e6}.haroopad blockquote>code,.haroopad h1>code,.haroopad h2>code,.haroopad h3>code,.haroopad h4>code,.haroopad h5>code,.haroopad h6>code,.haroopad li>code,.haroopad p>code,.haroopad td>code{font-family:Consolas,"Liberation Mono",Menlo,Courier,monospace;font-size:85%;background-color:rgba(0,0,0,.02);padding:.2em .5em;border:1px solid #efefef}.haroopad pre>code{font-size:1em;letter-spacing:-1px;font-weight:700}.haroopad blockquote{border-left:4px solid #e6e6e6;padding:0 15px;color:#777}.haroopad table{background-color:#fafafa}.haroopad table tr td,.haroopad table tr th{border:1px solid #e6e6e6}.haroopad table tr:nth-child(2n){background-color:#f2f2f2}.hljs{display:block;overflow-x:auto;padding:.5em;background:#fdf6e3;color:#657b83;-webkit-text-size-adjust:none}.diff .hljs-header,.hljs-comment,.hljs-doctype,.hljs-javadoc,.hljs-pi,.lisp .hljs-string{color:#93a1a1}.css .hljs-tag,.hljs-addition,.hljs-keyword,.hljs-request,.hljs-status,.hljs-winutils,.method,.nginx .hljs-title{color:#859900}.hljs-command,.hljs-dartdoc,.hljs-hexcolor,.hljs-link_url,.hljs-number,.hljs-phpdoc,.hljs-regexp,.hljs-rules .hljs-value,.hljs-string,.hljs-tag .hljs-value,.tex .hljs-formula{color:#2aa198}.css .hljs-function,.hljs-built_in,.hljs-chunk,.hljs-decorator,.hljs-id,.hljs-identifier,.hljs-localvars,.hljs-title,.vhdl .hljs-literal{color:#268bd2}.hljs-attribute,.hljs-class .hljs-title,.hljs-constant,.hljs-link_reference,.hljs-parent,.hljs-type,.hljs-variable,.lisp .hljs-body,.smalltalk .hljs-number{color:#b58900}.css .hljs-pseudo,.diff .hljs-change,.hljs-attr_selector,.hljs-cdata,.hljs-header,.hljs-pragma,.hljs-preprocessor,.hljs-preprocessor .hljs-keyword,.hljs-shebang,.hljs-special,.hljs-subst,.hljs-symbol,.hljs-symbol .hljs-string{color:#cb4b16}.hljs-deletion,.hljs-important{color:#dc322f}.hljs-link_label{color:#6c71c4}.tex .hljs-formula{background:#eee8d5}.MathJax_Hover_Frame{border-radius:.25em;-webkit-border-radius:.25em;-moz-border-radius:.25em;-khtml-border-radius:.25em;box-shadow:0 0 15px #83A;-webkit-box-shadow:0 0 15px #83A;-moz-box-shadow:0 0 15px #83A;-khtml-box-shadow:0 0 15px #83A;border:1px solid #A6D!important;display:inline-block;position:absolute}.MathJax_Hover_Arrow{position:absolute;width:15px;height:11px;cursor:pointer}#MathJax_About{position:fixed;left:50%;width:auto;text-align:center;border:3px outset;padding:1em 2em;background-color:#DDD;color:#000;cursor:default;font-family:message-box;font-size:120%;font-style:normal;text-indent:0;text-transform:none;line-height:normal;letter-spacing:normal;word-spacing:normal;word-wrap:normal;white-space:nowrap;float:none;z-index:201;border-radius:15px;-webkit-border-radius:15px;-moz-border-radius:15px;-khtml-border-radius:15px;box-shadow:0 10px 20px gray;-webkit-box-shadow:0 10px 20px gray;-moz-box-shadow:0 10px 20px gray;-khtml-box-shadow:0 10px 20px gray;filter:progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}.MathJax_Menu{position:absolute;background-color:#fff;color:#000;width:auto;padding:2px;border:1px solid #CCC;margin:0;cursor:default;font:menu;text-align:left;text-indent:0;text-transform:none;line-height:normal;letter-spacing:normal;word-spacing:normal;word-wrap:normal;white-space:nowrap;float:none;z-index:201;box-shadow:0 10px 20px gray;-webkit-box-shadow:0 10px 20px gray;-moz-box-shadow:0 10px 20px gray;-khtml-box-shadow:0 10px 20px gray;filter:progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}.MathJax_MenuItem{padding:2px 2em;background:0 0}.MathJax_MenuArrow{position:absolute;right:.5em;color:#666}.MathJax_MenuActive .MathJax_MenuArrow{color:#fff}.MathJax_MenuArrow.RTL{left:.5em;right:auto}.MathJax_MenuCheck{position:absolute;left:.7em}.MathJax_MenuCheck.RTL{right:.7em;left:auto}.MathJax_MenuRadioCheck{position:absolute;left:1em}.MathJax_MenuRadioCheck.RTL{right:1em;left:auto}.MathJax_MenuLabel{padding:2px 2em 4px 1.33em;font-style:italic}.MathJax_MenuRule{border-top:1px solid #CCC;margin:4px 1px 0}.MathJax_MenuDisabled{color:GrayText}.MathJax_MenuActive{background-color:Highlight;color:HighlightText}.MathJax_Menu_Close{position:absolute;width:31px;height:31px;top:-15px;left:-15px}#MathJax_Zoom{position:absolute;background-color:#F0F0F0;overflow:auto;display:block;z-index:301;padding:.5em;border:1px solid #000;margin:0;font-weight:400;font-style:normal;text-align:left;text-indent:0;text-transform:none;line-height:normal;letter-spacing:normal;word-spacing:normal;word-wrap:normal;white-space:nowrap;float:none;box-shadow:5px 5px 15px #AAA;-webkit-box-shadow:5px 5px 15px #AAA;-moz-box-shadow:5px 5px 15px #AAA;-khtml-box-shadow:5px 5px 15px #AAA;filter:progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}#MathJax_ZoomOverlay{position:absolute;left:0;top:0;z-index:300;display:inline-block;width:100%;height:100%;border:0;padding:0;margin:0;background-color:#fff;opacity:0;filter:alpha(opacity=0)}#MathJax_ZoomFrame{position:relative;display:inline-block;height:0;width:0}#MathJax_ZoomEventTrap{position:absolute;left:0;top:0;z-index:302;display:inline-block;border:0;padding:0;margin:0;background-color:#fff;opacity:0;filter:alpha(opacity=0)}.MathJax_Preview{color:#888}#MathJax_Message{position:fixed;left:1px;bottom:2px;background-color:#E6E6E6;border:1px solid #959595;margin:0;padding:2px 8px;z-index:102;color:#000;font-size:80%;width:auto;white-space:nowrap}#MathJax_MSIE_Frame{position:absolute;top:0;left:0;width:0;z-index:101;border:0;margin:0;padding:0}.MathJax_Error{color:#C00;font-style:italic}.MathJax_Display{text-align:center;margin:1em 0;position:relative;display:block!important;text-indent:0;max-width:none;max-height:none;min-width:0;min-height:0;width:100%}.MathJax .merror{background-color:#FF8;color:#C00;border:1px solid #C00;padding:1px 3px;font-style:normal;font-size:90%}.MathJax .MJX-monospace{font-family:monospace}.MathJax .MJX-sans-serif{font-family:sans-serif}#MathJax_Tooltip{background-color:InfoBackground;color:InfoText;border:1px solid #000;box-shadow:2px 2px 5px #AAA;-webkit-box-shadow:2px 2px 5px #AAA;-moz-box-shadow:2px 2px 5px #AAA;-khtml-box-shadow:2px 2px 5px #AAA;filter:progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true');padding:3px 4px;z-index:401;position:absolute;left:0;top:0;width:auto;height:auto;display:none}.MathJax{display:inline;font-style:normal;font-weight:400;line-height:normal;font-size:100%;font-size-adjust:none;text-indent:0;text-align:left;text-transform:none;letter-spacing:normal;word-spacing:normal;word-wrap:normal;white-space:nowrap;float:none;direction:ltr;max-width:none;max-height:none;min-width:0;min-height:0;border:0;padding:0;margin:0}.MathJax a,.MathJax img,.MathJax nobr{border:0;padding:0;margin:0;max-width:5000em;max-height:5000em;min-width:0;min-height:0;vertical-align:0;line-height:normal;text-decoration:none}img.MathJax_strut{border:0!important;padding:0!important;margin:0!important;vertical-align:0!important}.MathJax span{display:inline;position:static;border:0;padding:0;margin:0;vertical-align:0;line-height:normal;text-decoration:none}.MathJax nobr{white-space:nowrap!important}.MathJax img{display:inline!important;float:none!important}.MathJax *{transition:none;-webkit-transition:none;-moz-transition:none;-ms-transition:none;-o-transition:none}.MathJax_Processing{visibility:hidden;position:fixed;width:0;height:0;overflow:hidden}.MathJax_Processed{display:none!important}.MathJax_ExBox{display:block!important;overflow:hidden;width:1px;height:60ex;min-height:0;max-height:none}.MathJax .MathJax_EmBox{display:block!important;overflow:hidden;width:1px;height:60em;min-height:0;max-height:none}.MathJax .MathJax_HitBox{cursor:text;background:#fff;opacity:0;filter:alpha(opacity=0)}#MathJax_Tooltip *,.MathJax .MathJax_HitBox *{filter:none;opacity:1;background:0 0}@font-face{font-family:MathJax_Main;src:url(file:///D:/Haroopad/Libraries/.js/MathJax/fonts/HTML-CSS/TeX/woff/MathJax_Main-Regular.woff?rev=2.4-beta-2) format('woff'),url(file:///D:/Haroopad/Libraries/.js/MathJax/fonts/HTML-CSS/TeX/otf/MathJax_Main-Regular.otf?rev=2.4-beta-2) format('opentype')}@font-face{font-family:MathJax_Main;src:url(file:///D:/Haroopad/Libraries/.js/MathJax/fonts/HTML-CSS/TeX/woff/MathJax_Main-Bold.woff?rev=2.4-beta-2) format('woff'),url(file:///D:/Haroopad/Libraries/.js/MathJax/fonts/HTML-CSS/TeX/otf/MathJax_Main-Bold.otf?rev=2.4-beta-2) format('opentype');font-weight:700}@font-face{font-family:MathJax_Main;src:url(file:///D:/Haroopad/Libraries/.js/MathJax/fonts/HTML-CSS/TeX/woff/MathJax_Main-Italic.woff?rev=2.4-beta-2) format('woff'),url(file:///D:/Haroopad/Libraries/.js/MathJax/fonts/HTML-CSS/TeX/otf/MathJax_Main-Italic.otf?rev=2.4-beta-2) format('opentype');font-style:italic}@font-face{font-family:MathJax_Math;src:url(file:///D:/Haroopad/Libraries/.js/MathJax/fonts/HTML-CSS/TeX/woff/MathJax_Math-Italic.woff?rev=2.4-beta-2) format('woff'),url(file:///D:/Haroopad/Libraries/.js/MathJax/fonts/HTML-CSS/TeX/otf/MathJax_Math-Italic.otf?rev=2.4-beta-2) format('opentype');font-style:italic}@font-face{font-family:MathJax_Caligraphic;src:url(file:///D:/Haroopad/Libraries/.js/MathJax/fonts/HTML-CSS/TeX/woff/MathJax_Caligraphic-Regular.woff?rev=2.4-beta-2) format('woff'),url(file:///D:/Haroopad/Libraries/.js/MathJax/fonts/HTML-CSS/TeX/otf/MathJax_Caligraphic-Regular.otf?rev=2.4-beta-2) format('opentype')}@font-face{font-family:MathJax_Size1;src:url(file:///D:/Haroopad/Libraries/.js/MathJax/fonts/HTML-CSS/TeX/woff/MathJax_Size1-Regular.woff?rev=2.4-beta-2) format('woff'),url(file:///D:/Haroopad/Libraries/.js/MathJax/fonts/HTML-CSS/TeX/otf/MathJax_Size1-Regular.otf?rev=2.4-beta-2) format('opentype')}@font-face{font-family:MathJax_Size2;src:url(file:///D:/Haroopad/Libraries/.js/MathJax/fonts/HTML-CSS/TeX/woff/MathJax_Size2-Regular.woff?rev=2.4-beta-2) format('woff'),url(file:///D:/Haroopad/Libraries/.js/MathJax/fonts/HTML-CSS/TeX/otf/MathJax_Size2-Regular.otf?rev=2.4-beta-2) format('opentype')}@font-face{font-family:MathJax_Size3;src:url(file:///D:/Haroopad/Libraries/.js/MathJax/fonts/HTML-CSS/TeX/woff/MathJax_Size3-Regular.woff?rev=2.4-beta-2) format('woff'),url(file:///D:/Haroopad/Libraries/.js/MathJax/fonts/HTML-CSS/TeX/otf/MathJax_Size3-Regular.otf?rev=2.4-beta-2) format('opentype')}@font-face{font-family:MathJax_Size4;src:url(file:///D:/Haroopad/Libraries/.js/MathJax/fonts/HTML-CSS/TeX/woff/MathJax_Size4-Regular.woff?rev=2.4-beta-2) format('woff'),url(file:///D:/Haroopad/Libraries/.js/MathJax/fonts/HTML-CSS/TeX/otf/MathJax_Size4-Regular.otf?rev=2.4-beta-2) format('opentype')}.MathJax .noError{font-size:90%;text-align:left;color:#000;padding:1px 3px;border:1px solid}@font-face{font-family:MathJax_AMS;src:url(file:///D:/Haroopad/Libraries/.js/MathJax/fonts/HTML-CSS/TeX/woff/MathJax_AMS-Regular.woff?rev=2.4-beta-2) format('woff'),url(file:///D:/Haroopad/Libraries/.js/MathJax/fonts/HTML-CSS/TeX/otf/MathJax_AMS-Regular.otf?rev=2.4-beta-2) format('opentype')}footer{position:fixed;font-size:.8em;text-align:right;bottom:0;margin-left:-25px;height:20px;width:100%}</style>
</head>
<body class="markdown haroopad">
<h1 id="science-rcn总结"><a name="science-rcn总结" href="#science-rcn总结"></a><center>science rcn总结</center></h1><p>Organization<br>论文补充材料分两部分：</p><ol>
<li>1-7章提供RCN模型的理论基础并建立其余经典文献和生物启示之间的联系。</li><li>第8章关注RCN的应用，并距离其在多个数据集上的表现情况。</li></ol><p>1-3章描述RCN生成模型，形状(shape)和外观(appearance)上的分解。第4章描述图像的推理。第5章描述用来学习模型参数和结构的算法。第6章描述本模型的背景以及与现有文献之间的联系。第7章详细介绍一些神经科学上的指导。</p><p>8.1和8.2节分别描述一下预处理和后处理的细节。8.3节给出RCN在不同实验中的总结。8.4-8.9节给出在数据集CAPTCHA, ICDAR, Omniglot和MNIST上的实验结果。8.10节会重点突出横向连接和反向传播的重要性。8.11讨论计算复杂性问题。8.12节展示一些3D对象渲染实验。8.13节探讨一些RCN在未来可能的改进。</p><h2 id="1.-对象识别问题中形状和外观的分解"><a name="1.-对象识别问题中形状和外观的分解" href="#1.-对象识别问题中形状和外观的分解"></a>1. 对象识别问题中形状和外观的分解</h2><p>当物体的形状产生剧烈变化是，人类对物体的识别是不会变的。例如，如果我们第一次看到一棵完全蓝色的树，我们就能够正确地将它识别为一棵树，并将其颜色标识为蓝色。尽管会有一些吃惊，但我们不会将其辨认为1个大的蓝色草莓。这表明人类可以独立于外观(appearance)去感受形状,并且我们对对象的分类会更依赖于形状(shape)而不是外观(appearance)。 同样，即使我们从来没有看到一棵完全蓝色的树，我们仍然能够想象它，我们的模型由树(shape)和蓝色(appearance)构成的。也就是说我们对于物体的感知，是将形状和外观分离开来，然后将它们组合成物体。</p><p>基于以上观察，具有人类识别能力的图像模型应该也是将形状和外观分离开来。此前将形状和外观进行分离的工作不多。这种分离操作能够让模型在比较小的样例上进行泛化，因此训练数据只需要包含足够多样形状和外观的图像而不需要每个shape和appearance的组合，而且这样就能表征所有的shape和appearance组合的样本空间。尽管主流的图像识别模型(CNN)取得了巨大成功，但是它们对于形状和外观的处理是相当复杂的。如果测试集中对象的外观与训练集中的样本有着明显偏离，那么这些模型就不能有效识别出来。对于这些模型，比较好的方法是增大训练集，使得其包含尽可能多的shape和appearance组合的图像。尽管在训练期间使用各种颜色的树可以解决blue-tree问题，但是会带来难以忍受的样本复杂度。</p><p>我们的模型假定形状和外观能被分解，并且通过这些形状和外观产生图片。首先生成能定义物体内部和外部边界的shape，然后在内部区域通过appearance着色(利用颜色，或者通常使用纹理来着色)。</p><h2 id="2.-提取形状的层次生成模型"><a name="2.-提取形状的层次生成模型" href="#2.-提取形状的层次生成模型"></a>2. 提取形状的层次生成模型</h2><p>本章描述一个概率模型，该模型能够根据物体形状(shape)产生其提取边缘后的图像(edge map)<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-181-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-2965" style="width: 2.283em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.858em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.085em 1000em 2.35em -0.461em); top: -2.186em; left: 0em;"><span class="mrow" id="MathJax-Span-2966"><span class="msubsup" id="MathJax-Span-2967"><span style="display: inline-block; position: relative; width: 1.851em; height: 0px;"><span style="position: absolute; clip: rect(1.615em 1000em 2.623em -0.461em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-2968" style="font-family: MathJax_Math; font-style: italic;">F<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.106em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.757em; left: 0.847em;"><span class="texatom" id="MathJax-Span-2969"><span class="mrow" id="MathJax-Span-2970"><span class="mo" id="MathJax-Span-2971" style="font-size: 70.7%; font-family: MathJax_Main;">(</span><span class="mn" id="MathJax-Span-2972" style="font-size: 70.7%; font-family: MathJax_Main;">1</span><span class="mo" id="MathJax-Span-2973" style="font-size: 70.7%; font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.186em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.277em; vertical-align: -0.067em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-181">F^{(1)}</script></span>。随后该边缘图像(edge map)<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-182-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-2974" style="width: 2.283em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.858em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.085em 1000em 2.35em -0.461em); top: -2.186em; left: 0em;"><span class="mrow" id="MathJax-Span-2975"><span class="msubsup" id="MathJax-Span-2976"><span style="display: inline-block; position: relative; width: 1.851em; height: 0px;"><span style="position: absolute; clip: rect(1.615em 1000em 2.623em -0.461em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-2977" style="font-family: MathJax_Math; font-style: italic;">F<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.106em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.757em; left: 0.847em;"><span class="texatom" id="MathJax-Span-2978"><span class="mrow" id="MathJax-Span-2979"><span class="mo" id="MathJax-Span-2980" style="font-size: 70.7%; font-family: MathJax_Main;">(</span><span class="mn" id="MathJax-Span-2981" style="font-size: 70.7%; font-family: MathJax_Main;">1</span><span class="mo" id="MathJax-Span-2982" style="font-size: 70.7%; font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.186em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.277em; vertical-align: -0.067em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-182">F^{(1)}</script></span>会与物体的外观(appearance)结合起来形成最终的图像<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-183-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-2983" style="width: 1.083em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.874em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.612em 1000em 2.623em -0.466em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-2984"><span class="mi" id="MathJax-Span-2985" style="font-family: MathJax_Math; font-style: italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.024em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.967em; vertical-align: -0.067em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-183">X</script></span>。我们给这个模型起名递归皮质模型(RCN, recursive cortical network),该模型是一个分层的隐变量模型,其中的隐变量都是离散的。</p><h3 id="2.1-分层模型"><a name="2.1-分层模型" href="#2.1-分层模型"></a>2.1 分层模型</h3><p>为了对边缘图像<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-184-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-2986" style="width: 2.283em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.858em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.085em 1000em 2.35em -0.461em); top: -2.186em; left: 0em;"><span class="mrow" id="MathJax-Span-2987"><span class="msubsup" id="MathJax-Span-2988"><span style="display: inline-block; position: relative; width: 1.851em; height: 0px;"><span style="position: absolute; clip: rect(1.615em 1000em 2.623em -0.461em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-2989" style="font-family: MathJax_Math; font-style: italic;">F<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.106em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.757em; left: 0.847em;"><span class="texatom" id="MathJax-Span-2990"><span class="mrow" id="MathJax-Span-2991"><span class="mo" id="MathJax-Span-2992" style="font-size: 70.7%; font-family: MathJax_Main;">(</span><span class="mn" id="MathJax-Span-2993" style="font-size: 70.7%; font-family: MathJax_Main;">1</span><span class="mo" id="MathJax-Span-2994" style="font-size: 70.7%; font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.186em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.277em; vertical-align: -0.067em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-184">F^{(1)}</script></span>建模,RCN使用自顶向下的方式来分层交替地配置池化层和特征层的离散隐变量。类似的方法在CNN中也有。与CNN不同的是,RCN是一个完全的生成式模型,即使是用来分类，其属性与CNN也明显不同。</p><p>我们使用<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-185-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-2995" style="width: 2.083em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.694em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.085em 1000em 2.35em -0.461em); top: -2.186em; left: 0em;"><span class="mrow" id="MathJax-Span-2996"><span class="msubsup" id="MathJax-Span-2997"><span style="display: inline-block; position: relative; width: 1.687em; height: 0px;"><span style="position: absolute; clip: rect(1.615em 1000em 2.623em -0.461em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-2998" style="font-family: MathJax_Math; font-style: italic;">F<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.106em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.757em; left: 0.847em;"><span class="texatom" id="MathJax-Span-2999"><span class="mrow" id="MathJax-Span-3000"><span class="mo" id="MathJax-Span-3001" style="font-size: 70.7%; font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-3002" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">l</span><span class="mo" id="MathJax-Span-3003" style="font-size: 70.7%; font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.186em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.277em; vertical-align: -0.067em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-185">F^{(l)}</script></span>和<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-186-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-3004" style="width: 1.95em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.585em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.082em 1000em 2.35em -0.461em); top: -2.186em; left: 0em;"><span class="mrow" id="MathJax-Span-3005"><span class="msubsup" id="MathJax-Span-3006"><span style="display: inline-block; position: relative; width: 1.563em; height: 0px;"><span style="position: absolute; clip: rect(1.612em 1000em 2.623em -0.461em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-3007" style="font-family: MathJax_Math; font-style: italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.76em; left: 0.996em;"><span class="texatom" id="MathJax-Span-3008"><span class="mrow" id="MathJax-Span-3009"><span class="mo" id="MathJax-Span-3010" style="font-size: 70.7%; font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-3011" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">l</span></span></span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.186em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.281em; vertical-align: -0.067em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-186">H^{(l}</script></span>分别表示第<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-187-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-3012" style="width: 0.417em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.328em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.601em 1000em 2.634em -0.454em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-3013"><span class="mi" id="MathJax-Span-3014" style="font-family: MathJax_Math; font-style: italic;">l</span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.993em; vertical-align: -0.08em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-187">l</script></span>个特征层和第<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-188-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-3015" style="width: 0.417em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.328em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.601em 1000em 2.634em -0.454em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-3016"><span class="mi" id="MathJax-Span-3017" style="font-family: MathJax_Math; font-style: italic;">l</span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.993em; vertical-align: -0.08em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-188">l</script></span>个池化层的所有隐变量。特征层里面的隐变量是二值变量(0,1),而池化层的隐变量是多值变量。特征层<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-189-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-3018" style="width: 2.083em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.694em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.085em 1000em 2.35em -0.461em); top: -2.186em; left: 0em;"><span class="mrow" id="MathJax-Span-3019"><span class="msubsup" id="MathJax-Span-3020"><span style="display: inline-block; position: relative; width: 1.687em; height: 0px;"><span style="position: absolute; clip: rect(1.615em 1000em 2.623em -0.461em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-3021" style="font-family: MathJax_Math; font-style: italic;">F<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.106em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.757em; left: 0.847em;"><span class="texatom" id="MathJax-Span-3022"><span class="mrow" id="MathJax-Span-3023"><span class="mo" id="MathJax-Span-3024" style="font-size: 70.7%; font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-3025" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">l</span><span class="mo" id="MathJax-Span-3026" style="font-size: 70.7%; font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.186em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.277em; vertical-align: -0.067em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-189">F^{(l)}</script></span>里面的变量可以被分配到一个3维的网格中，网格中的每一个元素是<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-190-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-3027" style="width: 3.083em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.514em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(0.97em 1000em 2.916em -0.461em); top: -2.186em; left: 0em;"><span class="mrow" id="MathJax-Span-3028"><span class="msubsup" id="MathJax-Span-3029"><span style="display: inline-block; position: relative; width: 2.486em; height: 0px;"><span style="position: absolute; clip: rect(1.615em 1000em 2.623em -0.461em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-3030" style="font-family: MathJax_Math; font-style: italic;">F<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.106em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; clip: rect(1.655em 1000em 2.69em -0.425em); top: -2.871em; left: 0.847em;"><span class="texatom" id="MathJax-Span-3031"><span class="mrow" id="MathJax-Span-3032"><span class="mo" id="MathJax-Span-3033" style="font-size: 70.7%; font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-3034" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">l</span><span class="mo" id="MathJax-Span-3035" style="font-size: 70.7%; font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span><span style="position: absolute; clip: rect(3.24em 1000em 4.298em -0.453em); top: -3.568em; left: 0.659em;"><span class="texatom" id="MathJax-Span-3036"><span class="mrow" id="MathJax-Span-3037"><span class="msup" id="MathJax-Span-3038"><span style="display: inline-block; position: relative; width: 0.662em; height: 0px;"><span style="position: absolute; clip: rect(1.633em 1000em 2.604em -0.453em); top: -2.295em; left: 0em;"><span class="mi" id="MathJax-Span-3039" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.042em;"></span></span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span><span style="position: absolute; top: -2.491em; left: 0.445em;"><span class="mo" id="MathJax-Span-3040" style="font-size: 50%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 2.186em;"></span></span></span></span><span class="msup" id="MathJax-Span-3041"><span style="display: inline-block; position: relative; width: 0.545em; height: 0px;"><span style="position: absolute; clip: rect(1.819em 1000em 2.467em -0.477em); top: -2.295em; left: 0em;"><span class="mi" id="MathJax-Span-3042" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">r</span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span><span style="position: absolute; top: -2.39em; left: 0.328em;"><span class="mo" id="MathJax-Span-3043" style="font-size: 50%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 2.186em;"></span></span></span></span><span class="msup" id="MathJax-Span-3044"><span style="display: inline-block; position: relative; width: 0.545em; height: 0px;"><span style="position: absolute; clip: rect(1.819em 1000em 2.467em -0.468em); top: -2.295em; left: 0em;"><span class="mi" id="MathJax-Span-3045" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">c</span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span><span style="position: absolute; top: -2.39em; left: 0.328em;"><span class="mo" id="MathJax-Span-3046" style="font-size: 50%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 2.186em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.989em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.186em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 2.107em; vertical-align: -0.757em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-190">F^{(l)}_{f'r'c'}</script></span>。下标分别表示第<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-191-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-3047" style="width: 0.417em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.328em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.601em 1000em 2.634em -0.454em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-3048"><span class="mi" id="MathJax-Span-3049" style="font-family: MathJax_Math; font-style: italic;">l</span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.993em; vertical-align: -0.08em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-191">l</script></span>层的特征<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-192-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-3050" style="width: 4.217em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.443em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.59em 1000em 2.828em -0.437em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-3051"><span class="mi" id="MathJax-Span-3052" style="font-family: MathJax_Math; font-style: italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.06em;"></span></span><span class="mi" id="MathJax-Span-3053" style="font-family: MathJax_Math; font-style: italic;">e</span><span class="mi" id="MathJax-Span-3054" style="font-family: MathJax_Math; font-style: italic;">a</span><span class="mi" id="MathJax-Span-3055" style="font-family: MathJax_Math; font-style: italic;">t</span><span class="mi" id="MathJax-Span-3056" style="font-family: MathJax_Math; font-style: italic;">u</span><span class="mi" id="MathJax-Span-3057" style="font-family: MathJax_Math; font-style: italic;">r</span><span class="mi" id="MathJax-Span-3058" style="font-family: MathJax_Math; font-style: italic;">e</span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.244em; vertical-align: -0.317em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-192">feature</script></span>(或者channel)、行(<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-193-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-3059" style="width: 2.083em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.694em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.852em 1000em 2.634em -0.471em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-3060"><span class="mi" id="MathJax-Span-3061" style="font-family: MathJax_Math; font-style: italic;">r</span><span class="mi" id="MathJax-Span-3062" style="font-family: MathJax_Math; font-style: italic;">o</span><span class="mi" id="MathJax-Span-3063" style="font-family: MathJax_Math; font-style: italic;">w</span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.687em; vertical-align: -0.08em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-193">row</script></span>)和列(<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-194-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-3064" style="width: 2.083em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.694em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.852em 1000em 2.634em -0.471em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-3065"><span class="mi" id="MathJax-Span-3066" style="font-family: MathJax_Math; font-style: italic;">r</span><span class="mi" id="MathJax-Span-3067" style="font-family: MathJax_Math; font-style: italic;">o</span><span class="mi" id="MathJax-Span-3068" style="font-family: MathJax_Math; font-style: italic;">w</span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.687em; vertical-align: -0.08em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-194">row</script></span>)。池化层里面的多值变量也可以被分配到一个网格中，每个元素为<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-195-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-3069" style="width: 2.483em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.022em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(0.97em 1000em 2.829em -0.461em); top: -2.186em; left: 0em;"><span class="mrow" id="MathJax-Span-3070"><span class="msubsup" id="MathJax-Span-3071"><span style="display: inline-block; position: relative; width: 1.985em; height: 0px;"><span style="position: absolute; clip: rect(1.612em 1000em 2.623em -0.461em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-3072" style="font-family: MathJax_Math; font-style: italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; clip: rect(1.655em 1000em 2.69em -0.425em); top: -2.871em; left: 0.996em;"><span class="texatom" id="MathJax-Span-3073"><span class="mrow" id="MathJax-Span-3074"><span class="mo" id="MathJax-Span-3075" style="font-size: 70.7%; font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-3076" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">l</span><span class="mo" id="MathJax-Span-3077" style="font-size: 70.7%; font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span><span style="position: absolute; clip: rect(1.633em 1000em 2.604em -0.453em); top: -1.961em; left: 0.872em;"><span class="texatom" id="MathJax-Span-3078"><span class="mrow" id="MathJax-Span-3079"><span class="mi" id="MathJax-Span-3080" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.042em;"></span></span><span class="mi" id="MathJax-Span-3081" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">r</span><span class="mi" id="MathJax-Span-3082" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">c</span></span></span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.186em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 2.001em; vertical-align: -0.651em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-195">H^{(l)}_{frc}</script></span>,下标意义同上。每一个类型都有<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-196-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-3083" style="width: 0.95em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.765em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.59em 1000em 2.645em -0.442em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-3084"><span class="mi" id="MathJax-Span-3085" style="font-family: MathJax_Math; font-style: italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.045em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.02em; vertical-align: -0.094em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-196">C</script></span>层,自底向上标号,最底部是边缘提取图，最上层是分类层。</p><p>每一层的变量只取决于在它上面的那些层。因此模型的联合概率为：</p><p><span class="MathJax_Preview"></span></p><div class="MathJax_Display" role="textbox" aria-readonly="true"><span class="MathJax" id="MathJax-Element-197-Frame"><nobr><span class="math" id="MathJax-Span-3086" style="width: 100%; display: inline-block; min-width: 39.683em;"><span style="display: inline-block; position: relative; width: 100%; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(2.882em 1000em 6.027em -0.466em); top: -3.989em; left: 0em; width: 100%;"><span class="mrow" id="MathJax-Span-3087"><span style="display: inline-block; position: relative; width: 100%; height: 0px;"><span style="position: absolute; clip: rect(2.882em 1000em 4.403em -0.466em); top: -3.989em; left: 50%; margin-left: -16.267em;"><span class="mi" id="MathJax-Span-3088" style="font-family: MathJax_Main;">log</span><span class="mo" id="MathJax-Span-3089"></span><span class="mi" id="MathJax-Span-3090" style="font-family: MathJax_Math; font-style: italic; padding-left: 0.167em;">p</span><span class="mo" id="MathJax-Span-3091" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-3092"><span style="display: inline-block; position: relative; width: 1.851em; height: 0px;"><span style="position: absolute; clip: rect(1.615em 1000em 2.623em -0.461em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-3093" style="font-family: MathJax_Math; font-style: italic;">F<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.106em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.763em; left: 0.847em;"><span class="texatom" id="MathJax-Span-3094"><span class="mrow" id="MathJax-Span-3095"><span class="mo" id="MathJax-Span-3096" style="font-size: 70.7%; font-family: MathJax_Main;">(</span><span class="mn" id="MathJax-Span-3097" style="font-size: 70.7%; font-family: MathJax_Main;">1</span><span class="mo" id="MathJax-Span-3098" style="font-size: 70.7%; font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span></span></span><span class="mo" id="MathJax-Span-3099" style="font-family: MathJax_Main;">,</span><span class="msubsup" id="MathJax-Span-3100" style="padding-left: 0.167em;"><span style="display: inline-block; position: relative; width: 2em; height: 0px;"><span style="position: absolute; clip: rect(1.612em 1000em 2.623em -0.461em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-3101" style="font-family: MathJax_Math; font-style: italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.763em; left: 0.996em;"><span class="texatom" id="MathJax-Span-3102"><span class="mrow" id="MathJax-Span-3103"><span class="mo" id="MathJax-Span-3104" style="font-size: 70.7%; font-family: MathJax_Main;">(</span><span class="mn" id="MathJax-Span-3105" style="font-size: 70.7%; font-family: MathJax_Main;">1</span><span class="mo" id="MathJax-Span-3106" style="font-size: 70.7%; font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span></span></span><span class="mo" id="MathJax-Span-3107" style="font-family: MathJax_Main;">,</span><span class="mo" id="MathJax-Span-3108" style="font-family: MathJax_Main; padding-left: 0.167em;">⋯</span><span class="mo" id="MathJax-Span-3109" style="font-family: MathJax_Main; padding-left: 0.167em;">,</span><span class="msubsup" id="MathJax-Span-3110" style="padding-left: 0.167em;"><span style="display: inline-block; position: relative; width: 2.015em; height: 0px;"><span style="position: absolute; clip: rect(1.615em 1000em 2.623em -0.461em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-3111" style="font-family: MathJax_Math; font-style: italic;">F<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.106em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.763em; left: 0.847em;"><span class="texatom" id="MathJax-Span-3112"><span class="mrow" id="MathJax-Span-3113"><span class="mo" id="MathJax-Span-3114" style="font-size: 70.7%; font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-3115" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.032em;"></span></span><span class="mo" id="MathJax-Span-3116" style="font-size: 70.7%; font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span></span></span><span class="mo" id="MathJax-Span-3117" style="font-family: MathJax_Main;">,</span><span class="msubsup" id="MathJax-Span-3118" style="padding-left: 0.167em;"><span style="display: inline-block; position: relative; width: 2.164em; height: 0px;"><span style="position: absolute; clip: rect(1.612em 1000em 2.623em -0.461em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-3119" style="font-family: MathJax_Math; font-style: italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.763em; left: 0.996em;"><span class="texatom" id="MathJax-Span-3120"><span class="mrow" id="MathJax-Span-3121"><span class="mo" id="MathJax-Span-3122" style="font-size: 70.7%; font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-3123" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.032em;"></span></span><span class="mo" id="MathJax-Span-3124" style="font-size: 70.7%; font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span></span></span><span class="mo" id="MathJax-Span-3125" style="font-family: MathJax_Main;">)</span><span class="mo" id="MathJax-Span-3126" style="font-family: MathJax_Main; padding-left: 0.278em;">=</span><span class="mi" id="MathJax-Span-3127" style="font-family: MathJax_Main; padding-left: 0.278em;">log</span><span class="mo" id="MathJax-Span-3128"></span><span class="mi" id="MathJax-Span-3129" style="font-family: MathJax_Math; font-style: italic; padding-left: 0.167em;">p</span><span class="mo" id="MathJax-Span-3130" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-3131"><span style="display: inline-block; position: relative; width: 1.851em; height: 0px;"><span style="position: absolute; clip: rect(1.615em 1000em 2.623em -0.461em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-3132" style="font-family: MathJax_Math; font-style: italic;">F<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.106em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.763em; left: 0.847em;"><span class="texatom" id="MathJax-Span-3133"><span class="mrow" id="MathJax-Span-3134"><span class="mo" id="MathJax-Span-3135" style="font-size: 70.7%; font-family: MathJax_Main;">(</span><span class="mn" id="MathJax-Span-3136" style="font-size: 70.7%; font-family: MathJax_Main;">1</span><span class="mo" id="MathJax-Span-3137" style="font-size: 70.7%; font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span></span></span><span class="texatom" id="MathJax-Span-3138"><span class="mrow" id="MathJax-Span-3139"><span class="mo" id="MathJax-Span-3140" style="font-family: MathJax_Main;">|</span></span></span><span class="msubsup" id="MathJax-Span-3141"><span style="display: inline-block; position: relative; width: 2em; height: 0px;"><span style="position: absolute; clip: rect(1.612em 1000em 2.623em -0.461em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-3142" style="font-family: MathJax_Math; font-style: italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.763em; left: 0.996em;"><span class="texatom" id="MathJax-Span-3143"><span class="mrow" id="MathJax-Span-3144"><span class="mo" id="MathJax-Span-3145" style="font-size: 70.7%; font-family: MathJax_Main;">(</span><span class="mn" id="MathJax-Span-3146" style="font-size: 70.7%; font-family: MathJax_Main;">1</span><span class="mo" id="MathJax-Span-3147" style="font-size: 70.7%; font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span></span></span><span class="mo" id="MathJax-Span-3148" style="font-family: MathJax_Main;">)</span><span class="mo" id="MathJax-Span-3149" style="font-family: MathJax_Main; padding-left: 0.222em;">+</span><span class="mi" id="MathJax-Span-3150" style="font-family: MathJax_Main; padding-left: 0.222em;">log</span><span class="mo" id="MathJax-Span-3151"></span><span class="mi" id="MathJax-Span-3152" style="font-family: MathJax_Math; font-style: italic; padding-left: 0.167em;">p</span><span class="mo" id="MathJax-Span-3153" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-3154"><span style="display: inline-block; position: relative; width: 2em; height: 0px;"><span style="position: absolute; clip: rect(1.612em 1000em 2.623em -0.461em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-3155" style="font-family: MathJax_Math; font-style: italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.763em; left: 0.996em;"><span class="texatom" id="MathJax-Span-3156"><span class="mrow" id="MathJax-Span-3157"><span class="mo" id="MathJax-Span-3158" style="font-size: 70.7%; font-family: MathJax_Main;">(</span><span class="mn" id="MathJax-Span-3159" style="font-size: 70.7%; font-family: MathJax_Main;">1</span><span class="mo" id="MathJax-Span-3160" style="font-size: 70.7%; font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span></span></span><span class="texatom" id="MathJax-Span-3161"><span class="mrow" id="MathJax-Span-3162"><span class="mo" id="MathJax-Span-3163" style="font-family: MathJax_Main;">|</span></span></span><span class="msubsup" id="MathJax-Span-3164"><span style="display: inline-block; position: relative; width: 1.851em; height: 0px;"><span style="position: absolute; clip: rect(1.615em 1000em 2.623em -0.461em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-3165" style="font-family: MathJax_Math; font-style: italic;">F<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.106em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.763em; left: 0.847em;"><span class="texatom" id="MathJax-Span-3166"><span class="mrow" id="MathJax-Span-3167"><span class="mo" id="MathJax-Span-3168" style="font-size: 70.7%; font-family: MathJax_Main;">(</span><span class="mn" id="MathJax-Span-3169" style="font-size: 70.7%; font-family: MathJax_Main;">2</span><span class="mo" id="MathJax-Span-3170" style="font-size: 70.7%; font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span></span></span><span class="mo" id="MathJax-Span-3171" style="font-family: MathJax_Main;">)</span><span class="mo" id="MathJax-Span-3172" style="font-family: MathJax_Main; padding-left: 0.222em;">+</span><span class="mo" id="MathJax-Span-3173" style="font-family: MathJax_Main; padding-left: 0.222em;">⋯</span><span style="display: inline-block; width: 0px; height: 3.989em;"></span></span><span style="position: absolute; clip: rect(2.882em 1000em 4.403em -0.436em); top: -2.365em; left: 50%; margin-left: -7.147em;"><span class="mo" id="MathJax-Span-3174" style="font-family: MathJax_Main;">+</span><span class="mi" id="MathJax-Span-3175" style="font-family: MathJax_Main; padding-left: 0.222em;">log</span><span class="mo" id="MathJax-Span-3176"></span><span class="mi" id="MathJax-Span-3177" style="font-family: MathJax_Math; font-style: italic; padding-left: 0.167em;">p</span><span class="mo" id="MathJax-Span-3178" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-3179"><span style="display: inline-block; position: relative; width: 2.015em; height: 0px;"><span style="position: absolute; clip: rect(1.615em 1000em 2.623em -0.461em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-3180" style="font-family: MathJax_Math; font-style: italic;">F<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.106em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.763em; left: 0.847em;"><span class="texatom" id="MathJax-Span-3181"><span class="mrow" id="MathJax-Span-3182"><span class="mo" id="MathJax-Span-3183" style="font-size: 70.7%; font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-3184" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.032em;"></span></span><span class="mo" id="MathJax-Span-3185" style="font-size: 70.7%; font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span></span></span><span class="texatom" id="MathJax-Span-3186"><span class="mrow" id="MathJax-Span-3187"><span class="mo" id="MathJax-Span-3188" style="font-family: MathJax_Main;">|</span></span></span><span class="msubsup" id="MathJax-Span-3189"><span style="display: inline-block; position: relative; width: 2.164em; height: 0px;"><span style="position: absolute; clip: rect(1.612em 1000em 2.623em -0.461em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-3190" style="font-family: MathJax_Math; font-style: italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.763em; left: 0.996em;"><span class="texatom" id="MathJax-Span-3191"><span class="mrow" id="MathJax-Span-3192"><span class="mo" id="MathJax-Span-3193" style="font-size: 70.7%; font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-3194" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.032em;"></span></span><span class="mo" id="MathJax-Span-3195" style="font-size: 70.7%; font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span></span></span><span class="mo" id="MathJax-Span-3196" style="font-family: MathJax_Main;">)</span><span class="mo" id="MathJax-Span-3197" style="font-family: MathJax_Main; padding-left: 0.222em;">+</span><span class="mi" id="MathJax-Span-3198" style="font-family: MathJax_Main; padding-left: 0.222em;">log</span><span class="mo" id="MathJax-Span-3199"></span><span class="mi" id="MathJax-Span-3200" style="font-family: MathJax_Math; font-style: italic; padding-left: 0.167em;">p</span><span class="mo" id="MathJax-Span-3201" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-3202"><span style="display: inline-block; position: relative; width: 2.164em; height: 0px;"><span style="position: absolute; clip: rect(1.612em 1000em 2.623em -0.461em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-3203" style="font-family: MathJax_Math; font-style: italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.763em; left: 0.996em;"><span class="texatom" id="MathJax-Span-3204"><span class="mrow" id="MathJax-Span-3205"><span class="mo" id="MathJax-Span-3206" style="font-size: 70.7%; font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-3207" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.032em;"></span></span><span class="mo" id="MathJax-Span-3208" style="font-size: 70.7%; font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span></span></span><span class="mo" id="MathJax-Span-3209" style="font-family: MathJax_Main;">)</span><span style="display: inline-block; width: 0px; height: 3.989em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.989em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 3.57em; vertical-align: -2.353em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-197">
\log p(F^{(1)}, H^{(1)},\cdots,F^{(C)},H^{(C)})=\log p(F^{(1)}|H^{(1)})+\log p(H^{(1)}|F^{(2)})+\cdots+\log p(F^{(C)}|H^{(C)})+\log p(H^{(C)})</script><p></p><p>接下来要做的就是求解单个feature layer(由其上面一层的pooling layer决定)和pooling layer(由其上面的feature layer决定)的概率</p><h3 id="2.2-特征层"><a name="2.2-特征层" href="#2.2-特征层"></a>2.2 特征层</h3><p>特征层里面的每个变量表示给定特征<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-198-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-3210" style="width: 0.75em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.601em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.59em 1000em 2.828em -0.437em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-3211"><span class="mi" id="MathJax-Span-3212" style="font-family: MathJax_Math; font-style: italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.06em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.244em; vertical-align: -0.317em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-198">f</script></span>在图像<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-199-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-3213" style="width: 1.083em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.874em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.612em 1000em 2.623em -0.466em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-3214"><span class="mi" id="MathJax-Span-3215" style="font-family: MathJax_Math; font-style: italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.024em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.967em; vertical-align: -0.067em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-199">X</script></span>的指定位置<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-200-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-3216" style="width: 2.617em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.131em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.764em 1000em 3.092em -0.398em); top: -2.678em; left: 0em;"><span class="mrow" id="MathJax-Span-3217"><span class="mo" id="MathJax-Span-3218" style="font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-3219" style="font-family: MathJax_Math; font-style: italic;">r</span><span class="mo" id="MathJax-Span-3220" style="font-family: MathJax_Main;">,</span><span class="mi" id="MathJax-Span-3221" style="font-family: MathJax_Math; font-style: italic; padding-left: 0.167em;">c</span><span class="mo" id="MathJax-Span-3222" style="font-family: MathJax_Main;">)</span></span><span style="display: inline-block; width: 0px; height: 2.678em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.353em; vertical-align: -0.372em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-200">(r,c)</script></span>是否存在。例如在<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-201-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-3223" style="width: 2.283em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.858em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.085em 1000em 2.35em -0.461em); top: -2.186em; left: 0em;"><span class="mrow" id="MathJax-Span-3224"><span class="msubsup" id="MathJax-Span-3225"><span style="display: inline-block; position: relative; width: 1.851em; height: 0px;"><span style="position: absolute; clip: rect(1.615em 1000em 2.623em -0.461em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-3226" style="font-family: MathJax_Math; font-style: italic;">F<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.106em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.757em; left: 0.847em;"><span class="texatom" id="MathJax-Span-3227"><span class="mrow" id="MathJax-Span-3228"><span class="mo" id="MathJax-Span-3229" style="font-size: 70.7%; font-family: MathJax_Main;">(</span><span class="mn" id="MathJax-Span-3230" style="font-size: 70.7%; font-family: MathJax_Main;">3</span><span class="mo" id="MathJax-Span-3231" style="font-size: 70.7%; font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.186em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.277em; vertical-align: -0.067em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-201">F^{(3)}</script></span>这个位置有一个二值变量表示特征”图像中央的拐角”。当该变量是<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-202-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-3232" style="width: 2.083em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.694em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.591em 1000em 2.645em -0.442em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-3233"><span class="mi" id="MathJax-Span-3234" style="font-family: MathJax_Math; font-style: italic;">O</span><span class="mi" id="MathJax-Span-3235" style="font-family: MathJax_Math; font-style: italic;">N<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.085em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.019em; vertical-align: -0.094em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-202">ON</script></span>时，会产生一个靠近图像<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-203-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-3236" style="width: 1.083em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.874em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.612em 1000em 2.623em -0.466em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-3237"><span class="mi" id="MathJax-Span-3238" style="font-family: MathJax_Math; font-style: italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.024em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.967em; vertical-align: -0.067em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-203">X</script></span>中央的稍有点变形的拐角。给定<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-204-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-3239" style="width: 2.283em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.858em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.085em 1000em 2.35em -0.461em); top: -2.186em; left: 0em;"><span class="mrow" id="MathJax-Span-3240"><span class="msubsup" id="MathJax-Span-3241"><span style="display: inline-block; position: relative; width: 1.851em; height: 0px;"><span style="position: absolute; clip: rect(1.615em 1000em 2.623em -0.461em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-3242" style="font-family: MathJax_Math; font-style: italic;">F<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.106em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.757em; left: 0.847em;"><span class="texatom" id="MathJax-Span-3243"><span class="mrow" id="MathJax-Span-3244"><span class="mo" id="MathJax-Span-3245" style="font-size: 70.7%; font-family: MathJax_Main;">(</span><span class="mn" id="MathJax-Span-3246" style="font-size: 70.7%; font-family: MathJax_Main;">3</span><span class="mo" id="MathJax-Span-3247" style="font-size: 70.7%; font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.186em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.277em; vertical-align: -0.067em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-204">F^{(3)}</script></span>,图像<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-205-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-3248" style="width: 1.083em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.874em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.612em 1000em 2.623em -0.466em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-3249"><span class="mi" id="MathJax-Span-3250" style="font-family: MathJax_Math; font-style: italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.024em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.967em; vertical-align: -0.067em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-205">X</script></span>中拐角的具体形状和位置是不明确的。这个信息由它下面的层来编码,如果我们固定<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-206-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-3251" style="width: 2.283em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.858em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.085em 1000em 2.35em -0.461em); top: -2.186em; left: 0em;"><span class="mrow" id="MathJax-Span-3252"><span class="msubsup" id="MathJax-Span-3253"><span style="display: inline-block; position: relative; width: 1.851em; height: 0px;"><span style="position: absolute; clip: rect(1.615em 1000em 2.623em -0.461em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-3254" style="font-family: MathJax_Math; font-style: italic;">F<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.106em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.757em; left: 0.847em;"><span class="texatom" id="MathJax-Span-3255"><span class="mrow" id="MathJax-Span-3256"><span class="mo" id="MathJax-Span-3257" style="font-size: 70.7%; font-family: MathJax_Main;">(</span><span class="mn" id="MathJax-Span-3258" style="font-size: 70.7%; font-family: MathJax_Main;">3</span><span class="mo" id="MathJax-Span-3259" style="font-size: 70.7%; font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.186em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.277em; vertical-align: -0.067em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-206">F^{(3)}</script></span>的值然后产生多个<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-207-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-3260" style="width: 1.083em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.874em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.612em 1000em 2.623em -0.466em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-3261"><span class="mi" id="MathJax-Span-3262" style="font-family: MathJax_Math; font-style: italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.024em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.967em; vertical-align: -0.067em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-207">X</script></span>的样本，这个信息可能会发生变化。</p><p>给定上面一层，每一个特征变量与其他的特征变量都是互相独立的，写作:</p><p><span class="MathJax_Preview"></span></p><div class="MathJax_Display" role="textbox" aria-readonly="true" style="text-align: center;"><span class="MathJax" id="MathJax-Element-208-Frame"><nobr><span class="math" id="MathJax-Span-3263" style="width: 21.817em; display: inline-block;"><span style="display: inline-block; position: relative; width: 17.869em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.515em 1000em 4.289em -0.466em); top: -2.678em; left: 0em;"><span class="mrow" id="MathJax-Span-3264"><span class="mi" id="MathJax-Span-3265" style="font-family: MathJax_Main;">log</span><span class="mo" id="MathJax-Span-3266"></span><span class="mi" id="MathJax-Span-3267" style="font-family: MathJax_Math; font-style: italic; padding-left: 0.167em;">p</span><span class="mo" id="MathJax-Span-3268" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-3269"><span style="display: inline-block; position: relative; width: 1.687em; height: 0px;"><span style="position: absolute; clip: rect(1.615em 1000em 2.623em -0.461em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-3270" style="font-family: MathJax_Math; font-style: italic;">F<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.106em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.763em; left: 0.847em;"><span class="texatom" id="MathJax-Span-3271"><span class="mrow" id="MathJax-Span-3272"><span class="mo" id="MathJax-Span-3273" style="font-size: 70.7%; font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-3274" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">l</span><span class="mo" id="MathJax-Span-3275" style="font-size: 70.7%; font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span></span></span><span class="texatom" id="MathJax-Span-3276"><span class="mrow" id="MathJax-Span-3277"><span class="mo" id="MathJax-Span-3278" style="font-family: MathJax_Main;">|</span></span></span><span class="msubsup" id="MathJax-Span-3279"><span style="display: inline-block; position: relative; width: 1.836em; height: 0px;"><span style="position: absolute; clip: rect(1.612em 1000em 2.623em -0.461em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-3280" style="font-family: MathJax_Math; font-style: italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.763em; left: 0.996em;"><span class="texatom" id="MathJax-Span-3281"><span class="mrow" id="MathJax-Span-3282"><span class="mo" id="MathJax-Span-3283" style="font-size: 70.7%; font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-3284" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">l</span><span class="mo" id="MathJax-Span-3285" style="font-size: 70.7%; font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span></span></span><span class="mo" id="MathJax-Span-3286" style="font-family: MathJax_Main;">)</span><span class="mo" id="MathJax-Span-3287" style="font-family: MathJax_Main; padding-left: 0.278em;">=</span><span class="munderover" id="MathJax-Span-3288" style="padding-left: 0.278em;"><span style="display: inline-block; position: relative; width: 1.752em; height: 0px;"><span style="position: absolute; clip: rect(2.657em 1000em 4.384em -0.437em); top: -3.77em; left: 0.138em;"><span class="mo" id="MathJax-Span-3289" style="font-family: MathJax_Size2; vertical-align: 0em;">∑</span><span style="display: inline-block; width: 0px; height: 3.77em;"></span></span><span style="position: absolute; clip: rect(3.24em 1000em 4.398em -0.453em); top: -2.787em; left: 0em;"><span class="texatom" id="MathJax-Span-3290"><span class="mrow" id="MathJax-Span-3291"><span class="msup" id="MathJax-Span-3292"><span style="display: inline-block; position: relative; width: 0.662em; height: 0px;"><span style="position: absolute; clip: rect(1.633em 1000em 2.604em -0.453em); top: -2.295em; left: 0em;"><span class="mi" id="MathJax-Span-3293" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.042em;"></span></span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span><span style="position: absolute; top: -2.491em; left: 0.445em;"><span class="mo" id="MathJax-Span-3294" style="font-size: 50%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 2.186em;"></span></span></span></span><span class="msup" id="MathJax-Span-3295"><span style="display: inline-block; position: relative; width: 0.545em; height: 0px;"><span style="position: absolute; clip: rect(1.819em 1000em 2.467em -0.477em); top: -2.295em; left: 0em;"><span class="mi" id="MathJax-Span-3296" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">r</span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span><span style="position: absolute; top: -2.442em; left: 0.328em;"><span class="mo" id="MathJax-Span-3297" style="font-size: 50%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 2.186em;"></span></span></span></span><span class="msup" id="MathJax-Span-3298"><span style="display: inline-block; position: relative; width: 0.545em; height: 0px;"><span style="position: absolute; clip: rect(1.819em 1000em 2.467em -0.468em); top: -2.295em; left: 0em;"><span class="mi" id="MathJax-Span-3299" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">c</span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span><span style="position: absolute; top: -2.442em; left: 0.328em;"><span class="mo" id="MathJax-Span-3300" style="font-size: 50%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 2.186em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.989em;"></span></span></span></span><span class="mi" id="MathJax-Span-3301" style="font-family: MathJax_Main; padding-left: 0.167em;">log</span><span class="mo" id="MathJax-Span-3302"></span><span class="mi" id="MathJax-Span-3303" style="font-family: MathJax_Math; font-style: italic; padding-left: 0.167em;">p</span><span class="mo" id="MathJax-Span-3304" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-3305"><span style="display: inline-block; position: relative; width: 3.272em; height: 0px;"><span style="position: absolute; clip: rect(1.615em 1000em 2.623em -0.461em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-3306" style="font-family: MathJax_Math; font-style: italic;">F<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.106em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.763em; left: 0.847em;"><span class="texatom" id="MathJax-Span-3307"><span class="mrow" id="MathJax-Span-3308"><span class="mo" id="MathJax-Span-3309" style="font-size: 70.7%; font-family: MathJax_Main;">(</span><span class="msup" id="MathJax-Span-3310"><span style="display: inline-block; position: relative; width: 0.662em; height: 0px;"><span style="position: absolute; clip: rect(1.633em 1000em 2.604em -0.453em); top: -2.295em; left: 0em;"><span class="mi" id="MathJax-Span-3311" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.042em;"></span></span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span><span style="position: absolute; top: -2.491em; left: 0.445em;"><span class="mo" id="MathJax-Span-3312" style="font-size: 50%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 2.186em;"></span></span></span></span><span class="msup" id="MathJax-Span-3313"><span style="display: inline-block; position: relative; width: 0.545em; height: 0px;"><span style="position: absolute; clip: rect(1.819em 1000em 2.467em -0.477em); top: -2.295em; left: 0em;"><span class="mi" id="MathJax-Span-3314" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">r</span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span><span style="position: absolute; top: -2.442em; left: 0.328em;"><span class="mo" id="MathJax-Span-3315" style="font-size: 50%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 2.186em;"></span></span></span></span><span class="msup" id="MathJax-Span-3316"><span style="display: inline-block; position: relative; width: 0.545em; height: 0px;"><span style="position: absolute; clip: rect(1.819em 1000em 2.467em -0.468em); top: -2.295em; left: 0em;"><span class="mi" id="MathJax-Span-3317" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">c</span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span><span style="position: absolute; top: -2.442em; left: 0.328em;"><span class="mo" id="MathJax-Span-3318" style="font-size: 50%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 2.186em;"></span></span></span></span><span class="mo" id="MathJax-Span-3319" style="font-size: 70.7%; font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span></span></span><span class="texatom" id="MathJax-Span-3320"><span class="mrow" id="MathJax-Span-3321"><span class="mo" id="MathJax-Span-3322" style="font-family: MathJax_Main;">|</span></span></span><span class="msubsup" id="MathJax-Span-3323"><span style="display: inline-block; position: relative; width: 1.836em; height: 0px;"><span style="position: absolute; clip: rect(1.612em 1000em 2.623em -0.461em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-3324" style="font-family: MathJax_Math; font-style: italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.763em; left: 0.996em;"><span class="texatom" id="MathJax-Span-3325"><span class="mrow" id="MathJax-Span-3326"><span class="mo" id="MathJax-Span-3327" style="font-size: 70.7%; font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-3328" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">l</span><span class="mo" id="MathJax-Span-3329" style="font-size: 70.7%; font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span></span></span><span class="mo" id="MathJax-Span-3330" style="font-family: MathJax_Main;">)</span></span><span style="display: inline-block; width: 0px; height: 2.678em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 3.117em; vertical-align: -1.832em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-208">
\log p(F^{(l)}|H^{(l)})=\sum_{f'r'c'}\log p(F^{(f'r'c')}|H^{(l)})</script><p></p><p>通常<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-209-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-3331" style="width: 3.083em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.514em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(0.97em 1000em 2.916em -0.461em); top: -2.186em; left: 0em;"><span class="mrow" id="MathJax-Span-3332"><span class="msubsup" id="MathJax-Span-3333"><span style="display: inline-block; position: relative; width: 2.486em; height: 0px;"><span style="position: absolute; clip: rect(1.615em 1000em 2.623em -0.461em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-3334" style="font-family: MathJax_Math; font-style: italic;">F<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.106em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; clip: rect(1.655em 1000em 2.69em -0.425em); top: -2.871em; left: 0.847em;"><span class="texatom" id="MathJax-Span-3335"><span class="mrow" id="MathJax-Span-3336"><span class="mo" id="MathJax-Span-3337" style="font-size: 70.7%; font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-3338" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">l</span><span class="mo" id="MathJax-Span-3339" style="font-size: 70.7%; font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span><span style="position: absolute; clip: rect(3.24em 1000em 4.298em -0.453em); top: -3.568em; left: 0.659em;"><span class="texatom" id="MathJax-Span-3340"><span class="mrow" id="MathJax-Span-3341"><span class="msup" id="MathJax-Span-3342"><span style="display: inline-block; position: relative; width: 0.662em; height: 0px;"><span style="position: absolute; clip: rect(1.633em 1000em 2.604em -0.453em); top: -2.295em; left: 0em;"><span class="mi" id="MathJax-Span-3343" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.042em;"></span></span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span><span style="position: absolute; top: -2.491em; left: 0.445em;"><span class="mo" id="MathJax-Span-3344" style="font-size: 50%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 2.186em;"></span></span></span></span><span class="msup" id="MathJax-Span-3345"><span style="display: inline-block; position: relative; width: 0.545em; height: 0px;"><span style="position: absolute; clip: rect(1.819em 1000em 2.467em -0.477em); top: -2.295em; left: 0em;"><span class="mi" id="MathJax-Span-3346" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">r</span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span><span style="position: absolute; top: -2.39em; left: 0.328em;"><span class="mo" id="MathJax-Span-3347" style="font-size: 50%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 2.186em;"></span></span></span></span><span class="msup" id="MathJax-Span-3348"><span style="display: inline-block; position: relative; width: 0.545em; height: 0px;"><span style="position: absolute; clip: rect(1.819em 1000em 2.467em -0.468em); top: -2.295em; left: 0em;"><span class="mi" id="MathJax-Span-3349" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">c</span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span><span style="position: absolute; top: -2.39em; left: 0.328em;"><span class="mo" id="MathJax-Span-3350" style="font-size: 50%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 2.186em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.989em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.186em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 2.107em; vertical-align: -0.757em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-209">F^{(l)}_{f'r'c'}</script></span>只取决于<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-210-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-3351" style="width: 2.283em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.858em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.082em 1000em 2.35em -0.461em); top: -2.186em; left: 0em;"><span class="mrow" id="MathJax-Span-3352"><span class="msubsup" id="MathJax-Span-3353"><span style="display: inline-block; position: relative; width: 1.836em; height: 0px;"><span style="position: absolute; clip: rect(1.612em 1000em 2.623em -0.461em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-3354" style="font-family: MathJax_Math; font-style: italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.76em; left: 0.996em;"><span class="texatom" id="MathJax-Span-3355"><span class="mrow" id="MathJax-Span-3356"><span class="mo" id="MathJax-Span-3357" style="font-size: 70.7%; font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-3358" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">l</span><span class="mo" id="MathJax-Span-3359" style="font-size: 70.7%; font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.186em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.281em; vertical-align: -0.067em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-210">H^{(l)}</script></span>的一个比较小的子集。每一个池化层<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-211-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-3360" style="width: 2.283em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.858em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.082em 1000em 2.35em -0.461em); top: -2.186em; left: 0em;"><span class="mrow" id="MathJax-Span-3361"><span class="msubsup" id="MathJax-Span-3362"><span style="display: inline-block; position: relative; width: 1.836em; height: 0px;"><span style="position: absolute; clip: rect(1.612em 1000em 2.623em -0.461em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-3363" style="font-family: MathJax_Math; font-style: italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.76em; left: 0.996em;"><span class="texatom" id="MathJax-Span-3364"><span class="mrow" id="MathJax-Span-3365"><span class="mo" id="MathJax-Span-3366" style="font-size: 70.7%; font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-3367" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">l</span><span class="mo" id="MathJax-Span-3368" style="font-size: 70.7%; font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.186em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.281em; vertical-align: -0.067em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-211">H^{(l)}</script></span>里面的变量都是multinomial并且有几种状态，每一种状态都和<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-212-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-3369" style="width: 2.083em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.694em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.085em 1000em 2.35em -0.461em); top: -2.186em; left: 0em;"><span class="mrow" id="MathJax-Span-3370"><span class="msubsup" id="MathJax-Span-3371"><span style="display: inline-block; position: relative; width: 1.687em; height: 0px;"><span style="position: absolute; clip: rect(1.615em 1000em 2.623em -0.461em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-3372" style="font-family: MathJax_Math; font-style: italic;">F<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.106em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.757em; left: 0.847em;"><span class="texatom" id="MathJax-Span-3373"><span class="mrow" id="MathJax-Span-3374"><span class="mo" id="MathJax-Span-3375" style="font-size: 70.7%; font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-3376" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">l</span><span class="mo" id="MathJax-Span-3377" style="font-size: 70.7%; font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.186em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.277em; vertical-align: -0.067em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-212">F^{(l)}</script></span>里面的变量相关联,此外还有一个额外的<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-213-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-3378" style="width: 2.817em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.295em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.591em 1000em 2.645em -0.442em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-3379"><span class="mi" id="MathJax-Span-3380" style="font-family: MathJax_Math; font-style: italic;">O</span><span class="mi" id="MathJax-Span-3381" style="font-family: MathJax_Math; font-style: italic;">F<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.106em;"></span></span><span class="mi" id="MathJax-Span-3382" style="font-family: MathJax_Math; font-style: italic;">F<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.106em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.019em; vertical-align: -0.094em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-213">OFF</script></span>状态。一个pool所关联的特征变量被称为池化成员(<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-214-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-3383" style="width: 7.15em; display: inline-block;"><span style="display: inline-block; position: relative; width: 5.847em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.601em 1000em 2.817em -0.531em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-3384"><span class="mi" id="MathJax-Span-3385" style="font-family: MathJax_Math; font-style: italic;">p</span><span class="mi" id="MathJax-Span-3386" style="font-family: MathJax_Math; font-style: italic;">o</span><span class="mi" id="MathJax-Span-3387" style="font-family: MathJax_Math; font-style: italic;">o</span><span class="mi" id="MathJax-Span-3388" style="font-family: MathJax_Math; font-style: italic;">l</span><span class="mi" id="MathJax-Span-3389" style="font-family: MathJax_Math; font-style: italic;">m</span><span class="mi" id="MathJax-Span-3390" style="font-family: MathJax_Math; font-style: italic;">e</span><span class="mi" id="MathJax-Span-3391" style="font-family: MathJax_Math; font-style: italic;">m</span><span class="mi" id="MathJax-Span-3392" style="font-family: MathJax_Math; font-style: italic;">b</span><span class="mi" id="MathJax-Span-3393" style="font-family: MathJax_Math; font-style: italic;">e</span><span class="mi" id="MathJax-Span-3394" style="font-family: MathJax_Math; font-style: italic;">r</span><span class="mi" id="MathJax-Span-3395" style="font-family: MathJax_Math; font-style: italic;">s</span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.217em; vertical-align: -0.303em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-214">pool members</script></span>)。多个pool可以共享相同的池化成员。</p><p>为了使上面的说法跟具体，考虑一种从pool到feature的连接: 平移池化(translational pooling)。在平移池化中, 每一个pool变量<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-215-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-3396" style="width: 2.483em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.022em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(0.97em 1000em 2.829em -0.461em); top: -2.186em; left: 0em;"><span class="mrow" id="MathJax-Span-3397"><span class="msubsup" id="MathJax-Span-3398"><span style="display: inline-block; position: relative; width: 1.985em; height: 0px;"><span style="position: absolute; clip: rect(1.612em 1000em 2.623em -0.461em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-3399" style="font-family: MathJax_Math; font-style: italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; clip: rect(1.655em 1000em 2.69em -0.425em); top: -2.871em; left: 0.996em;"><span class="texatom" id="MathJax-Span-3400"><span class="mrow" id="MathJax-Span-3401"><span class="mo" id="MathJax-Span-3402" style="font-size: 70.7%; font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-3403" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">l</span><span class="mo" id="MathJax-Span-3404" style="font-size: 70.7%; font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span><span style="position: absolute; clip: rect(1.633em 1000em 2.604em -0.453em); top: -1.961em; left: 0.872em;"><span class="texatom" id="MathJax-Span-3405"><span class="mrow" id="MathJax-Span-3406"><span class="mi" id="MathJax-Span-3407" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.042em;"></span></span><span class="mi" id="MathJax-Span-3408" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">r</span><span class="mi" id="MathJax-Span-3409" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">c</span></span></span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.186em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 2.001em; vertical-align: -0.651em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-215">H^{(l)}_{frc}</script></span>都有着一些元素: <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-216-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-3410" style="width: 25.483em; display: inline-block;"><span style="display: inline-block; position: relative; width: 20.874em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.462em 1000em 3.408em -0.427em); top: -2.678em; left: 0em;"><span class="mrow" id="MathJax-Span-3411"><span class="mo" id="MathJax-Span-3412" style="font-family: MathJax_Main;">{</span><span class="msubsup" id="MathJax-Span-3413"><span style="display: inline-block; position: relative; width: 2.486em; height: 0px;"><span style="position: absolute; clip: rect(1.615em 1000em 2.623em -0.461em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-3414" style="font-family: MathJax_Math; font-style: italic;">F<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.106em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; clip: rect(1.655em 1000em 2.69em -0.425em); top: -2.871em; left: 0.847em;"><span class="texatom" id="MathJax-Span-3415"><span class="mrow" id="MathJax-Span-3416"><span class="mo" id="MathJax-Span-3417" style="font-size: 70.7%; font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-3418" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">l</span><span class="mo" id="MathJax-Span-3419" style="font-size: 70.7%; font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span><span style="position: absolute; clip: rect(3.24em 1000em 4.298em -0.453em); top: -3.568em; left: 0.659em;"><span class="texatom" id="MathJax-Span-3420"><span class="mrow" id="MathJax-Span-3421"><span class="msup" id="MathJax-Span-3422"><span style="display: inline-block; position: relative; width: 0.662em; height: 0px;"><span style="position: absolute; clip: rect(1.633em 1000em 2.604em -0.453em); top: -2.295em; left: 0em;"><span class="mi" id="MathJax-Span-3423" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.042em;"></span></span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span><span style="position: absolute; top: -2.491em; left: 0.445em;"><span class="mo" id="MathJax-Span-3424" style="font-size: 50%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 2.186em;"></span></span></span></span><span class="msup" id="MathJax-Span-3425"><span style="display: inline-block; position: relative; width: 0.545em; height: 0px;"><span style="position: absolute; clip: rect(1.819em 1000em 2.467em -0.477em); top: -2.295em; left: 0em;"><span class="mi" id="MathJax-Span-3426" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">r</span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span><span style="position: absolute; top: -2.39em; left: 0.328em;"><span class="mo" id="MathJax-Span-3427" style="font-size: 50%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 2.186em;"></span></span></span></span><span class="msup" id="MathJax-Span-3428"><span style="display: inline-block; position: relative; width: 0.545em; height: 0px;"><span style="position: absolute; clip: rect(1.819em 1000em 2.467em -0.468em); top: -2.295em; left: 0em;"><span class="mi" id="MathJax-Span-3429" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">c</span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span><span style="position: absolute; top: -2.39em; left: 0.328em;"><span class="mo" id="MathJax-Span-3430" style="font-size: 50%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 2.186em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.989em;"></span></span></span></span><span class="mo" id="MathJax-Span-3431" style="font-family: MathJax_Main; padding-left: 0.278em;">:</span><span class="texatom" id="MathJax-Span-3432" style="padding-left: 0.278em;"><span class="mrow" id="MathJax-Span-3433"><span class="mo" id="MathJax-Span-3434" style="font-family: MathJax_Main;">|</span></span></span><span class="msup" id="MathJax-Span-3435"><span style="display: inline-block; position: relative; width: 0.785em; height: 0px;"><span style="position: absolute; clip: rect(1.853em 1000em 2.634em -0.471em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-3436" style="font-family: MathJax_Math; font-style: italic;">r</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.713em; left: 0.492em;"><span class="mo" id="MathJax-Span-3437" style="font-size: 70.7%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span></span></span><span class="mo" id="MathJax-Span-3438" style="font-family: MathJax_Main; padding-left: 0.222em;">−</span><span class="mi" id="MathJax-Span-3439" style="font-family: MathJax_Math; font-style: italic; padding-left: 0.222em;">r</span><span class="texatom" id="MathJax-Span-3440"><span class="mrow" id="MathJax-Span-3441"><span class="mo" id="MathJax-Span-3442" style="font-family: MathJax_Main;">|</span></span></span><span class="mo" id="MathJax-Span-3443" style="font-family: MathJax_Main; padding-left: 0.278em;">&lt;</span><span class="mi" id="MathJax-Span-3444" style="font-family: MathJax_Math; font-style: italic; padding-left: 0.278em;">v</span><span class="mi" id="MathJax-Span-3445" style="font-family: MathJax_Math; font-style: italic;">p</span><span class="msubsup" id="MathJax-Span-3446"><span style="display: inline-block; position: relative; width: 0.785em; height: 0px;"><span style="position: absolute; clip: rect(1.853em 1000em 2.633em -0.439em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-3447" style="font-family: MathJax_Math; font-style: italic;">s</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.658em; left: 0.492em;"><span class="mi" id="MathJax-Span-3448" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">l</span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span></span><span class="mo" id="MathJax-Span-3449" style="font-family: MathJax_Main;">,</span><span class="texatom" id="MathJax-Span-3450" style="padding-left: 0.167em;"><span class="mrow" id="MathJax-Span-3451"><span class="mo" id="MathJax-Span-3452" style="font-family: MathJax_Main;">|</span></span></span><span class="msup" id="MathJax-Span-3453"><span style="display: inline-block; position: relative; width: 0.731em; height: 0px;"><span style="position: absolute; clip: rect(1.853em 1000em 2.634em -0.458em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-3454" style="font-family: MathJax_Math; font-style: italic;">c</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.713em; left: 0.437em;"><span class="mo" id="MathJax-Span-3455" style="font-size: 70.7%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span></span></span><span class="mo" id="MathJax-Span-3456" style="font-family: MathJax_Main; padding-left: 0.222em;">−</span><span class="mi" id="MathJax-Span-3457" style="font-family: MathJax_Math; font-style: italic; padding-left: 0.222em;">c</span><span class="texatom" id="MathJax-Span-3458"><span class="mrow" id="MathJax-Span-3459"><span class="mo" id="MathJax-Span-3460" style="font-family: MathJax_Main;">|</span></span></span><span class="mo" id="MathJax-Span-3461" style="font-family: MathJax_Main; padding-left: 0.278em;">&lt;</span><span class="mi" id="MathJax-Span-3462" style="font-family: MathJax_Math; font-style: italic; padding-left: 0.278em;">h</span><span class="mi" id="MathJax-Span-3463" style="font-family: MathJax_Math; font-style: italic;">p</span><span class="msubsup" id="MathJax-Span-3464"><span style="display: inline-block; position: relative; width: 0.785em; height: 0px;"><span style="position: absolute; clip: rect(1.853em 1000em 2.633em -0.439em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-3465" style="font-family: MathJax_Math; font-style: italic;">s</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.658em; left: 0.492em;"><span class="mi" id="MathJax-Span-3466" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">l</span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span></span><span class="mo" id="MathJax-Span-3467" style="font-family: MathJax_Main;">,</span><span class="msup" id="MathJax-Span-3468" style="padding-left: 0.167em;"><span style="display: inline-block; position: relative; width: 0.963em; height: 0px;"><span style="position: absolute; clip: rect(1.59em 1000em 2.828em -0.437em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-3469" style="font-family: MathJax_Math; font-style: italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.06em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.782em; left: 0.669em;"><span class="mo" id="MathJax-Span-3470" style="font-size: 70.7%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span></span></span><span class="texatom" id="MathJax-Span-3471"><span class="mrow" id="MathJax-Span-3472"><span class="mo" id="MathJax-Span-3473"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 82%; font-style: normal; font-weight: normal;">为</span></span></span></span><span class="texatom" id="MathJax-Span-3474"><span class="mrow" id="MathJax-Span-3475"><span class="mo" id="MathJax-Span-3476"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 82%; font-style: normal; font-weight: normal;">常</span></span></span></span><span class="texatom" id="MathJax-Span-3477"><span class="mrow" id="MathJax-Span-3478"><span class="mo" id="MathJax-Span-3479"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 82%; font-style: normal; font-weight: normal;">量</span></span></span></span><span class="mo" id="MathJax-Span-3480" style="font-family: MathJax_Main;">}</span></span><span style="display: inline-block; width: 0px; height: 2.678em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 2.107em; vertical-align: -0.757em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-216">\{F^{(l)}_{f'r'c'}: |r'-r| < vps^l, |c'-c| < hps^l, f'为常量 \}</script></span>，其中<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-217-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-3481" style="width: 2.217em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.803em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.441em 1000em 2.817em -0.471em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-3482"><span class="mi" id="MathJax-Span-3483" style="font-family: MathJax_Math; font-style: italic;">v</span><span class="mi" id="MathJax-Span-3484" style="font-family: MathJax_Math; font-style: italic;">p</span><span class="msubsup" id="MathJax-Span-3485"><span style="display: inline-block; position: relative; width: 0.785em; height: 0px;"><span style="position: absolute; clip: rect(1.853em 1000em 2.633em -0.439em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-3486" style="font-family: MathJax_Math; font-style: italic;">s</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.658em; left: 0.492em;"><span class="mi" id="MathJax-Span-3487" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">l</span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.411em; vertical-align: -0.303em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-217">vps^l</script></span>和<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-218-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-3488" style="width: 2.35em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.913em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.441em 1000em 2.817em -0.444em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-3489"><span class="mi" id="MathJax-Span-3490" style="font-family: MathJax_Math; font-style: italic;">h</span><span class="mi" id="MathJax-Span-3491" style="font-family: MathJax_Math; font-style: italic;">p</span><span class="msubsup" id="MathJax-Span-3492"><span style="display: inline-block; position: relative; width: 0.785em; height: 0px;"><span style="position: absolute; clip: rect(1.853em 1000em 2.633em -0.439em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-3493" style="font-family: MathJax_Math; font-style: italic;">s</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.658em; left: 0.492em;"><span class="mi" id="MathJax-Span-3494" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">l</span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.411em; vertical-align: -0.303em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-218">hps^l</script></span>分别是垂直pool和水平pool的形状, <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-219-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-3495" style="width: 1.217em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.984em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.194em 1000em 2.555em -0.437em); top: -2.186em; left: 0em;"><span class="mrow" id="MathJax-Span-3496"><span class="msup" id="MathJax-Span-3497"><span style="display: inline-block; position: relative; width: 0.963em; height: 0px;"><span style="position: absolute; clip: rect(1.59em 1000em 2.828em -0.437em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-3498" style="font-family: MathJax_Math; font-style: italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.06em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.782em; left: 0.669em;"><span class="mo" id="MathJax-Span-3499" style="font-size: 70.7%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.186em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.394em; vertical-align: -0.317em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-219">f'</script></span>是具有局部平移能力的pool变量<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-220-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-3500" style="width: 2.483em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.022em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.121em 1000em 2.771em -0.461em); top: -2.186em; left: 0em;"><span class="mrow" id="MathJax-Span-3501"><span class="msubsup" id="MathJax-Span-3502"><span style="display: inline-block; position: relative; width: 1.985em; height: 0px;"><span style="position: absolute; clip: rect(1.612em 1000em 2.623em -0.461em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-3503" style="font-family: MathJax_Math; font-style: italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; clip: rect(1.64em 1000em 2.467em -0.465em); top: -2.705em; left: 0.996em;"><span class="texatom" id="MathJax-Span-3504"><span class="mrow" id="MathJax-Span-3505"><span class="mi" id="MathJax-Span-3506" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">l</span></span></span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span><span style="position: absolute; clip: rect(1.633em 1000em 2.604em -0.453em); top: -2.019em; left: 0.872em;"><span class="texatom" id="MathJax-Span-3507"><span class="mrow" id="MathJax-Span-3508"><span class="mi" id="MathJax-Span-3509" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.042em;"></span></span><span class="mi" id="MathJax-Span-3510" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">r</span><span class="mi" id="MathJax-Span-3511" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">c</span></span></span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.186em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.746em; vertical-align: -0.581em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-220">H^{l}_{frc}</script></span>所赋予的特征。通常会使用平方pool，我们使用一个单一变量来定义其高度和宽度:</p><p><span class="MathJax_Preview"></span></p><div class="MathJax_Display" role="textbox" aria-readonly="true" style="text-align: center;"><span class="MathJax" id="MathJax-Element-221-Frame"><nobr><span class="math" id="MathJax-Span-3512" style="width: 20.883em; display: inline-block;"><span style="display: inline-block; position: relative; width: 17.104em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.61em 1000em 3.036em -0.531em); top: -2.678em; left: 0em;"><span class="mrow" id="MathJax-Span-3513"><span class="mi" id="MathJax-Span-3514" style="font-family: MathJax_Math; font-style: italic;">p</span><span class="mi" id="MathJax-Span-3515" style="font-family: MathJax_Math; font-style: italic;">o</span><span class="mi" id="MathJax-Span-3516" style="font-family: MathJax_Math; font-style: italic;">o</span><span class="mi" id="MathJax-Span-3517" style="font-family: MathJax_Math; font-style: italic;">l</span><span class="mspace" id="MathJax-Span-3518" style="height: 0em; vertical-align: 0em; width: 0.413em; display: inline-block; overflow: hidden;"></span><span class="mi" id="MathJax-Span-3519" style="font-family: MathJax_Math; font-style: italic;">s</span><span class="mi" id="MathJax-Span-3520" style="font-family: MathJax_Math; font-style: italic;">i</span><span class="mi" id="MathJax-Span-3521" style="font-family: MathJax_Math; font-style: italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-3522" style="font-family: MathJax_Math; font-style: italic;">e</span><span class="mo" id="MathJax-Span-3523" style="font-family: MathJax_Main; padding-left: 0.278em;">=</span><span class="mn" id="MathJax-Span-3524" style="font-family: MathJax_Main; padding-left: 0.278em;">2</span><span class="mo" id="MathJax-Span-3525" style="font-family: MathJax_Main; padding-left: 0.222em;">×</span><span class="mi" id="MathJax-Span-3526" style="font-family: MathJax_Math; font-style: italic; padding-left: 0.222em;">h</span><span class="mi" id="MathJax-Span-3527" style="font-family: MathJax_Math; font-style: italic;">p</span><span class="msubsup" id="MathJax-Span-3528"><span style="display: inline-block; position: relative; width: 0.785em; height: 0px;"><span style="position: absolute; clip: rect(1.853em 1000em 2.633em -0.439em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-3529" style="font-family: MathJax_Math; font-style: italic;">s</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.708em; left: 0.492em;"><span class="mi" id="MathJax-Span-3530" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">l</span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span></span><span class="mo" id="MathJax-Span-3531" style="font-family: MathJax_Main; padding-left: 0.222em;">−</span><span class="mn" id="MathJax-Span-3532" style="font-family: MathJax_Main; padding-left: 0.222em;">1</span><span class="mo" id="MathJax-Span-3533" style="font-family: MathJax_Main; padding-left: 0.278em;">=</span><span class="mn" id="MathJax-Span-3534" style="font-family: MathJax_Main; padding-left: 0.278em;">2</span><span class="mo" id="MathJax-Span-3535" style="font-family: MathJax_Main; padding-left: 0.222em;">×</span><span class="mi" id="MathJax-Span-3536" style="font-family: MathJax_Math; font-style: italic; padding-left: 0.222em;">v</span><span class="mi" id="MathJax-Span-3537" style="font-family: MathJax_Math; font-style: italic;">p</span><span class="msubsup" id="MathJax-Span-3538"><span style="display: inline-block; position: relative; width: 0.785em; height: 0px;"><span style="position: absolute; clip: rect(1.853em 1000em 2.633em -0.439em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-3539" style="font-family: MathJax_Math; font-style: italic;">s</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.708em; left: 0.492em;"><span class="mi" id="MathJax-Span-3540" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">l</span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span></span><span class="mo" id="MathJax-Span-3541" style="font-family: MathJax_Main; padding-left: 0.222em;">−</span><span class="mn" id="MathJax-Span-3542" style="font-family: MathJax_Main; padding-left: 0.222em;">1</span></span><span style="display: inline-block; width: 0px; height: 2.678em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.472em; vertical-align: -0.303em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-221">
pool\hspace{0.2cm}size=2\times hps^l-1=2\times vps^l-1</script><p></p><p>一个pool变量可以是<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-222-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-3543" style="width: 2.817em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.295em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.591em 1000em 2.645em -0.442em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-3544"><span class="mi" id="MathJax-Span-3545" style="font-family: MathJax_Math; font-style: italic;">O</span><span class="mi" id="MathJax-Span-3546" style="font-family: MathJax_Math; font-style: italic;">F<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.106em;"></span></span><span class="mi" id="MathJax-Span-3547" style="font-family: MathJax_Math; font-style: italic;">F<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.106em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.019em; vertical-align: -0.094em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-222">OFF</script></span>状态或者激活让你和一个feature变量，该变量的下标为<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-223-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-3548" style="width: 1.217em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.984em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.194em 1000em 2.555em -0.437em); top: -2.186em; left: 0em;"><span class="mrow" id="MathJax-Span-3549"><span class="msup" id="MathJax-Span-3550"><span style="display: inline-block; position: relative; width: 0.963em; height: 0px;"><span style="position: absolute; clip: rect(1.59em 1000em 2.828em -0.437em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-3551" style="font-family: MathJax_Math; font-style: italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.06em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.782em; left: 0.669em;"><span class="mo" id="MathJax-Span-3552" style="font-size: 70.7%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.186em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.394em; vertical-align: -0.317em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-223">f'</script></span>并且在位置<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-224-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-3553" style="width: 2.617em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.131em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.764em 1000em 3.092em -0.398em); top: -2.678em; left: 0em;"><span class="mrow" id="MathJax-Span-3554"><span class="mo" id="MathJax-Span-3555" style="font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-3556" style="font-family: MathJax_Math; font-style: italic;">r</span><span class="mo" id="MathJax-Span-3557" style="font-family: MathJax_Main;">,</span><span class="mi" id="MathJax-Span-3558" style="font-family: MathJax_Math; font-style: italic; padding-left: 0.167em;">c</span><span class="mo" id="MathJax-Span-3559" style="font-family: MathJax_Main;">)</span></span><span style="display: inline-block; width: 0px; height: 2.678em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.353em; vertical-align: -0.372em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-224">(r,c)</script></span>附近。注意一个pool一次只能激活一个pool member。</p><p>一旦一个pooling layer和紧随其下的feature layer之间的连接被确定(如平移pooling)，每一个特征变量的条件概率可以简化为：</p><p><span class="MathJax_Preview"></span></p><div class="MathJax_Display" role="textbox" aria-readonly="true" style="text-align: center;"><span class="MathJax" id="MathJax-Element-225-Frame"><nobr><span class="math" id="MathJax-Span-3560" style="width: 35.083em; display: inline-block;"><span style="display: inline-block; position: relative; width: 28.743em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(2.29em 1000em 5.735em -0.531em); top: -4.262em; left: 0em;"><span class="mrow" id="MathJax-Span-3561"><span class="mi" id="MathJax-Span-3562" style="font-family: MathJax_Math; font-style: italic;">p</span><span class="mo" id="MathJax-Span-3563" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-3564"><span style="display: inline-block; position: relative; width: 2.486em; height: 0px;"><span style="position: absolute; clip: rect(1.615em 1000em 2.623em -0.461em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-3565" style="font-family: MathJax_Math; font-style: italic;">F<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.106em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; clip: rect(1.655em 1000em 2.69em -0.425em); top: -2.871em; left: 0.847em;"><span class="texatom" id="MathJax-Span-3566"><span class="mrow" id="MathJax-Span-3567"><span class="mo" id="MathJax-Span-3568" style="font-size: 70.7%; font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-3569" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">l</span><span class="mo" id="MathJax-Span-3570" style="font-size: 70.7%; font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span><span style="position: absolute; clip: rect(3.24em 1000em 4.298em -0.453em); top: -3.568em; left: 0.659em;"><span class="texatom" id="MathJax-Span-3571"><span class="mrow" id="MathJax-Span-3572"><span class="msup" id="MathJax-Span-3573"><span style="display: inline-block; position: relative; width: 0.662em; height: 0px;"><span style="position: absolute; clip: rect(1.633em 1000em 2.604em -0.453em); top: -2.295em; left: 0em;"><span class="mi" id="MathJax-Span-3574" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.042em;"></span></span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span><span style="position: absolute; top: -2.491em; left: 0.445em;"><span class="mo" id="MathJax-Span-3575" style="font-size: 50%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 2.186em;"></span></span></span></span><span class="msup" id="MathJax-Span-3576"><span style="display: inline-block; position: relative; width: 0.545em; height: 0px;"><span style="position: absolute; clip: rect(1.819em 1000em 2.467em -0.477em); top: -2.295em; left: 0em;"><span class="mi" id="MathJax-Span-3577" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">r</span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span><span style="position: absolute; top: -2.39em; left: 0.328em;"><span class="mo" id="MathJax-Span-3578" style="font-size: 50%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 2.186em;"></span></span></span></span><span class="msup" id="MathJax-Span-3579"><span style="display: inline-block; position: relative; width: 0.545em; height: 0px;"><span style="position: absolute; clip: rect(1.819em 1000em 2.467em -0.468em); top: -2.295em; left: 0em;"><span class="mi" id="MathJax-Span-3580" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">c</span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span><span style="position: absolute; top: -2.39em; left: 0.328em;"><span class="mo" id="MathJax-Span-3581" style="font-size: 50%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 2.186em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.989em;"></span></span></span></span><span class="mo" id="MathJax-Span-3582" style="font-family: MathJax_Main; padding-left: 0.278em;">=</span><span class="mn" id="MathJax-Span-3583" style="font-family: MathJax_Main; padding-left: 0.278em;">1</span><span class="texatom" id="MathJax-Span-3584"><span class="mrow" id="MathJax-Span-3585"><span class="mo" id="MathJax-Span-3586" style="font-family: MathJax_Main;">|</span></span></span><span class="msubsup" id="MathJax-Span-3587"><span style="display: inline-block; position: relative; width: 1.836em; height: 0px;"><span style="position: absolute; clip: rect(1.612em 1000em 2.623em -0.461em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-3588" style="font-family: MathJax_Math; font-style: italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.763em; left: 0.996em;"><span class="texatom" id="MathJax-Span-3589"><span class="mrow" id="MathJax-Span-3590"><span class="mo" id="MathJax-Span-3591" style="font-size: 70.7%; font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-3592" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">l</span><span class="mo" id="MathJax-Span-3593" style="font-size: 70.7%; font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span></span></span><span class="mo" id="MathJax-Span-3594" style="font-family: MathJax_Main;">)</span><span class="mo" id="MathJax-Span-3595" style="font-family: MathJax_Main; padding-left: 0.278em;">=</span><span class="mrow" id="MathJax-Span-3596" style="padding-left: 0.278em;"><span class="mo" id="MathJax-Span-3597" style="vertical-align: 1.809em; padding-left: 0.278em;"><span style="display: inline-block; position: relative; width: 0.889em; height: 0px;"><span style="position: absolute; font-family: MathJax_Size4; top: -3.09em; left: 0em;">⎧<span style="display: inline-block; width: 0px; height: 3.989em;"></span></span><span style="position: absolute; font-family: MathJax_Size4; top: -1.771em; left: 0em;">⎩<span style="display: inline-block; width: 0px; height: 3.989em;"></span></span><span style="position: absolute; font-family: MathJax_Size4; top: -2.18em; left: 0em;">⎨<span style="display: inline-block; width: 0px; height: 3.989em;"></span></span></span></span><span class="mtable" id="MathJax-Span-3598" style="padding-right: 0.167em; padding-left: 0.167em;"><span style="display: inline-block; position: relative; width: 18.197em; height: 0px;"><span style="position: absolute; clip: rect(3.068em 1000em 5.262em -0.492em); top: -3.989em; left: 0em;"><span style="display: inline-block; position: relative; width: 0em; height: 0px;"><span style="position: absolute; clip: rect(3.825em 1000em 4.153em -0.492em); top: -4.746em; right: 0em;"><span class="mtd" id="MathJax-Span-3599"><span class="mrow" id="MathJax-Span-3600"></span></span><span style="display: inline-block; width: 0px; height: 3.989em;"></span></span><span style="position: absolute; clip: rect(3.825em 1000em 4.153em -0.492em); top: -2.88em; right: 0em;"><span class="mtd" id="MathJax-Span-3675"><span class="mrow" id="MathJax-Span-3676"></span></span><span style="display: inline-block; width: 0px; height: 3.989em;"></span></span></span><span style="display: inline-block; width: 0px; height: 3.989em;"></span></span><span style="position: absolute; clip: rect(2.126em 1000em 5.571em -0.453em); top: -4.098em; left: 0em;"><span style="display: inline-block; position: relative; width: 18.197em; height: 0px;"><span style="position: absolute; clip: rect(1.462em 1000em 3.408em -0.409em); top: -3.435em; left: 0em;"><span class="mtd" id="MathJax-Span-3601"><span class="mrow" id="MathJax-Span-3602"><span class="mn" id="MathJax-Span-3603" style="font-family: MathJax_Main;">1</span><span class="mspace" id="MathJax-Span-3604" style="height: 0em; vertical-align: 0em; width: 1.033em; display: inline-block; overflow: hidden;"></span><span class="texatom" id="MathJax-Span-3605"><span class="mrow" id="MathJax-Span-3606"><span class="mo" id="MathJax-Span-3607"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 82%; font-style: normal; font-weight: normal;">如</span></span></span></span><span class="texatom" id="MathJax-Span-3608"><span class="mrow" id="MathJax-Span-3609"><span class="mo" id="MathJax-Span-3610"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 82%; font-style: normal; font-weight: normal;">果</span></span></span></span><span class="msubsup" id="MathJax-Span-3611"><span style="display: inline-block; position: relative; width: 1.836em; height: 0px;"><span style="position: absolute; clip: rect(1.612em 1000em 2.623em -0.461em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-3612" style="font-family: MathJax_Math; font-style: italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.763em; left: 0.996em;"><span class="texatom" id="MathJax-Span-3613"><span class="mrow" id="MathJax-Span-3614"><span class="mo" id="MathJax-Span-3615" style="font-size: 70.7%; font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-3616" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">l</span><span class="mo" id="MathJax-Span-3617" style="font-size: 70.7%; font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span></span></span><span class="texatom" id="MathJax-Span-3618"><span class="mrow" id="MathJax-Span-3619"><span class="mo" id="MathJax-Span-3620"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 82%; font-style: normal; font-weight: normal;">中</span></span></span></span><span class="texatom" id="MathJax-Span-3621"><span class="mrow" id="MathJax-Span-3622"><span class="mo" id="MathJax-Span-3623"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 82%; font-style: normal; font-weight: normal;">的</span></span></span></span><span class="texatom" id="MathJax-Span-3624"><span class="mrow" id="MathJax-Span-3625"><span class="mo" id="MathJax-Span-3626"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 82%; font-style: normal; font-weight: normal;">任</span></span></span></span><span class="texatom" id="MathJax-Span-3627"><span class="mrow" id="MathJax-Span-3628"><span class="mo" id="MathJax-Span-3629"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 82%; font-style: normal; font-weight: normal;">一</span></span></span></span><span class="texatom" id="MathJax-Span-3630"><span class="mrow" id="MathJax-Span-3631"><span class="mo" id="MathJax-Span-3632"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 82%; font-style: normal; font-weight: normal;">变</span></span></span></span><span class="texatom" id="MathJax-Span-3633"><span class="mrow" id="MathJax-Span-3634"><span class="mo" id="MathJax-Span-3635"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 82%; font-style: normal; font-weight: normal;">量</span></span></span></span><span class="texatom" id="MathJax-Span-3636"><span class="mrow" id="MathJax-Span-3637"><span class="mo" id="MathJax-Span-3638"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 82%; font-style: normal; font-weight: normal;">的</span></span></span></span><span class="texatom" id="MathJax-Span-3639"><span class="mrow" id="MathJax-Span-3640"><span class="mo" id="MathJax-Span-3641"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 82%; font-style: normal; font-weight: normal;">状</span></span></span></span><span class="texatom" id="MathJax-Span-3642"><span class="mrow" id="MathJax-Span-3643"><span class="mo" id="MathJax-Span-3644"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 82%; font-style: normal; font-weight: normal;">态</span></span></span></span><span class="texatom" id="MathJax-Span-3645"><span class="mrow" id="MathJax-Span-3646"><span class="mo" id="MathJax-Span-3647"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 82%; font-style: normal; font-weight: normal;">和</span></span></span></span><span class="msubsup" id="MathJax-Span-3648"><span style="display: inline-block; position: relative; width: 2.486em; height: 0px;"><span style="position: absolute; clip: rect(1.615em 1000em 2.623em -0.461em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-3649" style="font-family: MathJax_Math; font-style: italic;">F<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.106em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; clip: rect(1.655em 1000em 2.69em -0.425em); top: -2.871em; left: 0.847em;"><span class="texatom" id="MathJax-Span-3650"><span class="mrow" id="MathJax-Span-3651"><span class="mo" id="MathJax-Span-3652" style="font-size: 70.7%; font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-3653" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">l</span><span class="mo" id="MathJax-Span-3654" style="font-size: 70.7%; font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span><span style="position: absolute; clip: rect(3.24em 1000em 4.298em -0.453em); top: -3.568em; left: 0.659em;"><span class="texatom" id="MathJax-Span-3655"><span class="mrow" id="MathJax-Span-3656"><span class="msup" id="MathJax-Span-3657"><span style="display: inline-block; position: relative; width: 0.662em; height: 0px;"><span style="position: absolute; clip: rect(1.633em 1000em 2.604em -0.453em); top: -2.295em; left: 0em;"><span class="mi" id="MathJax-Span-3658" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.042em;"></span></span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span><span style="position: absolute; top: -2.491em; left: 0.445em;"><span class="mo" id="MathJax-Span-3659" style="font-size: 50%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 2.186em;"></span></span></span></span><span class="msup" id="MathJax-Span-3660"><span style="display: inline-block; position: relative; width: 0.545em; height: 0px;"><span style="position: absolute; clip: rect(1.819em 1000em 2.467em -0.477em); top: -2.295em; left: 0em;"><span class="mi" id="MathJax-Span-3661" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">r</span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span><span style="position: absolute; top: -2.39em; left: 0.328em;"><span class="mo" id="MathJax-Span-3662" style="font-size: 50%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 2.186em;"></span></span></span></span><span class="msup" id="MathJax-Span-3663"><span style="display: inline-block; position: relative; width: 0.545em; height: 0px;"><span style="position: absolute; clip: rect(1.819em 1000em 2.467em -0.468em); top: -2.295em; left: 0em;"><span class="mi" id="MathJax-Span-3664" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">c</span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span><span style="position: absolute; top: -2.39em; left: 0.328em;"><span class="mo" id="MathJax-Span-3665" style="font-size: 50%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 2.186em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.989em;"></span></span></span></span><span class="texatom" id="MathJax-Span-3666"><span class="mrow" id="MathJax-Span-3667"><span class="mo" id="MathJax-Span-3668"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 82%; font-style: normal; font-weight: normal;">有</span></span></span></span><span class="texatom" id="MathJax-Span-3669"><span class="mrow" id="MathJax-Span-3670"><span class="mo" id="MathJax-Span-3671"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 82%; font-style: normal; font-weight: normal;">关</span></span></span></span><span class="texatom" id="MathJax-Span-3672"><span class="mrow" id="MathJax-Span-3673"><span class="mo" id="MathJax-Span-3674"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 82%; font-style: normal; font-weight: normal;">联</span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.678em;"></span></span><span style="position: absolute; clip: rect(1.714em 1000em 3.042em -0.453em); top: -1.569em; left: 0em;"><span class="mtd" id="MathJax-Span-3677"><span class="mrow" id="MathJax-Span-3678"><span class="mn" id="MathJax-Span-3679" style="font-family: MathJax_Main;">0</span><span class="mspace" id="MathJax-Span-3680" style="height: 0em; vertical-align: 0em; width: 1.033em; display: inline-block; overflow: hidden;"></span><span class="texatom" id="MathJax-Span-3681"><span class="mrow" id="MathJax-Span-3682"><span class="mo" id="MathJax-Span-3683"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 82%; font-style: normal; font-weight: normal;">其</span></span></span></span><span class="texatom" id="MathJax-Span-3684"><span class="mrow" id="MathJax-Span-3685"><span class="mo" id="MathJax-Span-3686"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 82%; font-style: normal; font-weight: normal;">他</span></span></span></span><span class="texatom" id="MathJax-Span-3687"><span class="mrow" id="MathJax-Span-3688"><span class="mo" id="MathJax-Span-3689"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 82%; font-style: normal; font-weight: normal;">情</span></span></span></span><span class="texatom" id="MathJax-Span-3690"><span class="mrow" id="MathJax-Span-3691"><span class="mo" id="MathJax-Span-3692"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 82%; font-style: normal; font-weight: normal;">况</span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.678em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.098em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.262em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 3.937em; vertical-align: -1.663em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-225">
p(F^{(l)}_{f'r'c'}=1|H^{(l)})=
\begin{equation}
\left\{
\begin{aligned}
&1 \hspace{0.5cm}如果H^{(l)}中的任一变量的状态和F^{(l)}_{f'r'c'}有关联\\
&0 \hspace{0.5cm}其他情况\\
\end{aligned}
\right.
\end{equation}</script><p></p><p>也就是说，给定<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-226-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-3693" style="width: 2.283em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.858em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.082em 1000em 2.35em -0.461em); top: -2.186em; left: 0em;"><span class="mrow" id="MathJax-Span-3694"><span class="msubsup" id="MathJax-Span-3695"><span style="display: inline-block; position: relative; width: 1.836em; height: 0px;"><span style="position: absolute; clip: rect(1.612em 1000em 2.623em -0.461em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-3696" style="font-family: MathJax_Math; font-style: italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.76em; left: 0.996em;"><span class="texatom" id="MathJax-Span-3697"><span class="mrow" id="MathJax-Span-3698"><span class="mo" id="MathJax-Span-3699" style="font-size: 70.7%; font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-3700" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">l</span><span class="mo" id="MathJax-Span-3701" style="font-size: 70.7%; font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.186em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.281em; vertical-align: -0.067em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-226">H^{(l)}</script></span>，<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-227-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-3702" style="width: 2.083em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.694em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.085em 1000em 2.35em -0.461em); top: -2.186em; left: 0em;"><span class="mrow" id="MathJax-Span-3703"><span class="msubsup" id="MathJax-Span-3704"><span style="display: inline-block; position: relative; width: 1.687em; height: 0px;"><span style="position: absolute; clip: rect(1.615em 1000em 2.623em -0.461em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-3705" style="font-family: MathJax_Math; font-style: italic;">F<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.106em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.757em; left: 0.847em;"><span class="texatom" id="MathJax-Span-3706"><span class="mrow" id="MathJax-Span-3707"><span class="mo" id="MathJax-Span-3708" style="font-size: 70.7%; font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-3709" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">l</span><span class="mo" id="MathJax-Span-3710" style="font-size: 70.7%; font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.186em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.277em; vertical-align: -0.067em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-227">F^{(l)}</script></span>是确定的。有多种<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-228-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-3711" style="width: 2.283em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.858em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.082em 1000em 2.35em -0.461em); top: -2.186em; left: 0em;"><span class="mrow" id="MathJax-Span-3712"><span class="msubsup" id="MathJax-Span-3713"><span style="display: inline-block; position: relative; width: 1.836em; height: 0px;"><span style="position: absolute; clip: rect(1.612em 1000em 2.623em -0.461em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-3714" style="font-family: MathJax_Math; font-style: italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.76em; left: 0.996em;"><span class="texatom" id="MathJax-Span-3715"><span class="mrow" id="MathJax-Span-3716"><span class="mo" id="MathJax-Span-3717" style="font-size: 70.7%; font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-3718" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">l</span><span class="mo" id="MathJax-Span-3719" style="font-size: 70.7%; font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.186em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.281em; vertical-align: -0.067em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-228">H^{(l)}</script></span>能导致相同的<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-229-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-3720" style="width: 2.083em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.694em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.085em 1000em 2.35em -0.461em); top: -2.186em; left: 0em;"><span class="mrow" id="MathJax-Span-3721"><span class="msubsup" id="MathJax-Span-3722"><span style="display: inline-block; position: relative; width: 1.687em; height: 0px;"><span style="position: absolute; clip: rect(1.615em 1000em 2.623em -0.461em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-3723" style="font-family: MathJax_Math; font-style: italic;">F<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.106em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.757em; left: 0.847em;"><span class="texatom" id="MathJax-Span-3724"><span class="mrow" id="MathJax-Span-3725"><span class="mo" id="MathJax-Span-3726" style="font-size: 70.7%; font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-3727" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">l</span><span class="mo" id="MathJax-Span-3728" style="font-size: 70.7%; font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.186em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.277em; vertical-align: -0.067em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-229">F^{(l)}</script></span>，因此这种关系并不是双射(一对一)。</p><p>顶层特征<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-230-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-3729" style="width: 2.483em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.022em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.085em 1000em 2.35em -0.461em); top: -2.186em; left: 0em;"><span class="mrow" id="MathJax-Span-3730"><span class="msubsup" id="MathJax-Span-3731"><span style="display: inline-block; position: relative; width: 2.015em; height: 0px;"><span style="position: absolute; clip: rect(1.615em 1000em 2.623em -0.461em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-3732" style="font-family: MathJax_Math; font-style: italic;">F<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.106em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.757em; left: 0.847em;"><span class="texatom" id="MathJax-Span-3733"><span class="mrow" id="MathJax-Span-3734"><span class="mo" id="MathJax-Span-3735" style="font-size: 70.7%; font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-3736" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.032em;"></span></span><span class="mo" id="MathJax-Span-3737" style="font-size: 70.7%; font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.186em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.277em; vertical-align: -0.067em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-230">F^{(C)}</script></span>被假定是包含完整的对象的。在<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-231-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-3738" style="width: 2.483em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.022em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.085em 1000em 2.35em -0.461em); top: -2.186em; left: 0em;"><span class="mrow" id="MathJax-Span-3739"><span class="msubsup" id="MathJax-Span-3740"><span style="display: inline-block; position: relative; width: 2.015em; height: 0px;"><span style="position: absolute; clip: rect(1.615em 1000em 2.623em -0.461em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-3741" style="font-family: MathJax_Math; font-style: italic;">F<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.106em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.757em; left: 0.847em;"><span class="texatom" id="MathJax-Span-3742"><span class="mrow" id="MathJax-Span-3743"><span class="mo" id="MathJax-Span-3744" style="font-size: 70.7%; font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-3745" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.032em;"></span></span><span class="mo" id="MathJax-Span-3746" style="font-size: 70.7%; font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.186em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.277em; vertical-align: -0.067em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-231">F^{(C)}</script></span>，每一个channel表征不同类型的物体，该channle中的每一个位置<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-232-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-3747" style="width: 2.617em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.131em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.764em 1000em 3.092em -0.398em); top: -2.678em; left: 0em;"><span class="mrow" id="MathJax-Span-3748"><span class="mo" id="MathJax-Span-3749" style="font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-3750" style="font-family: MathJax_Math; font-style: italic;">r</span><span class="mo" id="MathJax-Span-3751" style="font-family: MathJax_Main;">,</span><span class="mi" id="MathJax-Span-3752" style="font-family: MathJax_Math; font-style: italic; padding-left: 0.167em;">c</span><span class="mo" id="MathJax-Span-3753" style="font-family: MathJax_Main;">)</span></span><span style="display: inline-block; width: 0px; height: 2.678em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.353em; vertical-align: -0.372em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-232">(r,c)</script></span>表征所生成对象的不同位置。</p><h3 id="2.3-池化层"><a name="2.3-池化层" href="#2.3-池化层"></a>2.3 池化层</h3><p>与特征层不同，池化层不是确定的,所以RCN模型图像生成中的所有变化都来自于池化层。</p><p>池化层<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-233-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-3754" style="width: 2.283em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.858em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.082em 1000em 2.35em -0.461em); top: -2.186em; left: 0em;"><span class="mrow" id="MathJax-Span-3755"><span class="msubsup" id="MathJax-Span-3756"><span style="display: inline-block; position: relative; width: 1.836em; height: 0px;"><span style="position: absolute; clip: rect(1.612em 1000em 2.623em -0.461em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-3757" style="font-family: MathJax_Math; font-style: italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.76em; left: 0.996em;"><span class="texatom" id="MathJax-Span-3758"><span class="mrow" id="MathJax-Span-3759"><span class="mo" id="MathJax-Span-3760" style="font-size: 70.7%; font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-3761" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">l</span><span class="mo" id="MathJax-Span-3762" style="font-size: 70.7%; font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.186em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.281em; vertical-align: -0.067em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-233">H^{(l)}</script></span>里面的每一个多元pool变量有多种状态, 其中一种是<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-234-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-3763" style="width: 2.817em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.295em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.591em 1000em 2.645em -0.442em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-3764"><span class="mi" id="MathJax-Span-3765" style="font-family: MathJax_Math; font-style: italic;">O</span><span class="mi" id="MathJax-Span-3766" style="font-family: MathJax_Math; font-style: italic;">F<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.106em;"></span></span><span class="mi" id="MathJax-Span-3767" style="font-family: MathJax_Math; font-style: italic;">F<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.106em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.019em; vertical-align: -0.094em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-234">OFF</script></span>,其他的都是特征层<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-235-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-3768" style="width: 2.083em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.694em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.085em 1000em 2.35em -0.461em); top: -2.186em; left: 0em;"><span class="mrow" id="MathJax-Span-3769"><span class="msubsup" id="MathJax-Span-3770"><span style="display: inline-block; position: relative; width: 1.687em; height: 0px;"><span style="position: absolute; clip: rect(1.615em 1000em 2.623em -0.461em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-3771" style="font-family: MathJax_Math; font-style: italic;">F<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.106em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.757em; left: 0.847em;"><span class="texatom" id="MathJax-Span-3772"><span class="mrow" id="MathJax-Span-3773"><span class="mo" id="MathJax-Span-3774" style="font-size: 70.7%; font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-3775" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">l</span><span class="mo" id="MathJax-Span-3776" style="font-size: 70.7%; font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.186em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.277em; vertical-align: -0.067em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-235">F^{(l)}</script></span>的特征变量，这些变量池化层里面的所有成员。可以将池中的成员看作是表示同一特征的轻微变化的不同替代。例如，一个平移池中的成员是一些特征，这些特征看起来完全一样，只是位置不同，这些不同的位置位于一定的半径内。</p><p>在分类特征之上还有一个隐藏的顶级pool层<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-236-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-3777" style="width: 2.683em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.186em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.082em 1000em 2.35em -0.461em); top: -2.186em; left: 0em;"><span class="mrow" id="MathJax-Span-3778"><span class="msubsup" id="MathJax-Span-3779"><span style="display: inline-block; position: relative; width: 2.164em; height: 0px;"><span style="position: absolute; clip: rect(1.612em 1000em 2.623em -0.461em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-3780" style="font-family: MathJax_Math; font-style: italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.76em; left: 0.996em;"><span class="texatom" id="MathJax-Span-3781"><span class="mrow" id="MathJax-Span-3782"><span class="mo" id="MathJax-Span-3783" style="font-size: 70.7%; font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-3784" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.032em;"></span></span><span class="mo" id="MathJax-Span-3785" style="font-size: 70.7%; font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.186em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.281em; vertical-align: -0.067em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-236">H^{(C)}</script></span>。该层有1个多元变量，该变量从不同的顶层feature中产生。通过使用横向连接，RCN的性能可以显著提高。我们首先考虑没有横向连接的情况，然后转到有横向连接上。</p><h4 id="2.3.1-没有横向连接的模型"><a name="2.3.1-没有横向连接的模型" href="#2.3.1-没有横向连接的模型"></a>2.3.1 没有横向连接的模型</h4><p>没有横向连接时, 对于每一个池化层,给定其上面一层, 每一个pool里面的状态相对于其他变量都是独立的,我们写作:</p><p><span class="MathJax_Preview"></span></p><div class="MathJax_Display" role="textbox" aria-readonly="true" style="text-align: center;"><span class="MathJax" id="MathJax-Element-237-Frame"><nobr><span class="math" id="MathJax-Span-3786" style="width: 34.883em; display: inline-block;"><span style="display: inline-block; position: relative; width: 28.579em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.462em 1000em 4.202em -0.466em); top: -2.678em; left: 0em;"><span class="mrow" id="MathJax-Span-3787"><span class="mi" id="MathJax-Span-3788" style="font-family: MathJax_Main;">log</span><span class="mo" id="MathJax-Span-3789"></span><span class="mi" id="MathJax-Span-3790" style="font-family: MathJax_Math; font-style: italic; padding-left: 0.167em;">p</span><span class="mo" id="MathJax-Span-3791" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-3792"><span style="display: inline-block; position: relative; width: 1.836em; height: 0px;"><span style="position: absolute; clip: rect(1.612em 1000em 2.623em -0.461em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-3793" style="font-family: MathJax_Math; font-style: italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.763em; left: 0.996em;"><span class="texatom" id="MathJax-Span-3794"><span class="mrow" id="MathJax-Span-3795"><span class="mo" id="MathJax-Span-3796" style="font-size: 70.7%; font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-3797" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">l</span><span class="mo" id="MathJax-Span-3798" style="font-size: 70.7%; font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span></span></span><span class="texatom" id="MathJax-Span-3799"><span class="mrow" id="MathJax-Span-3800"><span class="mo" id="MathJax-Span-3801" style="font-family: MathJax_Main;">|</span></span></span><span class="msubsup" id="MathJax-Span-3802"><span style="display: inline-block; position: relative; width: 2.616em; height: 0px;"><span style="position: absolute; clip: rect(1.615em 1000em 2.623em -0.461em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-3803" style="font-family: MathJax_Math; font-style: italic;">F<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.106em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.763em; left: 0.847em;"><span class="texatom" id="MathJax-Span-3804"><span class="mrow" id="MathJax-Span-3805"><span class="mo" id="MathJax-Span-3806" style="font-size: 70.7%; font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-3807" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">l</span><span class="mo" id="MathJax-Span-3808" style="font-size: 70.7%; font-family: MathJax_Main;">+</span><span class="mn" id="MathJax-Span-3809" style="font-size: 70.7%; font-family: MathJax_Main;">1</span><span class="mo" id="MathJax-Span-3810" style="font-size: 70.7%; font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span></span></span><span class="mo" id="MathJax-Span-3811" style="font-family: MathJax_Main;">)</span><span class="mo" id="MathJax-Span-3812" style="font-family: MathJax_Main; padding-left: 0.278em;">=</span><span class="munderover" id="MathJax-Span-3813" style="padding-left: 0.278em;"><span style="display: inline-block; position: relative; width: 1.475em; height: 0px;"><span style="position: absolute; clip: rect(2.657em 1000em 4.384em -0.437em); top: -3.77em; left: 0em;"><span class="mo" id="MathJax-Span-3814" style="font-family: MathJax_Size2; vertical-align: 0em;">∑</span><span style="display: inline-block; width: 0px; height: 3.77em;"></span></span><span style="position: absolute; clip: rect(1.633em 1000em 2.704em -0.453em); top: -1.18em; left: 0.219em;"><span class="texatom" id="MathJax-Span-3815"><span class="mrow" id="MathJax-Span-3816"><span class="mi" id="MathJax-Span-3817" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.042em;"></span></span><span class="mi" id="MathJax-Span-3818" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">r</span><span class="mi" id="MathJax-Span-3819" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">c</span></span></span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span></span><span class="mi" id="MathJax-Span-3820" style="font-family: MathJax_Main; padding-left: 0.167em;">log</span><span class="mo" id="MathJax-Span-3821"></span><span class="mi" id="MathJax-Span-3822" style="font-family: MathJax_Math; font-style: italic; padding-left: 0.167em;">p</span><span class="mo" id="MathJax-Span-3823" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-3824"><span style="display: inline-block; position: relative; width: 1.985em; height: 0px;"><span style="position: absolute; clip: rect(1.612em 1000em 2.623em -0.461em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-3825" style="font-family: MathJax_Math; font-style: italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; clip: rect(1.655em 1000em 2.69em -0.425em); top: -2.871em; left: 0.996em;"><span class="texatom" id="MathJax-Span-3826"><span class="mrow" id="MathJax-Span-3827"><span class="mo" id="MathJax-Span-3828" style="font-size: 70.7%; font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-3829" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">l</span><span class="mo" id="MathJax-Span-3830" style="font-size: 70.7%; font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span><span style="position: absolute; clip: rect(1.633em 1000em 2.604em -0.453em); top: -1.961em; left: 0.872em;"><span class="texatom" id="MathJax-Span-3831"><span class="mrow" id="MathJax-Span-3832"><span class="mi" id="MathJax-Span-3833" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.042em;"></span></span><span class="mi" id="MathJax-Span-3834" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">r</span><span class="mi" id="MathJax-Span-3835" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">c</span></span></span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span></span><span class="texatom" id="MathJax-Span-3836"><span class="mrow" id="MathJax-Span-3837"><span class="mo" id="MathJax-Span-3838" style="font-family: MathJax_Main;">|</span></span></span><span class="msubsup" id="MathJax-Span-3839"><span style="display: inline-block; position: relative; width: 2.616em; height: 0px;"><span style="position: absolute; clip: rect(1.615em 1000em 2.623em -0.461em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-3840" style="font-family: MathJax_Math; font-style: italic;">F<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.106em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.763em; left: 0.847em;"><span class="texatom" id="MathJax-Span-3841"><span class="mrow" id="MathJax-Span-3842"><span class="mo" id="MathJax-Span-3843" style="font-size: 70.7%; font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-3844" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">l</span><span class="mo" id="MathJax-Span-3845" style="font-size: 70.7%; font-family: MathJax_Main;">+</span><span class="mn" id="MathJax-Span-3846" style="font-size: 70.7%; font-family: MathJax_Main;">1</span><span class="mo" id="MathJax-Span-3847" style="font-size: 70.7%; font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span></span></span><span class="mo" id="MathJax-Span-3848" style="font-family: MathJax_Main;">)</span><span class="mo" id="MathJax-Span-3849" style="font-family: MathJax_Main; padding-left: 0.278em;">=</span><span class="munderover" id="MathJax-Span-3850" style="padding-left: 0.278em;"><span style="display: inline-block; position: relative; width: 1.475em; height: 0px;"><span style="position: absolute; clip: rect(2.657em 1000em 4.384em -0.437em); top: -3.77em; left: 0em;"><span class="mo" id="MathJax-Span-3851" style="font-family: MathJax_Size2; vertical-align: 0em;">∑</span><span style="display: inline-block; width: 0px; height: 3.77em;"></span></span><span style="position: absolute; clip: rect(1.633em 1000em 2.704em -0.453em); top: -1.18em; left: 0.219em;"><span class="texatom" id="MathJax-Span-3852"><span class="mrow" id="MathJax-Span-3853"><span class="mi" id="MathJax-Span-3854" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.042em;"></span></span><span class="mi" id="MathJax-Span-3855" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">r</span><span class="mi" id="MathJax-Span-3856" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">c</span></span></span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span></span><span class="mi" id="MathJax-Span-3857" style="font-family: MathJax_Main; padding-left: 0.167em;">log</span><span class="mo" id="MathJax-Span-3858"></span><span class="mi" id="MathJax-Span-3859" style="font-family: MathJax_Math; font-style: italic; padding-left: 0.167em;">p</span><span class="mo" id="MathJax-Span-3860" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-3861"><span style="display: inline-block; position: relative; width: 1.985em; height: 0px;"><span style="position: absolute; clip: rect(1.612em 1000em 2.623em -0.461em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-3862" style="font-family: MathJax_Math; font-style: italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; clip: rect(1.655em 1000em 2.69em -0.425em); top: -2.871em; left: 0.996em;"><span class="texatom" id="MathJax-Span-3863"><span class="mrow" id="MathJax-Span-3864"><span class="mo" id="MathJax-Span-3865" style="font-size: 70.7%; font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-3866" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">l</span><span class="mo" id="MathJax-Span-3867" style="font-size: 70.7%; font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span><span style="position: absolute; clip: rect(1.633em 1000em 2.604em -0.453em); top: -1.961em; left: 0.872em;"><span class="texatom" id="MathJax-Span-3868"><span class="mrow" id="MathJax-Span-3869"><span class="mi" id="MathJax-Span-3870" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.042em;"></span></span><span class="mi" id="MathJax-Span-3871" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">r</span><span class="mi" id="MathJax-Span-3872" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">c</span></span></span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span></span><span class="texatom" id="MathJax-Span-3873"><span class="mrow" id="MathJax-Span-3874"><span class="mo" id="MathJax-Span-3875" style="font-family: MathJax_Main;">|</span></span></span><span class="msubsup" id="MathJax-Span-3876"><span style="display: inline-block; position: relative; width: 2.616em; height: 0px;"><span style="position: absolute; clip: rect(1.615em 1000em 2.623em -0.461em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-3877" style="font-family: MathJax_Math; font-style: italic;">F<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.106em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; clip: rect(1.655em 1000em 2.69em -0.425em); top: -2.871em; left: 0.847em;"><span class="texatom" id="MathJax-Span-3878"><span class="mrow" id="MathJax-Span-3879"><span class="mo" id="MathJax-Span-3880" style="font-size: 70.7%; font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-3881" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">l</span><span class="mo" id="MathJax-Span-3882" style="font-size: 70.7%; font-family: MathJax_Main;">+</span><span class="mn" id="MathJax-Span-3883" style="font-size: 70.7%; font-family: MathJax_Main;">1</span><span class="mo" id="MathJax-Span-3884" style="font-size: 70.7%; font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span><span style="position: absolute; clip: rect(3.24em 1000em 4.298em -0.453em); top: -3.568em; left: 0.659em;"><span class="texatom" id="MathJax-Span-3885"><span class="mrow" id="MathJax-Span-3886"><span class="msup" id="MathJax-Span-3887"><span style="display: inline-block; position: relative; width: 0.662em; height: 0px;"><span style="position: absolute; clip: rect(1.633em 1000em 2.604em -0.453em); top: -2.295em; left: 0em;"><span class="mi" id="MathJax-Span-3888" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.042em;"></span></span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span><span style="position: absolute; top: -2.491em; left: 0.445em;"><span class="mo" id="MathJax-Span-3889" style="font-size: 50%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 2.186em;"></span></span></span></span><span class="msup" id="MathJax-Span-3890"><span style="display: inline-block; position: relative; width: 0.545em; height: 0px;"><span style="position: absolute; clip: rect(1.819em 1000em 2.467em -0.477em); top: -2.295em; left: 0em;"><span class="mi" id="MathJax-Span-3891" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">r</span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span><span style="position: absolute; top: -2.39em; left: 0.328em;"><span class="mo" id="MathJax-Span-3892" style="font-size: 50%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 2.186em;"></span></span></span></span><span class="msup" id="MathJax-Span-3893"><span style="display: inline-block; position: relative; width: 0.545em; height: 0px;"><span style="position: absolute; clip: rect(1.819em 1000em 2.467em -0.468em); top: -2.295em; left: 0em;"><span class="mi" id="MathJax-Span-3894" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">c</span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span><span style="position: absolute; top: -2.39em; left: 0.328em;"><span class="mo" id="MathJax-Span-3895" style="font-size: 50%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 2.186em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.989em;"></span></span></span></span><span class="mo" id="MathJax-Span-3896" style="font-family: MathJax_Main;">)</span></span><span style="display: inline-block; width: 0px; height: 2.678em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 3.076em; vertical-align: -1.726em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-237">
\log p(H^{(l)}|F^{(l+1)})=\sum_{frc}\log p(H^{(l)}_{frc}|F^{(l+1)})=\sum_{frc}\log p(H^{(l)}_{frc}|F^{(l+1)}_{f'r'c'})</script><p></p><p>其中<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-238-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-3897" style="width: 3.217em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.623em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(0.97em 1000em 2.916em -0.461em); top: -2.186em; left: 0em;"><span class="mrow" id="MathJax-Span-3898"><span class="msubsup" id="MathJax-Span-3899"><span style="display: inline-block; position: relative; width: 2.616em; height: 0px;"><span style="position: absolute; clip: rect(1.615em 1000em 2.623em -0.461em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-3900" style="font-family: MathJax_Math; font-style: italic;">F<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.106em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; clip: rect(1.655em 1000em 2.69em -0.425em); top: -2.871em; left: 0.847em;"><span class="texatom" id="MathJax-Span-3901"><span class="mrow" id="MathJax-Span-3902"><span class="mo" id="MathJax-Span-3903" style="font-size: 70.7%; font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-3904" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">l</span><span class="mo" id="MathJax-Span-3905" style="font-size: 70.7%; font-family: MathJax_Main;">+</span><span class="mn" id="MathJax-Span-3906" style="font-size: 70.7%; font-family: MathJax_Main;">1</span><span class="mo" id="MathJax-Span-3907" style="font-size: 70.7%; font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span><span style="position: absolute; clip: rect(3.24em 1000em 4.298em -0.453em); top: -3.568em; left: 0.659em;"><span class="texatom" id="MathJax-Span-3908"><span class="mrow" id="MathJax-Span-3909"><span class="msup" id="MathJax-Span-3910"><span style="display: inline-block; position: relative; width: 0.662em; height: 0px;"><span style="position: absolute; clip: rect(1.633em 1000em 2.604em -0.453em); top: -2.295em; left: 0em;"><span class="mi" id="MathJax-Span-3911" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.042em;"></span></span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span><span style="position: absolute; top: -2.491em; left: 0.445em;"><span class="mo" id="MathJax-Span-3912" style="font-size: 50%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 2.186em;"></span></span></span></span><span class="msup" id="MathJax-Span-3913"><span style="display: inline-block; position: relative; width: 0.545em; height: 0px;"><span style="position: absolute; clip: rect(1.819em 1000em 2.467em -0.477em); top: -2.295em; left: 0em;"><span class="mi" id="MathJax-Span-3914" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">r</span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span><span style="position: absolute; top: -2.39em; left: 0.328em;"><span class="mo" id="MathJax-Span-3915" style="font-size: 50%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 2.186em;"></span></span></span></span><span class="msup" id="MathJax-Span-3916"><span style="display: inline-block; position: relative; width: 0.545em; height: 0px;"><span style="position: absolute; clip: rect(1.819em 1000em 2.467em -0.468em); top: -2.295em; left: 0em;"><span class="mi" id="MathJax-Span-3917" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">c</span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span><span style="position: absolute; top: -2.39em; left: 0.328em;"><span class="mo" id="MathJax-Span-3918" style="font-size: 50%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 2.186em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.989em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.186em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 2.107em; vertical-align: -0.757em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-238">F^{(l+1)}_{f'r'c'}</script></span>是激活<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-239-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-3919" style="width: 2.483em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.022em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(0.97em 1000em 2.829em -0.461em); top: -2.186em; left: 0em;"><span class="mrow" id="MathJax-Span-3920"><span class="msubsup" id="MathJax-Span-3921"><span style="display: inline-block; position: relative; width: 1.985em; height: 0px;"><span style="position: absolute; clip: rect(1.612em 1000em 2.623em -0.461em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-3922" style="font-family: MathJax_Math; font-style: italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; clip: rect(1.655em 1000em 2.69em -0.425em); top: -2.871em; left: 0.996em;"><span class="texatom" id="MathJax-Span-3923"><span class="mrow" id="MathJax-Span-3924"><span class="mo" id="MathJax-Span-3925" style="font-size: 70.7%; font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-3926" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">l</span><span class="mo" id="MathJax-Span-3927" style="font-size: 70.7%; font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span><span style="position: absolute; clip: rect(1.633em 1000em 2.604em -0.453em); top: -1.961em; left: 0.872em;"><span class="texatom" id="MathJax-Span-3928"><span class="mrow" id="MathJax-Span-3929"><span class="mi" id="MathJax-Span-3930" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.042em;"></span></span><span class="mi" id="MathJax-Span-3931" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">r</span><span class="mi" id="MathJax-Span-3932" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">c</span></span></span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.186em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 2.001em; vertical-align: -0.651em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-239">H^{(l)}_{frc}</script></span>的特征(<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-240-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-3933" style="width: 3.217em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.623em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.085em 1000em 2.35em -0.461em); top: -2.186em; left: 0em;"><span class="mrow" id="MathJax-Span-3934"><span class="msubsup" id="MathJax-Span-3935"><span style="display: inline-block; position: relative; width: 2.616em; height: 0px;"><span style="position: absolute; clip: rect(1.615em 1000em 2.623em -0.461em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-3936" style="font-family: MathJax_Math; font-style: italic;">F<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.106em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.757em; left: 0.847em;"><span class="texatom" id="MathJax-Span-3937"><span class="mrow" id="MathJax-Span-3938"><span class="mo" id="MathJax-Span-3939" style="font-size: 70.7%; font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-3940" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">l</span><span class="mo" id="MathJax-Span-3941" style="font-size: 70.7%; font-family: MathJax_Main;">+</span><span class="mn" id="MathJax-Span-3942" style="font-size: 70.7%; font-family: MathJax_Main;">1</span><span class="mo" id="MathJax-Span-3943" style="font-size: 70.7%; font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.186em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.277em; vertical-align: -0.067em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-240">F^{(l+1)}</script></span>是<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-241-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-3944" style="width: 2.483em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.022em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(0.97em 1000em 2.829em -0.461em); top: -2.186em; left: 0em;"><span class="mrow" id="MathJax-Span-3945"><span class="msubsup" id="MathJax-Span-3946"><span style="display: inline-block; position: relative; width: 1.985em; height: 0px;"><span style="position: absolute; clip: rect(1.612em 1000em 2.623em -0.461em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-3947" style="font-family: MathJax_Math; font-style: italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; clip: rect(1.655em 1000em 2.69em -0.425em); top: -2.871em; left: 0.996em;"><span class="texatom" id="MathJax-Span-3948"><span class="mrow" id="MathJax-Span-3949"><span class="mo" id="MathJax-Span-3950" style="font-size: 70.7%; font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-3951" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">l</span><span class="mo" id="MathJax-Span-3952" style="font-size: 70.7%; font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span><span style="position: absolute; clip: rect(1.633em 1000em 2.604em -0.453em); top: -1.961em; left: 0.872em;"><span class="texatom" id="MathJax-Span-3953"><span class="mrow" id="MathJax-Span-3954"><span class="mi" id="MathJax-Span-3955" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.042em;"></span></span><span class="mi" id="MathJax-Span-3956" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">r</span><span class="mi" id="MathJax-Span-3957" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">c</span></span></span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.186em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 2.001em; vertical-align: -0.651em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-241">H^{(l)}_{frc}</script></span>的父节点)。注意每一个pool变量只有一个父节点(但每个feature变量有多个子节点)。</p><p>每个特征<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-242-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-3958" style="width: 3.217em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.623em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(0.97em 1000em 2.916em -0.461em); top: -2.186em; left: 0em;"><span class="mrow" id="MathJax-Span-3959"><span class="msubsup" id="MathJax-Span-3960"><span style="display: inline-block; position: relative; width: 2.616em; height: 0px;"><span style="position: absolute; clip: rect(1.615em 1000em 2.623em -0.461em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-3961" style="font-family: MathJax_Math; font-style: italic;">F<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.106em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; clip: rect(1.655em 1000em 2.69em -0.425em); top: -2.871em; left: 0.847em;"><span class="texatom" id="MathJax-Span-3962"><span class="mrow" id="MathJax-Span-3963"><span class="mo" id="MathJax-Span-3964" style="font-size: 70.7%; font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-3965" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">l</span><span class="mo" id="MathJax-Span-3966" style="font-size: 70.7%; font-family: MathJax_Main;">+</span><span class="mn" id="MathJax-Span-3967" style="font-size: 70.7%; font-family: MathJax_Main;">1</span><span class="mo" id="MathJax-Span-3968" style="font-size: 70.7%; font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span><span style="position: absolute; clip: rect(3.24em 1000em 4.298em -0.453em); top: -3.568em; left: 0.659em;"><span class="texatom" id="MathJax-Span-3969"><span class="mrow" id="MathJax-Span-3970"><span class="msup" id="MathJax-Span-3971"><span style="display: inline-block; position: relative; width: 0.662em; height: 0px;"><span style="position: absolute; clip: rect(1.633em 1000em 2.604em -0.453em); top: -2.295em; left: 0em;"><span class="mi" id="MathJax-Span-3972" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.042em;"></span></span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span><span style="position: absolute; top: -2.491em; left: 0.445em;"><span class="mo" id="MathJax-Span-3973" style="font-size: 50%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 2.186em;"></span></span></span></span><span class="msup" id="MathJax-Span-3974"><span style="display: inline-block; position: relative; width: 0.545em; height: 0px;"><span style="position: absolute; clip: rect(1.819em 1000em 2.467em -0.477em); top: -2.295em; left: 0em;"><span class="mi" id="MathJax-Span-3975" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">r</span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span><span style="position: absolute; top: -2.39em; left: 0.328em;"><span class="mo" id="MathJax-Span-3976" style="font-size: 50%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 2.186em;"></span></span></span></span><span class="msup" id="MathJax-Span-3977"><span style="display: inline-block; position: relative; width: 0.545em; height: 0px;"><span style="position: absolute; clip: rect(1.819em 1000em 2.467em -0.468em); top: -2.295em; left: 0em;"><span class="mi" id="MathJax-Span-3978" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">c</span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span><span style="position: absolute; top: -2.39em; left: 0.328em;"><span class="mo" id="MathJax-Span-3979" style="font-size: 50%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 2.186em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.989em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.186em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 2.107em; vertical-align: -0.757em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-242">F^{(l+1)}_{f'r'c'}</script></span>激活靠近它的某些pool，这些pool为</p><p><span class="MathJax_Preview"></span></p><div class="MathJax_Display" role="textbox" aria-readonly="true" style="text-align: center;"><span class="MathJax" id="MathJax-Element-243-Frame"><nobr><span class="math" id="MathJax-Span-3980" style="width: 20.283em; display: inline-block;"><span style="display: inline-block; position: relative; width: 16.612em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.462em 1000em 3.321em -0.427em); top: -2.678em; left: 0em;"><span class="mrow" id="MathJax-Span-3981"><span class="mo" id="MathJax-Span-3982" style="font-family: MathJax_Main;">{</span><span class="msubsup" id="MathJax-Span-3983"><span style="display: inline-block; position: relative; width: 1.985em; height: 0px;"><span style="position: absolute; clip: rect(1.612em 1000em 2.623em -0.461em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-3984" style="font-family: MathJax_Math; font-style: italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; clip: rect(1.655em 1000em 2.69em -0.425em); top: -2.871em; left: 0.996em;"><span class="texatom" id="MathJax-Span-3985"><span class="mrow" id="MathJax-Span-3986"><span class="mo" id="MathJax-Span-3987" style="font-size: 70.7%; font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-3988" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">l</span><span class="mo" id="MathJax-Span-3989" style="font-size: 70.7%; font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span><span style="position: absolute; clip: rect(1.633em 1000em 2.604em -0.453em); top: -1.961em; left: 0.872em;"><span class="texatom" id="MathJax-Span-3990"><span class="mrow" id="MathJax-Span-3991"><span class="mi" id="MathJax-Span-3992" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.042em;"></span></span><span class="mi" id="MathJax-Span-3993" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">r</span><span class="mi" id="MathJax-Span-3994" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">c</span></span></span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span></span><span class="mo" id="MathJax-Span-3995" style="font-family: MathJax_Main; padding-left: 0.278em;">:</span><span class="texatom" id="MathJax-Span-3996" style="padding-left: 0.278em;"><span class="mrow" id="MathJax-Span-3997"><span class="mo" id="MathJax-Span-3998" style="font-family: MathJax_Main;">|</span></span></span><span class="msup" id="MathJax-Span-3999"><span style="display: inline-block; position: relative; width: 0.785em; height: 0px;"><span style="position: absolute; clip: rect(1.853em 1000em 2.634em -0.471em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-4000" style="font-family: MathJax_Math; font-style: italic;">r</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.763em; left: 0.492em;"><span class="mo" id="MathJax-Span-4001" style="font-size: 70.7%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span></span></span><span class="mo" id="MathJax-Span-4002" style="font-family: MathJax_Main; padding-left: 0.222em;">−</span><span class="mi" id="MathJax-Span-4003" style="font-family: MathJax_Math; font-style: italic; padding-left: 0.222em;">r</span><span class="texatom" id="MathJax-Span-4004"><span class="mrow" id="MathJax-Span-4005"><span class="mo" id="MathJax-Span-4006" style="font-family: MathJax_Main;">|</span></span></span><span class="mo" id="MathJax-Span-4007" style="font-family: MathJax_Main; padding-left: 0.278em;">&lt;</span><span class="mi" id="MathJax-Span-4008" style="font-family: MathJax_Math; font-style: italic; padding-left: 0.278em;">v</span><span class="mi" id="MathJax-Span-4009" style="font-family: MathJax_Math; font-style: italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.06em;"></span></span><span class="msubsup" id="MathJax-Span-4010"><span style="display: inline-block; position: relative; width: 0.785em; height: 0px;"><span style="position: absolute; clip: rect(1.853em 1000em 2.633em -0.439em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-4011" style="font-family: MathJax_Math; font-style: italic;">s</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.708em; left: 0.492em;"><span class="mi" id="MathJax-Span-4012" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">l</span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span></span><span class="mo" id="MathJax-Span-4013" style="font-family: MathJax_Main;">,</span><span class="texatom" id="MathJax-Span-4014" style="padding-left: 0.167em;"><span class="mrow" id="MathJax-Span-4015"><span class="mo" id="MathJax-Span-4016" style="font-family: MathJax_Main;">|</span></span></span><span class="msup" id="MathJax-Span-4017"><span style="display: inline-block; position: relative; width: 0.731em; height: 0px;"><span style="position: absolute; clip: rect(1.853em 1000em 2.634em -0.458em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-4018" style="font-family: MathJax_Math; font-style: italic;">c</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.763em; left: 0.437em;"><span class="mo" id="MathJax-Span-4019" style="font-size: 70.7%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span></span></span><span class="mo" id="MathJax-Span-4020" style="font-family: MathJax_Main; padding-left: 0.222em;">−</span><span class="mi" id="MathJax-Span-4021" style="font-family: MathJax_Math; font-style: italic; padding-left: 0.222em;">c</span><span class="texatom" id="MathJax-Span-4022"><span class="mrow" id="MathJax-Span-4023"><span class="mo" id="MathJax-Span-4024" style="font-family: MathJax_Main;">|</span></span></span><span class="mo" id="MathJax-Span-4025" style="font-family: MathJax_Main; padding-left: 0.278em;">&lt;</span><span class="mi" id="MathJax-Span-4026" style="font-family: MathJax_Math; font-style: italic; padding-left: 0.278em;">h</span><span class="mi" id="MathJax-Span-4027" style="font-family: MathJax_Math; font-style: italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.06em;"></span></span><span class="msubsup" id="MathJax-Span-4028"><span style="display: inline-block; position: relative; width: 0.785em; height: 0px;"><span style="position: absolute; clip: rect(1.853em 1000em 2.633em -0.439em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-4029" style="font-family: MathJax_Math; font-style: italic;">s</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.708em; left: 0.492em;"><span class="mi" id="MathJax-Span-4030" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">l</span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span></span><span class="mo" id="MathJax-Span-4031" style="font-family: MathJax_Main;">}</span></span><span style="display: inline-block; width: 0px; height: 2.678em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 2.001em; vertical-align: -0.651em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-243">\{H^{(l)}_{frc}: |r'-r|< vfs^l, |c'-c|< hfs^l\}</script><p></p><p>其中<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-244-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-4032" style="width: 2.283em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.858em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.441em 1000em 2.828em -0.471em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-4033"><span class="mi" id="MathJax-Span-4034" style="font-family: MathJax_Math; font-style: italic;">v</span><span class="mi" id="MathJax-Span-4035" style="font-family: MathJax_Math; font-style: italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.06em;"></span></span><span class="msubsup" id="MathJax-Span-4036"><span style="display: inline-block; position: relative; width: 0.785em; height: 0px;"><span style="position: absolute; clip: rect(1.853em 1000em 2.633em -0.439em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-4037" style="font-family: MathJax_Math; font-style: italic;">s</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.658em; left: 0.492em;"><span class="mi" id="MathJax-Span-4038" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">l</span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.425em; vertical-align: -0.317em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-244">vfs^l</script></span>和<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-245-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-4039" style="width: 2.35em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.913em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.441em 1000em 2.828em -0.444em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-4040"><span class="mi" id="MathJax-Span-4041" style="font-family: MathJax_Math; font-style: italic;">h</span><span class="mi" id="MathJax-Span-4042" style="font-family: MathJax_Math; font-style: italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.06em;"></span></span><span class="msubsup" id="MathJax-Span-4043"><span style="display: inline-block; position: relative; width: 0.785em; height: 0px;"><span style="position: absolute; clip: rect(1.853em 1000em 2.633em -0.439em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-4044" style="font-family: MathJax_Math; font-style: italic;">s</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.658em; left: 0.492em;"><span class="mi" id="MathJax-Span-4045" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">l</span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.425em; vertical-align: -0.317em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-245">hfs^l</script></span>分别代特征层的竖直和水平shape。注意在层<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-246-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-4046" style="width: 2.483em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.022em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.82em 1000em 2.924em -0.454em); top: -2.678em; left: 0em;"><span class="mrow" id="MathJax-Span-4047"><span class="mi" id="MathJax-Span-4048" style="font-family: MathJax_Math; font-style: italic;">l</span><span class="mo" id="MathJax-Span-4049" style="font-family: MathJax_Main; padding-left: 0.222em;">+</span><span class="mn" id="MathJax-Span-4050" style="font-family: MathJax_Main; padding-left: 0.222em;">1</span></span><span style="display: inline-block; width: 0px; height: 2.678em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.08em; vertical-align: -0.167em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-246">l+1</script></span>和第<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-247-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-4051" style="width: 0.75em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.601em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.59em 1000em 2.828em -0.437em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-4052"><span class="mi" id="MathJax-Span-4053" style="font-family: MathJax_Math; font-style: italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.06em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.244em; vertical-align: -0.317em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-247">f</script></span>个通道的特征变量可以激活第<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-248-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-4054" style="width: 0.417em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.328em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.601em 1000em 2.634em -0.454em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-4055"><span class="mi" id="MathJax-Span-4056" style="font-family: MathJax_Math; font-style: italic;">l</span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.993em; vertical-align: -0.08em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-248">l</script></span>层多个不同通道的一组pool, 不同前面章节中的例子: 在平移pool中, 第<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-249-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-4057" style="width: 0.417em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.328em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.601em 1000em 2.634em -0.454em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-4058"><span class="mi" id="MathJax-Span-4059" style="font-family: MathJax_Math; font-style: italic;">l</span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.993em; vertical-align: -0.08em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-249">l</script></span>层底<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-250-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-4060" style="width: 0.75em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.601em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.59em 1000em 2.828em -0.437em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-4061"><span class="mi" id="MathJax-Span-4062" style="font-family: MathJax_Math; font-style: italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.06em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.244em; vertical-align: -0.317em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-250">f</script></span>个通道的pool只能激活第<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-251-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-4063" style="width: 0.417em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.328em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.601em 1000em 2.634em -0.454em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-4064"><span class="mi" id="MathJax-Span-4065" style="font-family: MathJax_Math; font-style: italic;">l</span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.993em; vertical-align: -0.08em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-251">l</script></span>层且位于同一通道的特征。另一个区别是：两个不同的特征不能激活相同的pool。对于需要多个特征激活同一个pool的情况，只需要做一份拷贝即可(在pooling layer中产生一个额外的通道，该通道与下面层的连接相同)然后使用这个拷贝的pool即可。</p><p>一个特征可以用它激活的pool的位置(相对于自己而言)来描述。当激活一个给定的pool变量<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-252-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-4066" style="width: 2.483em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.022em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(0.97em 1000em 2.829em -0.461em); top: -2.186em; left: 0em;"><span class="mrow" id="MathJax-Span-4067"><span class="msubsup" id="MathJax-Span-4068"><span style="display: inline-block; position: relative; width: 1.985em; height: 0px;"><span style="position: absolute; clip: rect(1.612em 1000em 2.623em -0.461em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-4069" style="font-family: MathJax_Math; font-style: italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; clip: rect(1.655em 1000em 2.69em -0.425em); top: -2.871em; left: 0.996em;"><span class="texatom" id="MathJax-Span-4070"><span class="mrow" id="MathJax-Span-4071"><span class="mo" id="MathJax-Span-4072" style="font-size: 70.7%; font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-4073" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">l</span><span class="mo" id="MathJax-Span-4074" style="font-size: 70.7%; font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span><span style="position: absolute; clip: rect(1.633em 1000em 2.604em -0.453em); top: -1.961em; left: 0.872em;"><span class="texatom" id="MathJax-Span-4075"><span class="mrow" id="MathJax-Span-4076"><span class="mi" id="MathJax-Span-4077" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.042em;"></span></span><span class="mi" id="MathJax-Span-4078" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">r</span><span class="mi" id="MathJax-Span-4079" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">c</span></span></span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.186em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 2.001em; vertical-align: -0.651em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-252">H^{(l)}_{frc}</script></span>的特征被设置成1时，这个pool就不能再是<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-253-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-4080" style="width: 2.817em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.295em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.591em 1000em 2.645em -0.442em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-4081"><span class="mi" id="MathJax-Span-4082" style="font-family: MathJax_Math; font-style: italic;">O</span><span class="mi" id="MathJax-Span-4083" style="font-family: MathJax_Math; font-style: italic;">F<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.106em;"></span></span><span class="mi" id="MathJax-Span-4084" style="font-family: MathJax_Math; font-style: italic;">F<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.106em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.019em; vertical-align: -0.094em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-253">OFF</script></span>状态。这样就能定义池化层的概率密度为:</p><p><span class="MathJax_Preview"></span></p><div class="MathJax_Display" role="textbox" aria-readonly="true" style="text-align: center;"><span class="MathJax" id="MathJax-Element-254-Frame"><nobr><span class="math" id="MathJax-Span-4085" style="width: 30.883em; display: inline-block;"><span style="display: inline-block; position: relative; width: 25.301em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(2.622em 1000em 5.949em -0.531em); top: -4.536em; left: 0em;"><span class="mrow" id="MathJax-Span-4086"><span class="mi" id="MathJax-Span-4087" style="font-family: MathJax_Math; font-style: italic;">p</span><span class="mo" id="MathJax-Span-4088" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-4089"><span style="display: inline-block; position: relative; width: 1.985em; height: 0px;"><span style="position: absolute; clip: rect(1.612em 1000em 2.623em -0.461em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-4090" style="font-family: MathJax_Math; font-style: italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; clip: rect(1.655em 1000em 2.69em -0.425em); top: -2.871em; left: 0.996em;"><span class="texatom" id="MathJax-Span-4091"><span class="mrow" id="MathJax-Span-4092"><span class="mo" id="MathJax-Span-4093" style="font-size: 70.7%; font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-4094" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">l</span><span class="mo" id="MathJax-Span-4095" style="font-size: 70.7%; font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span><span style="position: absolute; clip: rect(1.633em 1000em 2.604em -0.453em); top: -1.961em; left: 0.872em;"><span class="texatom" id="MathJax-Span-4096"><span class="mrow" id="MathJax-Span-4097"><span class="mi" id="MathJax-Span-4098" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.042em;"></span></span><span class="mi" id="MathJax-Span-4099" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">r</span><span class="mi" id="MathJax-Span-4100" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">c</span></span></span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span></span><span class="mo" id="MathJax-Span-4101" style="font-family: MathJax_Main; padding-left: 0.278em;">=</span><span class="mi" id="MathJax-Span-4102" style="font-family: MathJax_Math; font-style: italic; padding-left: 0.278em;">p</span><span class="mi" id="MathJax-Span-4103" style="font-family: MathJax_Math; font-style: italic;">o</span><span class="mi" id="MathJax-Span-4104" style="font-family: MathJax_Math; font-style: italic;">o</span><span class="mi" id="MathJax-Span-4105" style="font-family: MathJax_Math; font-style: italic;">l</span><span class="mspace" id="MathJax-Span-4106" style="height: 0em; vertical-align: 0em; width: 0.413em; display: inline-block; overflow: hidden;"></span><span class="mi" id="MathJax-Span-4107" style="font-family: MathJax_Math; font-style: italic;">m</span><span class="mi" id="MathJax-Span-4108" style="font-family: MathJax_Math; font-style: italic;">e</span><span class="mi" id="MathJax-Span-4109" style="font-family: MathJax_Math; font-style: italic;">m</span><span class="mi" id="MathJax-Span-4110" style="font-family: MathJax_Math; font-style: italic;">b</span><span class="mi" id="MathJax-Span-4111" style="font-family: MathJax_Math; font-style: italic;">e</span><span class="msubsup" id="MathJax-Span-4112"><span style="display: inline-block; position: relative; width: 1.223em; height: 0px;"><span style="position: absolute; clip: rect(1.853em 1000em 2.634em -0.471em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-4113" style="font-family: MathJax_Math; font-style: italic;">r</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.145em; left: 0.492em;"><span class="mi" id="MathJax-Span-4114" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">m</span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span></span><span class="texatom" id="MathJax-Span-4115"><span class="mrow" id="MathJax-Span-4116"><span class="mo" id="MathJax-Span-4117" style="font-family: MathJax_Main;">|</span></span></span><span class="msubsup" id="MathJax-Span-4118"><span style="display: inline-block; position: relative; width: 2.616em; height: 0px;"><span style="position: absolute; clip: rect(1.615em 1000em 2.623em -0.461em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-4119" style="font-family: MathJax_Math; font-style: italic;">F<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.106em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; clip: rect(1.655em 1000em 2.69em -0.425em); top: -2.871em; left: 0.847em;"><span class="texatom" id="MathJax-Span-4120"><span class="mrow" id="MathJax-Span-4121"><span class="mo" id="MathJax-Span-4122" style="font-size: 70.7%; font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-4123" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">l</span><span class="mo" id="MathJax-Span-4124" style="font-size: 70.7%; font-family: MathJax_Main;">+</span><span class="mn" id="MathJax-Span-4125" style="font-size: 70.7%; font-family: MathJax_Main;">1</span><span class="mo" id="MathJax-Span-4126" style="font-size: 70.7%; font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span><span style="position: absolute; clip: rect(3.24em 1000em 4.298em -0.453em); top: -3.568em; left: 0.659em;"><span class="texatom" id="MathJax-Span-4127"><span class="mrow" id="MathJax-Span-4128"><span class="msup" id="MathJax-Span-4129"><span style="display: inline-block; position: relative; width: 0.662em; height: 0px;"><span style="position: absolute; clip: rect(1.633em 1000em 2.604em -0.453em); top: -2.295em; left: 0em;"><span class="mi" id="MathJax-Span-4130" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.042em;"></span></span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span><span style="position: absolute; top: -2.491em; left: 0.445em;"><span class="mo" id="MathJax-Span-4131" style="font-size: 50%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 2.186em;"></span></span></span></span><span class="msup" id="MathJax-Span-4132"><span style="display: inline-block; position: relative; width: 0.545em; height: 0px;"><span style="position: absolute; clip: rect(1.819em 1000em 2.467em -0.477em); top: -2.295em; left: 0em;"><span class="mi" id="MathJax-Span-4133" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">r</span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span><span style="position: absolute; top: -2.39em; left: 0.328em;"><span class="mo" id="MathJax-Span-4134" style="font-size: 50%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 2.186em;"></span></span></span></span><span class="msup" id="MathJax-Span-4135"><span style="display: inline-block; position: relative; width: 0.545em; height: 0px;"><span style="position: absolute; clip: rect(1.819em 1000em 2.467em -0.468em); top: -2.295em; left: 0em;"><span class="mi" id="MathJax-Span-4136" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">c</span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span><span style="position: absolute; top: -2.39em; left: 0.328em;"><span class="mo" id="MathJax-Span-4137" style="font-size: 50%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 2.186em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.989em;"></span></span></span></span><span class="mo" id="MathJax-Span-4138" style="font-family: MathJax_Main;">)</span><span class="mo" id="MathJax-Span-4139" style="font-family: MathJax_Main; padding-left: 0.278em;">=</span><span class="mrow" id="MathJax-Span-4140" style="padding-left: 0.278em;"><span class="mo" id="MathJax-Span-4141" style="vertical-align: 0em; padding-left: 0.278em;"><span style="font-family: MathJax_Size4;">{</span></span><span class="mtable" id="MathJax-Span-4142" style="padding-right: 0.167em; padding-left: 0.167em;"><span style="display: inline-block; position: relative; width: 8.525em; height: 0px;"><span style="position: absolute; clip: rect(3.1em 1000em 4.978em -0.492em); top: -3.989em; left: 0em;"><span style="display: inline-block; position: relative; width: 0em; height: 0px;"><span style="position: absolute; clip: rect(3.825em 1000em 4.153em -0.492em); top: -4.714em; right: 0em;"><span class="mtd" id="MathJax-Span-4143"><span class="mrow" id="MathJax-Span-4144"></span></span><span style="display: inline-block; width: 0px; height: 3.989em;"></span></span><span style="position: absolute; clip: rect(3.825em 1000em 4.153em -0.492em); top: -3.164em; right: 0em;"><span class="mtd" id="MathJax-Span-4172"><span class="mrow" id="MathJax-Span-4173"></span></span><span style="display: inline-block; width: 0px; height: 3.989em;"></span></span></span><span style="display: inline-block; width: 0px; height: 3.989em;"></span></span><span style="position: absolute; clip: rect(2.3em 1000em 5.178em -0.453em); top: -3.989em; left: 0em;"><span style="display: inline-block; position: relative; width: 8.525em; height: 0px;"><span style="position: absolute; clip: rect(1.714em 1000em 3.092em -0.409em); top: -3.403em; left: 0em;"><span class="mtd" id="MathJax-Span-4145"><span class="mrow" id="MathJax-Span-4146"><span class="mn" id="MathJax-Span-4147" style="font-family: MathJax_Main;">1</span><span class="texatom" id="MathJax-Span-4148"><span class="mrow" id="MathJax-Span-4149"><span class="mo" id="MathJax-Span-4150" style="font-family: MathJax_Main;">/</span></span></span><span class="mi" id="MathJax-Span-4151" style="font-family: MathJax_Math; font-style: italic;">M<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.081em;"></span></span><span class="mspace" id="MathJax-Span-4152" style="height: 0em; vertical-align: 0em; width: 1.033em; display: inline-block; overflow: hidden;"></span><span class="texatom" id="MathJax-Span-4153"><span class="mrow" id="MathJax-Span-4154"><span class="mo" id="MathJax-Span-4155"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 82%; font-style: normal; font-weight: normal;">如</span></span></span></span><span class="texatom" id="MathJax-Span-4156"><span class="mrow" id="MathJax-Span-4157"><span class="mo" id="MathJax-Span-4158"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 82%; font-style: normal; font-weight: normal;">果</span></span></span></span><span class="texatom" id="MathJax-Span-4159"><span class="mrow" id="MathJax-Span-4160"><span class="mo" id="MathJax-Span-4161"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 82%; font-style: normal; font-weight: normal;">父</span></span></span></span><span class="texatom" id="MathJax-Span-4162"><span class="mrow" id="MathJax-Span-4163"><span class="mo" id="MathJax-Span-4164"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 82%; font-style: normal; font-weight: normal;">特</span></span></span></span><span class="texatom" id="MathJax-Span-4165"><span class="mrow" id="MathJax-Span-4166"><span class="mo" id="MathJax-Span-4167"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 82%; font-style: normal; font-weight: normal;">征</span></span></span></span><span class="texatom" id="MathJax-Span-4168"><span class="mrow" id="MathJax-Span-4169"><span class="mo" id="MathJax-Span-4170"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 82%; font-style: normal; font-weight: normal;">为</span></span></span></span><span class="mn" id="MathJax-Span-4171" style="font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 2.678em;"></span></span><span style="position: absolute; clip: rect(1.714em 1000em 3.042em -0.453em); top: -1.853em; left: 0em;"><span class="mtd" id="MathJax-Span-4174"><span class="mrow" id="MathJax-Span-4175"><span class="mn" id="MathJax-Span-4176" style="font-family: MathJax_Main;">0</span><span class="mspace" id="MathJax-Span-4177" style="height: 0em; vertical-align: 0em; width: 1.033em; display: inline-block; overflow: hidden;"></span><span class="texatom" id="MathJax-Span-4178"><span class="mrow" id="MathJax-Span-4179"><span class="mo" id="MathJax-Span-4180"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 82%; font-style: normal; font-weight: normal;">父</span></span></span></span><span class="texatom" id="MathJax-Span-4181"><span class="mrow" id="MathJax-Span-4182"><span class="mo" id="MathJax-Span-4183"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 82%; font-style: normal; font-weight: normal;">特</span></span></span></span><span class="texatom" id="MathJax-Span-4184"><span class="mrow" id="MathJax-Span-4185"><span class="mo" id="MathJax-Span-4186"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 82%; font-style: normal; font-weight: normal;">征</span></span></span></span><span class="texatom" id="MathJax-Span-4187"><span class="mrow" id="MathJax-Span-4188"><span class="mo" id="MathJax-Span-4189"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 82%; font-style: normal; font-weight: normal;">为</span></span></span></span><span class="mn" id="MathJax-Span-4190" style="font-family: MathJax_Main;">0</span></span></span><span style="display: inline-block; width: 0px; height: 2.678em;"></span></span></span><span style="display: inline-block; width: 0px; height: 3.989em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.536em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 3.792em; vertical-align: -1.591em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-254">
p(H^{(l)}_{frc}=pool\hspace{0.2cm} member_m|F^{(l+1)}_{f'r'c'})=
\begin{equation}
\left\{
\begin{aligned}
&1/M \hspace{0.5cm}如果父特征为1\\
&0 \hspace{0.5cm}父特征为0\\
\end{aligned}
\right.
\end{equation}</script><p></p><p>其中<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-255-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-4191" style="width: 1.35em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.093em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.612em 1000em 2.623em -0.457em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-4192"><span class="mi" id="MathJax-Span-4193" style="font-family: MathJax_Math; font-style: italic;">M<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.081em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.967em; vertical-align: -0.067em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-255">M</script></span>是该池化层中池化成员的数量。这意味着如果父特征为0，则：</p><p><span class="MathJax_Preview"></span></p><div class="MathJax_Display" role="textbox" aria-readonly="true" style="text-align: center;"><span class="MathJax" id="MathJax-Element-256-Frame"><nobr><span class="math" id="MathJax-Span-4194" style="width: 14.15em; display: inline-block;"><span style="display: inline-block; position: relative; width: 11.585em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.462em 1000em 3.408em -0.531em); top: -2.678em; left: 0em;"><span class="mrow" id="MathJax-Span-4195"><span class="mi" id="MathJax-Span-4196" style="font-family: MathJax_Math; font-style: italic;">p</span><span class="mo" id="MathJax-Span-4197" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-4198"><span style="display: inline-block; position: relative; width: 1.985em; height: 0px;"><span style="position: absolute; clip: rect(1.612em 1000em 2.623em -0.461em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-4199" style="font-family: MathJax_Math; font-style: italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; clip: rect(1.655em 1000em 2.69em -0.425em); top: -2.871em; left: 0.996em;"><span class="texatom" id="MathJax-Span-4200"><span class="mrow" id="MathJax-Span-4201"><span class="mo" id="MathJax-Span-4202" style="font-size: 70.7%; font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-4203" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">l</span><span class="mo" id="MathJax-Span-4204" style="font-size: 70.7%; font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span><span style="position: absolute; clip: rect(1.633em 1000em 2.604em -0.453em); top: -1.961em; left: 0.872em;"><span class="texatom" id="MathJax-Span-4205"><span class="mrow" id="MathJax-Span-4206"><span class="mi" id="MathJax-Span-4207" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.042em;"></span></span><span class="mi" id="MathJax-Span-4208" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">r</span><span class="mi" id="MathJax-Span-4209" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">c</span></span></span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span></span><span class="mo" id="MathJax-Span-4210" style="font-family: MathJax_Main; padding-left: 0.278em;">=</span><span class="mi" id="MathJax-Span-4211" style="font-family: MathJax_Math; font-style: italic; padding-left: 0.278em;">O</span><span class="mi" id="MathJax-Span-4212" style="font-family: MathJax_Math; font-style: italic;">F<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.106em;"></span></span><span class="mi" id="MathJax-Span-4213" style="font-family: MathJax_Math; font-style: italic;">F<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.106em;"></span></span><span class="texatom" id="MathJax-Span-4214"><span class="mrow" id="MathJax-Span-4215"><span class="mo" id="MathJax-Span-4216" style="font-family: MathJax_Main;">|</span></span></span><span class="msubsup" id="MathJax-Span-4217"><span style="display: inline-block; position: relative; width: 2.616em; height: 0px;"><span style="position: absolute; clip: rect(1.615em 1000em 2.623em -0.461em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-4218" style="font-family: MathJax_Math; font-style: italic;">F<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.106em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; clip: rect(1.655em 1000em 2.69em -0.425em); top: -2.871em; left: 0.847em;"><span class="texatom" id="MathJax-Span-4219"><span class="mrow" id="MathJax-Span-4220"><span class="mo" id="MathJax-Span-4221" style="font-size: 70.7%; font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-4222" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">l</span><span class="mo" id="MathJax-Span-4223" style="font-size: 70.7%; font-family: MathJax_Main;">+</span><span class="mn" id="MathJax-Span-4224" style="font-size: 70.7%; font-family: MathJax_Main;">1</span><span class="mo" id="MathJax-Span-4225" style="font-size: 70.7%; font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span><span style="position: absolute; clip: rect(3.24em 1000em 4.298em -0.453em); top: -3.568em; left: 0.659em;"><span class="texatom" id="MathJax-Span-4226"><span class="mrow" id="MathJax-Span-4227"><span class="msup" id="MathJax-Span-4228"><span style="display: inline-block; position: relative; width: 0.662em; height: 0px;"><span style="position: absolute; clip: rect(1.633em 1000em 2.604em -0.453em); top: -2.295em; left: 0em;"><span class="mi" id="MathJax-Span-4229" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.042em;"></span></span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span><span style="position: absolute; top: -2.491em; left: 0.445em;"><span class="mo" id="MathJax-Span-4230" style="font-size: 50%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 2.186em;"></span></span></span></span><span class="msup" id="MathJax-Span-4231"><span style="display: inline-block; position: relative; width: 0.545em; height: 0px;"><span style="position: absolute; clip: rect(1.819em 1000em 2.467em -0.477em); top: -2.295em; left: 0em;"><span class="mi" id="MathJax-Span-4232" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">r</span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span><span style="position: absolute; top: -2.39em; left: 0.328em;"><span class="mo" id="MathJax-Span-4233" style="font-size: 50%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 2.186em;"></span></span></span></span><span class="msup" id="MathJax-Span-4234"><span style="display: inline-block; position: relative; width: 0.545em; height: 0px;"><span style="position: absolute; clip: rect(1.819em 1000em 2.467em -0.468em); top: -2.295em; left: 0em;"><span class="mi" id="MathJax-Span-4235" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">c</span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span><span style="position: absolute; top: -2.39em; left: 0.328em;"><span class="mo" id="MathJax-Span-4236" style="font-size: 50%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 2.186em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.989em;"></span></span></span></span><span class="mo" id="MathJax-Span-4237" style="font-family: MathJax_Main;">)</span><span class="mo" id="MathJax-Span-4238" style="font-family: MathJax_Main; padding-left: 0.278em;">=</span><span class="mn" id="MathJax-Span-4239" style="font-family: MathJax_Main; padding-left: 0.278em;">1</span></span><span style="display: inline-block; width: 0px; height: 2.678em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 2.107em; vertical-align: -0.757em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-256">p(H^{(l)}_{frc}=OFF|F^{(l+1)}_{f'r'c'})=1</script><p></p><p>这反过来表明对于一个合法的分配(不会导致联合概率为0)，隐变量的联合概率为：</p><p><span class="MathJax_Preview"></span></p><div class="MathJax_Display" role="textbox" aria-readonly="true"><span class="MathJax" id="MathJax-Element-257-Frame"><nobr><span class="math" id="MathJax-Span-4240" style="width: 100%; display: inline-block; min-width: 25.017em;"><span style="display: inline-block; position: relative; width: 100%; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(5.006em 1000em 10.453em -0.492em); top: -6.12em; left: 0em; width: 100%;"><span class="mrow" id="MathJax-Span-4241"><span style="display: inline-block; position: relative; width: 100%; height: 0px;"><span style="position: absolute; clip: rect(2.875em 1000em 5.568em -0.466em); top: -3.989em; left: 50%; margin-left: -10.239em;"><span class="mi" id="MathJax-Span-4242" style="font-family: MathJax_Main;">log</span><span class="mo" id="MathJax-Span-4243"></span><span class="mi" id="MathJax-Span-4244" style="font-family: MathJax_Math; font-style: italic; padding-left: 0.167em;">p</span><span class="mo" id="MathJax-Span-4245" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-4246"><span style="display: inline-block; position: relative; width: 1.851em; height: 0px;"><span style="position: absolute; clip: rect(1.615em 1000em 2.623em -0.461em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-4247" style="font-family: MathJax_Math; font-style: italic;">F<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.106em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.763em; left: 0.847em;"><span class="texatom" id="MathJax-Span-4248"><span class="mrow" id="MathJax-Span-4249"><span class="mo" id="MathJax-Span-4250" style="font-size: 70.7%; font-family: MathJax_Main;">(</span><span class="mn" id="MathJax-Span-4251" style="font-size: 70.7%; font-family: MathJax_Main;">1</span><span class="mo" id="MathJax-Span-4252" style="font-size: 70.7%; font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span></span></span><span class="mo" id="MathJax-Span-4253" style="font-family: MathJax_Main;">,</span><span class="msubsup" id="MathJax-Span-4254" style="padding-left: 0.167em;"><span style="display: inline-block; position: relative; width: 2em; height: 0px;"><span style="position: absolute; clip: rect(1.612em 1000em 2.623em -0.461em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-4255" style="font-family: MathJax_Math; font-style: italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.763em; left: 0.996em;"><span class="texatom" id="MathJax-Span-4256"><span class="mrow" id="MathJax-Span-4257"><span class="mo" id="MathJax-Span-4258" style="font-size: 70.7%; font-family: MathJax_Main;">(</span><span class="mn" id="MathJax-Span-4259" style="font-size: 70.7%; font-family: MathJax_Main;">1</span><span class="mo" id="MathJax-Span-4260" style="font-size: 70.7%; font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span></span></span><span class="mo" id="MathJax-Span-4261" style="font-family: MathJax_Main;">,</span><span class="mo" id="MathJax-Span-4262" style="font-family: MathJax_Main; padding-left: 0.167em;">⋯</span><span class="mo" id="MathJax-Span-4263" style="font-family: MathJax_Main; padding-left: 0.167em;">,</span><span class="msubsup" id="MathJax-Span-4264" style="padding-left: 0.167em;"><span style="display: inline-block; position: relative; width: 2.015em; height: 0px;"><span style="position: absolute; clip: rect(1.615em 1000em 2.623em -0.461em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-4265" style="font-family: MathJax_Math; font-style: italic;">F<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.106em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.763em; left: 0.847em;"><span class="texatom" id="MathJax-Span-4266"><span class="mrow" id="MathJax-Span-4267"><span class="mo" id="MathJax-Span-4268" style="font-size: 70.7%; font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-4269" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.032em;"></span></span><span class="mo" id="MathJax-Span-4270" style="font-size: 70.7%; font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span></span></span><span class="mo" id="MathJax-Span-4271" style="font-family: MathJax_Main;">,</span><span class="msubsup" id="MathJax-Span-4272" style="padding-left: 0.167em;"><span style="display: inline-block; position: relative; width: 2.164em; height: 0px;"><span style="position: absolute; clip: rect(1.612em 1000em 2.623em -0.461em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-4273" style="font-family: MathJax_Math; font-style: italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.763em; left: 0.996em;"><span class="texatom" id="MathJax-Span-4274"><span class="mrow" id="MathJax-Span-4275"><span class="mo" id="MathJax-Span-4276" style="font-size: 70.7%; font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-4277" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.032em;"></span></span><span class="mo" id="MathJax-Span-4278" style="font-size: 70.7%; font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span></span></span><span class="mo" id="MathJax-Span-4279" style="font-family: MathJax_Main;">)</span><span class="mo" id="MathJax-Span-4280" style="font-family: MathJax_Main; padding-left: 0.278em;">=</span><span class="munderover" id="MathJax-Span-4281" style="padding-left: 0.278em;"><span style="display: inline-block; position: relative; width: 3.825em; height: 0px;"><span style="position: absolute; clip: rect(2.657em 1000em 4.384em -0.437em); top: -3.77em; left: 1.175em;"><span class="mo" id="MathJax-Span-4282" style="font-family: MathJax_Size2; vertical-align: 0em;">∑</span><span style="display: inline-block; width: 0px; height: 3.77em;"></span></span><span style="position: absolute; clip: rect(1.64em 1000em 2.767em -0.468em); top: -1.188em; left: 0em;"><span class="texatom" id="MathJax-Span-4283"><span class="mrow" id="MathJax-Span-4284"><span class="mi" id="MathJax-Span-4285" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">a</span><span class="mi" id="MathJax-Span-4286" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">c</span><span class="mi" id="MathJax-Span-4287" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">t</span><span class="mi" id="MathJax-Span-4288" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">i</span><span class="mi" id="MathJax-Span-4289" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">v</span><span class="mi" id="MathJax-Span-4290" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">e</span><span class="mspace" id="MathJax-Span-4291" style="height: 0em; vertical-align: 0em; width: 0.413em; display: inline-block; overflow: hidden;"></span><span class="mi" id="MathJax-Span-4292" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">p</span><span class="mi" id="MathJax-Span-4293" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">o</span><span class="mi" id="MathJax-Span-4294" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">o</span><span class="msubsup" id="MathJax-Span-4295"><span style="display: inline-block; position: relative; width: 0.49em; height: 0px;"><span style="position: absolute; clip: rect(1.64em 1000em 2.467em -0.465em); top: -2.295em; left: 0em;"><span class="mi" id="MathJax-Span-4296" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">l</span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span><span style="position: absolute; top: -2.08em; left: 0.219em;"><span class="mi" id="MathJax-Span-4297" style="font-size: 50%; font-family: MathJax_Math; font-style: italic;">j</span><span style="display: inline-block; width: 0px; height: 2.186em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span></span><span class="mi" id="MathJax-Span-4298" style="font-family: MathJax_Main; padding-left: 0.167em;">log</span><span style="display: inline-block; width: 0px; height: 3.989em;"></span></span><span style="position: absolute; clip: rect(2.483em 1000em 5.133em -0.492em); top: -0.801em; left: 50%; margin-left: -7.257em;"><span class="mo" id="MathJax-Span-4299"></span><span class="mfrac" id="MathJax-Span-4300" style=""><span style="display: inline-block; position: relative; width: 14.273em; height: 0px; margin-right: 0.12em; margin-left: 0.12em;"><span style="position: absolute; clip: rect(1.848em 1000em 2.842em -0.409em); top: -3.354em; left: 50%; margin-left: -0.273em;"><span class="mn" id="MathJax-Span-4301" style="font-family: MathJax_Main;">1</span><span style="display: inline-block; width: 0px; height: 2.678em;"></span></span><span style="position: absolute; clip: rect(1.809em 1000em 3.136em -0.436em); top: -1.992em; left: 50%; margin-left: -7.077em;"><span class="mrow" id="MathJax-Span-4302"><span class="mi" id="MathJax-Span-4303" style="font-family: MathJax_Main;">#</span><span class="mi" id="MathJax-Span-4304" style="font-family: MathJax_Math; font-style: italic;">p</span><span class="mi" id="MathJax-Span-4305" style="font-family: MathJax_Math; font-style: italic;">o</span><span class="mi" id="MathJax-Span-4306" style="font-family: MathJax_Math; font-style: italic;">o</span><span class="mi" id="MathJax-Span-4307" style="font-family: MathJax_Math; font-style: italic;">l</span><span class="mspace" id="MathJax-Span-4308" style="height: 0em; vertical-align: 0em; width: 0.413em; display: inline-block; overflow: hidden;"></span><span class="mi" id="MathJax-Span-4309" style="font-family: MathJax_Math; font-style: italic;">m</span><span class="mi" id="MathJax-Span-4310" style="font-family: MathJax_Math; font-style: italic;">e</span><span class="mi" id="MathJax-Span-4311" style="font-family: MathJax_Math; font-style: italic;">m</span><span class="mi" id="MathJax-Span-4312" style="font-family: MathJax_Math; font-style: italic;">b</span><span class="mi" id="MathJax-Span-4313" style="font-family: MathJax_Math; font-style: italic;">e</span><span class="mi" id="MathJax-Span-4314" style="font-family: MathJax_Math; font-style: italic;">r</span><span class="mi" id="MathJax-Span-4315" style="font-family: MathJax_Math; font-style: italic;">s</span><span class="mspace" id="MathJax-Span-4316" style="height: 0em; vertical-align: 0em; width: 0.413em; display: inline-block; overflow: hidden;"></span><span class="mi" id="MathJax-Span-4317" style="font-family: MathJax_Math; font-style: italic;">o</span><span class="mi" id="MathJax-Span-4318" style="font-family: MathJax_Math; font-style: italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.06em;"></span></span><span class="mspace" id="MathJax-Span-4319" style="height: 0em; vertical-align: 0em; width: 0.413em; display: inline-block; overflow: hidden;"></span><span class="mi" id="MathJax-Span-4320" style="font-family: MathJax_Math; font-style: italic;">a</span><span class="mi" id="MathJax-Span-4321" style="font-family: MathJax_Math; font-style: italic;">c</span><span class="mi" id="MathJax-Span-4322" style="font-family: MathJax_Math; font-style: italic;">t</span><span class="mi" id="MathJax-Span-4323" style="font-family: MathJax_Math; font-style: italic;">i</span><span class="mi" id="MathJax-Span-4324" style="font-family: MathJax_Math; font-style: italic;">v</span><span class="mi" id="MathJax-Span-4325" style="font-family: MathJax_Math; font-style: italic;">e</span><span class="mspace" id="MathJax-Span-4326" style="height: 0em; vertical-align: 0em; width: 0.413em; display: inline-block; overflow: hidden;"></span><span class="mi" id="MathJax-Span-4327" style="font-family: MathJax_Math; font-style: italic;">p</span><span class="mi" id="MathJax-Span-4328" style="font-family: MathJax_Math; font-style: italic;">o</span><span class="mi" id="MathJax-Span-4329" style="font-family: MathJax_Math; font-style: italic;">o</span><span class="msubsup" id="MathJax-Span-4330"><span style="display: inline-block; position: relative; width: 0.731em; height: 0px;"><span style="position: absolute; clip: rect(1.601em 1000em 2.634em -0.454em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-4331" style="font-family: MathJax_Math; font-style: italic;">l</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.145em; left: 0.328em;"><span class="mi" id="MathJax-Span-4332" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">j</span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.678em;"></span></span><span style="position: absolute; clip: rect(0.861em 1000em 1.257em -0.492em); top: -1.313em; left: 0em;"><span style="border-left-width: 14.273em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0em;"></span><span style="display: inline-block; width: 0px; height: 1.093em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.989em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 6.12em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 6.378em; vertical-align: -5.153em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-257">
\log p(F^{(1)}, H^{(1)},\cdots, F^{(C)}, H^{(C)})=\sum_{active\hspace{0.2cm}pool_j}\log \frac{1}{\# pool\hspace{0.2cm}members \hspace{0.2cm}of\hspace{0.2cm}active\hspace{0.2cm} pool_j}</script><p></p><p>顶层<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-258-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-4333" style="width: 2.683em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.186em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.082em 1000em 2.35em -0.461em); top: -2.186em; left: 0em;"><span class="mrow" id="MathJax-Span-4334"><span class="msubsup" id="MathJax-Span-4335"><span style="display: inline-block; position: relative; width: 2.164em; height: 0px;"><span style="position: absolute; clip: rect(1.612em 1000em 2.623em -0.461em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-4336" style="font-family: MathJax_Math; font-style: italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.76em; left: 0.996em;"><span class="texatom" id="MathJax-Span-4337"><span class="mrow" id="MathJax-Span-4338"><span class="mo" id="MathJax-Span-4339" style="font-size: 70.7%; font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-4340" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.032em;"></span></span><span class="mo" id="MathJax-Span-4341" style="font-size: 70.7%; font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.186em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.281em; vertical-align: -0.067em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-258">H^{(C)}</script></span>没有父节点。该pool的<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-259-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-4342" style="width: 2.817em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.295em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.591em 1000em 2.645em -0.442em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-4343"><span class="mi" id="MathJax-Span-4344" style="font-family: MathJax_Math; font-style: italic;">O</span><span class="mi" id="MathJax-Span-4345" style="font-family: MathJax_Math; font-style: italic;">F<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.106em;"></span></span><span class="mi" id="MathJax-Span-4346" style="font-family: MathJax_Math; font-style: italic;">F<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.106em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.019em; vertical-align: -0.094em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-259">OFF</script></span>概率为0(只激活一个pool member), 并包含下一层的所有特征变量作为池成员。这表明它可以在任何位置产生任何物体(顶层特征表示一整个物体)。该池化层比较特殊，只有一个池化层，而其他的所有池化层，即使只有一个通道，在拓补上也会有多个pool。</p><p>目前所说的分层模型都是直接用来构建边缘图像模型，但是在很多情况下都是能灵活运用的。如果使用平移pool，在生成过程中，通过改变pool的shape，我们可以控制变形数量。但是我们发现如果不设定这个值(distortion)也能产生完全合理的记过：值太小会导致图像太过生硬，不能很好地适应实际图像的扭曲(corner made of many pools with close-to-zero pool shape results in two almost rigid edges)。而值太大又会导致在形状上不连续(the previous corner would look like a cloud of points with no clear edges, since each pool choice is independent of the rest)。</p><p>为了解决这个问题,我们希望得到一些特征，这些特征能够产生多个pool，并且比较协调(拐角可以变形，但是看起来仍然是一个拐角，并且边缘是连续的)。</p><h4 id="2.3.2-横向连接"><a name="2.3.2-横向连接" href="#2.3.2-横向连接"></a>2.3.2 横向连接</h4><p>在没有横向连接的例子中，<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-260-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-4347" style="width: 6.883em; display: inline-block;"><span style="display: inline-block; position: relative; width: 5.628em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.573em 1000em 3.092em -0.531em); top: -2.678em; left: 0em;"><span class="mrow" id="MathJax-Span-4348"><span class="mi" id="MathJax-Span-4349" style="font-family: MathJax_Math; font-style: italic;">p</span><span class="mo" id="MathJax-Span-4350" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-4351"><span style="display: inline-block; position: relative; width: 1.836em; height: 0px;"><span style="position: absolute; clip: rect(1.612em 1000em 2.623em -0.461em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-4352" style="font-family: MathJax_Math; font-style: italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.76em; left: 0.996em;"><span class="texatom" id="MathJax-Span-4353"><span class="mrow" id="MathJax-Span-4354"><span class="mo" id="MathJax-Span-4355" style="font-size: 70.7%; font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-4356" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">l</span><span class="mo" id="MathJax-Span-4357" style="font-size: 70.7%; font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span></span></span><span class="texatom" id="MathJax-Span-4358"><span class="mrow" id="MathJax-Span-4359"><span class="mo" id="MathJax-Span-4360" style="font-family: MathJax_Main;">|</span></span></span><span class="msubsup" id="MathJax-Span-4361"><span style="display: inline-block; position: relative; width: 2.616em; height: 0px;"><span style="position: absolute; clip: rect(1.615em 1000em 2.623em -0.461em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-4362" style="font-family: MathJax_Math; font-style: italic;">F<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.106em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.757em; left: 0.847em;"><span class="texatom" id="MathJax-Span-4363"><span class="mrow" id="MathJax-Span-4364"><span class="mo" id="MathJax-Span-4365" style="font-size: 70.7%; font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-4366" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">l</span><span class="mo" id="MathJax-Span-4367" style="font-size: 70.7%; font-family: MathJax_Main;">+</span><span class="mn" id="MathJax-Span-4368" style="font-size: 70.7%; font-family: MathJax_Main;">1</span><span class="mo" id="MathJax-Span-4369" style="font-size: 70.7%; font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.678em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.586em; vertical-align: -0.372em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-260">p(H^{(l)}|F^{(l+1)}</script></span>是能被完全拆分的。这表示在pool的选择上没有协调。我们可以通过使属于同一个父节点的不同pool之间发生联系来协调这些pool的选择。拆分公式为：</p><p><span class="MathJax_Preview"></span></p><div class="MathJax_Display" role="textbox" aria-readonly="true" style="text-align: center;"><span class="MathJax" id="MathJax-Element-261-Frame"><nobr><span class="math" id="MathJax-Span-4370" style="width: 37.15em; display: inline-block;"><span style="display: inline-block; position: relative; width: 30.437em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.462em 1000em 4.289em -0.466em); top: -2.678em; left: 0em;"><span class="mrow" id="MathJax-Span-4371"><span class="mi" id="MathJax-Span-4372" style="font-family: MathJax_Main;">log</span><span class="mo" id="MathJax-Span-4373"></span><span class="mi" id="MathJax-Span-4374" style="font-family: MathJax_Math; font-style: italic; padding-left: 0.167em;">p</span><span class="mo" id="MathJax-Span-4375" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-4376"><span style="display: inline-block; position: relative; width: 1.836em; height: 0px;"><span style="position: absolute; clip: rect(1.612em 1000em 2.623em -0.461em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-4377" style="font-family: MathJax_Math; font-style: italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.763em; left: 0.996em;"><span class="texatom" id="MathJax-Span-4378"><span class="mrow" id="MathJax-Span-4379"><span class="mo" id="MathJax-Span-4380" style="font-size: 70.7%; font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-4381" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">l</span><span class="mo" id="MathJax-Span-4382" style="font-size: 70.7%; font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span></span></span><span class="texatom" id="MathJax-Span-4383"><span class="mrow" id="MathJax-Span-4384"><span class="mo" id="MathJax-Span-4385" style="font-family: MathJax_Main;">|</span></span></span><span class="msubsup" id="MathJax-Span-4386"><span style="display: inline-block; position: relative; width: 2.616em; height: 0px;"><span style="position: absolute; clip: rect(1.615em 1000em 2.623em -0.461em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-4387" style="font-family: MathJax_Math; font-style: italic;">F<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.106em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.763em; left: 0.847em;"><span class="texatom" id="MathJax-Span-4388"><span class="mrow" id="MathJax-Span-4389"><span class="mo" id="MathJax-Span-4390" style="font-size: 70.7%; font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-4391" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">l</span><span class="mo" id="MathJax-Span-4392" style="font-size: 70.7%; font-family: MathJax_Main;">+</span><span class="mn" id="MathJax-Span-4393" style="font-size: 70.7%; font-family: MathJax_Main;">1</span><span class="mo" id="MathJax-Span-4394" style="font-size: 70.7%; font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span></span></span><span class="mo" id="MathJax-Span-4395" style="font-family: MathJax_Main;">)</span><span class="mo" id="MathJax-Span-4396" style="font-family: MathJax_Main; padding-left: 0.278em;">=</span><span class="munderover" id="MathJax-Span-4397" style="padding-left: 0.278em;"><span style="display: inline-block; position: relative; width: 1.752em; height: 0px;"><span style="position: absolute; clip: rect(2.657em 1000em 4.384em -0.437em); top: -3.77em; left: 0.138em;"><span class="mo" id="MathJax-Span-4398" style="font-family: MathJax_Size2; vertical-align: 0em;">∑</span><span style="display: inline-block; width: 0px; height: 3.77em;"></span></span><span style="position: absolute; clip: rect(3.24em 1000em 4.398em -0.453em); top: -2.787em; left: 0em;"><span class="texatom" id="MathJax-Span-4399"><span class="mrow" id="MathJax-Span-4400"><span class="msup" id="MathJax-Span-4401"><span style="display: inline-block; position: relative; width: 0.662em; height: 0px;"><span style="position: absolute; clip: rect(1.633em 1000em 2.604em -0.453em); top: -2.295em; left: 0em;"><span class="mi" id="MathJax-Span-4402" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.042em;"></span></span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span><span style="position: absolute; top: -2.491em; left: 0.445em;"><span class="mo" id="MathJax-Span-4403" style="font-size: 50%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 2.186em;"></span></span></span></span><span class="msup" id="MathJax-Span-4404"><span style="display: inline-block; position: relative; width: 0.545em; height: 0px;"><span style="position: absolute; clip: rect(1.819em 1000em 2.467em -0.477em); top: -2.295em; left: 0em;"><span class="mi" id="MathJax-Span-4405" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">r</span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span><span style="position: absolute; top: -2.442em; left: 0.328em;"><span class="mo" id="MathJax-Span-4406" style="font-size: 50%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 2.186em;"></span></span></span></span><span class="msup" id="MathJax-Span-4407"><span style="display: inline-block; position: relative; width: 0.545em; height: 0px;"><span style="position: absolute; clip: rect(1.819em 1000em 2.467em -0.468em); top: -2.295em; left: 0em;"><span class="mi" id="MathJax-Span-4408" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">c</span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span><span style="position: absolute; top: -2.442em; left: 0.328em;"><span class="mo" id="MathJax-Span-4409" style="font-size: 50%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 2.186em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.989em;"></span></span></span></span><span class="mi" id="MathJax-Span-4410" style="font-family: MathJax_Main; padding-left: 0.167em;">log</span><span class="mo" id="MathJax-Span-4411"></span><span class="mi" id="MathJax-Span-4412" style="font-family: MathJax_Math; font-style: italic; padding-left: 0.167em;">p</span><span class="mo" id="MathJax-Span-4413" style="font-family: MathJax_Main;">(</span><span class="mo" id="MathJax-Span-4414" style="font-family: MathJax_Main;">{</span><span class="msubsup" id="MathJax-Span-4415"><span style="display: inline-block; position: relative; width: 1.985em; height: 0px;"><span style="position: absolute; clip: rect(1.612em 1000em 2.623em -0.461em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-4416" style="font-family: MathJax_Math; font-style: italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; clip: rect(1.655em 1000em 2.69em -0.425em); top: -2.871em; left: 0.996em;"><span class="texatom" id="MathJax-Span-4417"><span class="mrow" id="MathJax-Span-4418"><span class="mo" id="MathJax-Span-4419" style="font-size: 70.7%; font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-4420" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">l</span><span class="mo" id="MathJax-Span-4421" style="font-size: 70.7%; font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span><span style="position: absolute; clip: rect(1.633em 1000em 2.604em -0.453em); top: -1.961em; left: 0.872em;"><span class="texatom" id="MathJax-Span-4422"><span class="mrow" id="MathJax-Span-4423"><span class="mi" id="MathJax-Span-4424" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.042em;"></span></span><span class="mi" id="MathJax-Span-4425" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">r</span><span class="mi" id="MathJax-Span-4426" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">c</span></span></span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span></span><span class="mo" id="MathJax-Span-4427" style="font-family: MathJax_Main; padding-left: 0.278em;">:</span><span class="mi" id="MathJax-Span-4428" style="font-family: MathJax_Math; font-style: italic; padding-left: 0.278em;">w</span><span class="mi" id="MathJax-Span-4429" style="font-family: MathJax_Math; font-style: italic;">h</span><span class="mi" id="MathJax-Span-4430" style="font-family: MathJax_Math; font-style: italic;">o</span><span class="mi" id="MathJax-Span-4431" style="font-family: MathJax_Math; font-style: italic;">s</span><span class="mi" id="MathJax-Span-4432" style="font-family: MathJax_Math; font-style: italic;">e</span><span class="mspace" id="MathJax-Span-4433" style="height: 0em; vertical-align: 0em; width: 0.413em; display: inline-block; overflow: hidden;"></span><span class="mi" id="MathJax-Span-4434" style="font-family: MathJax_Math; font-style: italic;">p</span><span class="mi" id="MathJax-Span-4435" style="font-family: MathJax_Math; font-style: italic;">a</span><span class="mi" id="MathJax-Span-4436" style="font-family: MathJax_Math; font-style: italic;">r</span><span class="mi" id="MathJax-Span-4437" style="font-family: MathJax_Math; font-style: italic;">e</span><span class="mi" id="MathJax-Span-4438" style="font-family: MathJax_Math; font-style: italic;">n</span><span class="mi" id="MathJax-Span-4439" style="font-family: MathJax_Math; font-style: italic;">t</span><span class="mspace" id="MathJax-Span-4440" style="height: 0em; vertical-align: 0em; width: 0.413em; display: inline-block; overflow: hidden;"></span><span class="mi" id="MathJax-Span-4441" style="font-family: MathJax_Math; font-style: italic;">i</span><span class="mi" id="MathJax-Span-4442" style="font-family: MathJax_Math; font-style: italic;">s</span><span class="mspace" id="MathJax-Span-4443" style="height: 0em; vertical-align: 0em; width: 0.413em; display: inline-block; overflow: hidden;"></span><span class="msubsup" id="MathJax-Span-4444"><span style="display: inline-block; position: relative; width: 2.616em; height: 0px;"><span style="position: absolute; clip: rect(1.615em 1000em 2.623em -0.461em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-4445" style="font-family: MathJax_Math; font-style: italic;">F<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.106em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; clip: rect(1.655em 1000em 2.69em -0.425em); top: -2.871em; left: 0.847em;"><span class="texatom" id="MathJax-Span-4446"><span class="mrow" id="MathJax-Span-4447"><span class="mo" id="MathJax-Span-4448" style="font-size: 70.7%; font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-4449" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">l</span><span class="mo" id="MathJax-Span-4450" style="font-size: 70.7%; font-family: MathJax_Main;">+</span><span class="mn" id="MathJax-Span-4451" style="font-size: 70.7%; font-family: MathJax_Main;">1</span><span class="mo" id="MathJax-Span-4452" style="font-size: 70.7%; font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span><span style="position: absolute; clip: rect(3.24em 1000em 4.298em -0.453em); top: -3.568em; left: 0.659em;"><span class="texatom" id="MathJax-Span-4453"><span class="mrow" id="MathJax-Span-4454"><span class="msup" id="MathJax-Span-4455"><span style="display: inline-block; position: relative; width: 0.662em; height: 0px;"><span style="position: absolute; clip: rect(1.633em 1000em 2.604em -0.453em); top: -2.295em; left: 0em;"><span class="mi" id="MathJax-Span-4456" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.042em;"></span></span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span><span style="position: absolute; top: -2.491em; left: 0.445em;"><span class="mo" id="MathJax-Span-4457" style="font-size: 50%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 2.186em;"></span></span></span></span><span class="msup" id="MathJax-Span-4458"><span style="display: inline-block; position: relative; width: 0.545em; height: 0px;"><span style="position: absolute; clip: rect(1.819em 1000em 2.467em -0.477em); top: -2.295em; left: 0em;"><span class="mi" id="MathJax-Span-4459" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">r</span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span><span style="position: absolute; top: -2.39em; left: 0.328em;"><span class="mo" id="MathJax-Span-4460" style="font-size: 50%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 2.186em;"></span></span></span></span><span class="msup" id="MathJax-Span-4461"><span style="display: inline-block; position: relative; width: 0.545em; height: 0px;"><span style="position: absolute; clip: rect(1.819em 1000em 2.467em -0.468em); top: -2.295em; left: 0em;"><span class="mi" id="MathJax-Span-4462" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">c</span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span><span style="position: absolute; top: -2.39em; left: 0.328em;"><span class="mo" id="MathJax-Span-4463" style="font-size: 50%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 2.186em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.989em;"></span></span></span></span><span class="texatom" id="MathJax-Span-4464"><span class="mrow" id="MathJax-Span-4465"><span class="mo" id="MathJax-Span-4466" style="font-family: MathJax_Main;">|</span></span></span><span class="msubsup" id="MathJax-Span-4467"><span style="display: inline-block; position: relative; width: 2.616em; height: 0px;"><span style="position: absolute; clip: rect(1.615em 1000em 2.623em -0.461em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-4468" style="font-family: MathJax_Math; font-style: italic;">F<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.106em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; clip: rect(1.655em 1000em 2.69em -0.425em); top: -2.871em; left: 0.847em;"><span class="texatom" id="MathJax-Span-4469"><span class="mrow" id="MathJax-Span-4470"><span class="mo" id="MathJax-Span-4471" style="font-size: 70.7%; font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-4472" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">l</span><span class="mo" id="MathJax-Span-4473" style="font-size: 70.7%; font-family: MathJax_Main;">+</span><span class="mn" id="MathJax-Span-4474" style="font-size: 70.7%; font-family: MathJax_Main;">1</span><span class="mo" id="MathJax-Span-4475" style="font-size: 70.7%; font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span><span style="position: absolute; clip: rect(3.24em 1000em 4.298em -0.453em); top: -3.568em; left: 0.659em;"><span class="texatom" id="MathJax-Span-4476"><span class="mrow" id="MathJax-Span-4477"><span class="msup" id="MathJax-Span-4478"><span style="display: inline-block; position: relative; width: 0.662em; height: 0px;"><span style="position: absolute; clip: rect(1.633em 1000em 2.604em -0.453em); top: -2.295em; left: 0em;"><span class="mi" id="MathJax-Span-4479" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.042em;"></span></span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span><span style="position: absolute; top: -2.491em; left: 0.445em;"><span class="mo" id="MathJax-Span-4480" style="font-size: 50%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 2.186em;"></span></span></span></span><span class="msup" id="MathJax-Span-4481"><span style="display: inline-block; position: relative; width: 0.545em; height: 0px;"><span style="position: absolute; clip: rect(1.819em 1000em 2.467em -0.477em); top: -2.295em; left: 0em;"><span class="mi" id="MathJax-Span-4482" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">r</span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span><span style="position: absolute; top: -2.39em; left: 0.328em;"><span class="mo" id="MathJax-Span-4483" style="font-size: 50%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 2.186em;"></span></span></span></span><span class="msup" id="MathJax-Span-4484"><span style="display: inline-block; position: relative; width: 0.545em; height: 0px;"><span style="position: absolute; clip: rect(1.819em 1000em 2.467em -0.468em); top: -2.295em; left: 0em;"><span class="mi" id="MathJax-Span-4485" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">c</span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span><span style="position: absolute; top: -2.39em; left: 0.328em;"><span class="mo" id="MathJax-Span-4486" style="font-size: 50%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 2.186em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.989em;"></span></span></span></span><span class="mo" id="MathJax-Span-4487" style="font-family: MathJax_Main;">}</span><span class="mo" id="MathJax-Span-4488" style="font-family: MathJax_Main;">)</span></span><span style="display: inline-block; width: 0px; height: 2.678em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 3.182em; vertical-align: -1.832em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-261">
\log p(H^{(l)}|F^{(l+1)})=\sum_{f'r'c'}\log p(\{H^{(l)}_{frc}: whose\hspace{0.2cm} parent\hspace{0.2cm}is\hspace{0.2cm}F^{(l+1)}_{f'r'c'}|F^{(l+1)}_{f'r'c'} \})</script><p></p><p>接下来可以通过引入某些池变量状态之间的成对约束来定义拥有同一个parent的pool集合的联合概率。考虑拥有同一个父节点<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-262-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-4489" style="width: 0.95em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.765em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.615em 1000em 2.623em -0.461em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-4490"><span class="mi" id="MathJax-Span-4491" style="font-family: MathJax_Math; font-style: italic;">F<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.106em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.963em; vertical-align: -0.067em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-262">F</script></span>的pool集合<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-263-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-4492" style="width: 2.817em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.295em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.764em 1000em 3.136em -0.427em); top: -2.678em; left: 0em;"><span class="mrow" id="MathJax-Span-4493"><span class="mo" id="MathJax-Span-4494" style="font-family: MathJax_Main;">{</span><span class="msubsup" id="MathJax-Span-4495"><span style="display: inline-block; position: relative; width: 1.275em; height: 0px;"><span style="position: absolute; clip: rect(1.612em 1000em 2.623em -0.461em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-4496" style="font-family: MathJax_Math; font-style: italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.145em; left: 0.872em;"><span class="mi" id="MathJax-Span-4497" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">j</span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span></span><span class="mo" id="MathJax-Span-4498" style="font-family: MathJax_Main;">}</span></span><span style="display: inline-block; width: 0px; height: 2.678em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.407em; vertical-align: -0.426em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-263">\{H_j\}</script></span>(为了方便省掉层标号和位置标号)。根据前面的描述,<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-264-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-4499" style="width: 0.95em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.765em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.615em 1000em 2.623em -0.461em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-4500"><span class="mi" id="MathJax-Span-4501" style="font-family: MathJax_Math; font-style: italic;">F<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.106em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.963em; vertical-align: -0.067em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-264">F</script></span>是由一些三元组<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-265-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-4502" style="width: 18.017em; display: inline-block;"><span style="display: inline-block; position: relative; width: 14.754em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.764em 1000em 3.097em -0.398em); top: -2.678em; left: 0em;"><span class="mrow" id="MathJax-Span-4503"><span class="mo" id="MathJax-Span-4504" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-4505"><span style="display: inline-block; position: relative; width: 0.999em; height: 0px;"><span style="position: absolute; clip: rect(1.59em 1000em 2.828em -0.437em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-4506" style="font-family: MathJax_Math; font-style: italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.06em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.109em; left: 0.541em;"><span class="mn" id="MathJax-Span-4507" style="font-size: 70.7%; font-family: MathJax_Main;">1</span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span></span></span><span class="mo" id="MathJax-Span-4508" style="font-family: MathJax_Main;">,</span><span class="mi" id="MathJax-Span-4509" style="font-family: MathJax_Main; padding-left: 0.167em;">Δ</span><span class="msubsup" id="MathJax-Span-4510"><span style="display: inline-block; position: relative; width: 0.949em; height: 0px;"><span style="position: absolute; clip: rect(1.853em 1000em 2.634em -0.471em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-4511" style="font-family: MathJax_Math; font-style: italic;">r</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.2em; left: 0.492em;"><span class="mn" id="MathJax-Span-4512" style="font-size: 70.7%; font-family: MathJax_Main;">1</span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span></span></span><span class="mo" id="MathJax-Span-4513" style="font-family: MathJax_Main;">,</span><span class="mi" id="MathJax-Span-4514" style="font-family: MathJax_Main; padding-left: 0.167em;">Δ</span><span class="msubsup" id="MathJax-Span-4515"><span style="display: inline-block; position: relative; width: 0.895em; height: 0px;"><span style="position: absolute; clip: rect(1.853em 1000em 2.634em -0.458em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-4516" style="font-family: MathJax_Math; font-style: italic;">c</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.2em; left: 0.437em;"><span class="mn" id="MathJax-Span-4517" style="font-size: 70.7%; font-family: MathJax_Main;">1</span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span></span></span><span class="mo" id="MathJax-Span-4518" style="font-family: MathJax_Main;">)</span><span class="mo" id="MathJax-Span-4519" style="font-family: MathJax_Main;">,</span><span class="mo" id="MathJax-Span-4520" style="font-family: MathJax_Main; padding-left: 0.167em;">⋯</span><span class="mo" id="MathJax-Span-4521" style="font-family: MathJax_Main; padding-left: 0.167em;">,</span><span class="mo" id="MathJax-Span-4522" style="font-family: MathJax_Main; padding-left: 0.167em;">(</span><span class="msubsup" id="MathJax-Span-4523"><span style="display: inline-block; position: relative; width: 1.053em; height: 0px;"><span style="position: absolute; clip: rect(1.59em 1000em 2.828em -0.437em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-4524" style="font-family: MathJax_Math; font-style: italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.06em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.055em; left: 0.541em;"><span class="mi" id="MathJax-Span-4525" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">J<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.055em;"></span></span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span></span><span class="mo" id="MathJax-Span-4526" style="font-family: MathJax_Main;">,</span><span class="mi" id="MathJax-Span-4527" style="font-family: MathJax_Main; padding-left: 0.167em;">Δ</span><span class="msubsup" id="MathJax-Span-4528"><span style="display: inline-block; position: relative; width: 1.004em; height: 0px;"><span style="position: absolute; clip: rect(1.853em 1000em 2.634em -0.471em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-4529" style="font-family: MathJax_Math; font-style: italic;">r</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.145em; left: 0.492em;"><span class="mi" id="MathJax-Span-4530" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">J<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.055em;"></span></span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span></span><span class="mo" id="MathJax-Span-4531" style="font-family: MathJax_Main;">,</span><span class="mi" id="MathJax-Span-4532" style="font-family: MathJax_Main; padding-left: 0.167em;">Δ</span><span class="msubsup" id="MathJax-Span-4533"><span style="display: inline-block; position: relative; width: 0.949em; height: 0px;"><span style="position: absolute; clip: rect(1.853em 1000em 2.634em -0.458em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-4534" style="font-family: MathJax_Math; font-style: italic;">c</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.145em; left: 0.437em;"><span class="mi" id="MathJax-Span-4535" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">J<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.055em;"></span></span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span></span><span class="mo" id="MathJax-Span-4536" style="font-family: MathJax_Main;">)</span></span><span style="display: inline-block; width: 0px; height: 2.678em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.361em; vertical-align: -0.379em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-265">(f_1, \Delta r_1, \Delta c_1),\cdots,(f_J, \Delta r_J, \Delta c_J)</script></span>来定义，这些三元组指明该层下面层的哪些pool被激活,这些pool的位置是相对于<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-266-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-4537" style="width: 0.95em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.765em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.615em 1000em 2.623em -0.461em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-4538"><span class="mi" id="MathJax-Span-4539" style="font-family: MathJax_Math; font-style: italic;">F<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.106em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.963em; vertical-align: -0.067em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-266">F</script></span>的位置来进行编码的。我们可以通过在池<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-267-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-4540" style="width: 0.483em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.383em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.634em 1000em 2.634em -0.471em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-4541"><span class="mi" id="MathJax-Span-4542" style="font-family: MathJax_Math; font-style: italic;">i</span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.953em; vertical-align: -0.08em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-267">i</script></span>和池<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-268-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-4543" style="width: 0.55em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.437em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.634em 1000em 2.827em -0.504em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-4544"><span class="mi" id="MathJax-Span-4545" style="font-family: MathJax_Math; font-style: italic;">j</span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.189em; vertical-align: -0.316em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-268">j</script></span>之间放入一些成对约束来扩充这些信息,写作<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-269-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-4546" style="width: 1.083em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.874em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.58em 1000em 2.508em -0.439em); top: -2.186em; left: 0em;"><span class="mrow" id="MathJax-Span-4547"><span class="msubsup" id="MathJax-Span-4548"><span style="display: inline-block; position: relative; width: 0.84em; height: 0px;"><span style="position: absolute; clip: rect(1.853em 1000em 2.633em -0.439em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-4549" style="font-family: MathJax_Math; font-style: italic;">s</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.145em; left: 0.492em;"><span class="mi" id="MathJax-Span-4550" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">i</span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.186em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.865em; vertical-align: -0.259em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-269">s_i</script></span>和<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-270-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-4551" style="width: 1.15em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.929em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.58em 1000em 2.644em -0.439em); top: -2.186em; left: 0em;"><span class="mrow" id="MathJax-Span-4552"><span class="msubsup" id="MathJax-Span-4553"><span style="display: inline-block; position: relative; width: 0.895em; height: 0px;"><span style="position: absolute; clip: rect(1.853em 1000em 2.633em -0.439em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-4554" style="font-family: MathJax_Math; font-style: italic;">s</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.145em; left: 0.492em;"><span class="mi" id="MathJax-Span-4555" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">j</span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.186em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.032em; vertical-align: -0.426em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-270">s_j</script></span>。<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-271-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-4556" style="width: 6.417em; display: inline-block;"><span style="display: inline-block; position: relative; width: 5.246em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.764em 1000em 3.268em -0.427em); top: -2.678em; left: 0em;"><span class="mrow" id="MathJax-Span-4557"><span class="mo" id="MathJax-Span-4558" style="font-family: MathJax_Main;">{</span><span class="msubsup" id="MathJax-Span-4559"><span style="display: inline-block; position: relative; width: 1.288em; height: 0px;"><span style="position: absolute; clip: rect(1.853em 1000em 2.634em -0.458em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-4560" style="font-family: MathJax_Math; font-style: italic;">c</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -3.835em; left: 0.437em;"><span class="texatom" id="MathJax-Span-4561"><span class="mrow" id="MathJax-Span-4562"><span class="msubsup" id="MathJax-Span-4563"><span style="display: inline-block; position: relative; width: 0.776em; height: 0px;"><span style="position: absolute; clip: rect(1.633em 1000em 2.604em -0.453em); top: -2.295em; left: 0em;"><span class="mi" id="MathJax-Span-4564" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.042em;"></span></span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span><span style="position: absolute; top: -2.016em; left: 0.34em;"><span class="texatom" id="MathJax-Span-4565"><span class="mrow" id="MathJax-Span-4566"><span class="mi" id="MathJax-Span-4567" style="font-size: 50%; font-family: MathJax_Math; font-style: italic;">i</span><span class="mi" id="MathJax-Span-4568" style="font-size: 50%; font-family: MathJax_Math; font-style: italic;">j</span></span></span><span style="display: inline-block; width: 0px; height: 2.186em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.989em;"></span></span></span></span><span class="mo" id="MathJax-Span-4569" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-4570"><span style="display: inline-block; position: relative; width: 0.84em; height: 0px;"><span style="position: absolute; clip: rect(1.853em 1000em 2.633em -0.439em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-4571" style="font-family: MathJax_Math; font-style: italic;">s</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.145em; left: 0.492em;"><span class="mi" id="MathJax-Span-4572" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">i</span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span></span><span class="mo" id="MathJax-Span-4573" style="font-family: MathJax_Main;">,</span><span class="msubsup" id="MathJax-Span-4574" style="padding-left: 0.167em;"><span style="display: inline-block; position: relative; width: 0.895em; height: 0px;"><span style="position: absolute; clip: rect(1.853em 1000em 2.633em -0.439em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-4575" style="font-family: MathJax_Math; font-style: italic;">s</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.145em; left: 0.492em;"><span class="mi" id="MathJax-Span-4576" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">j</span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span></span><span class="mo" id="MathJax-Span-4577" style="font-family: MathJax_Main;">)</span><span class="mo" id="MathJax-Span-4578" style="font-family: MathJax_Main;">}</span></span><span style="display: inline-block; width: 0px; height: 2.678em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.568em; vertical-align: -0.586em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-271">\{c_{f_{ij}}(s_i, s_j)\}</script></span>表示哪些对的状态是被允许的(constraint的值为1)。</p><p>对于每一个特征<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-272-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-4579" style="width: 0.95em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.765em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.615em 1000em 2.623em -0.461em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-4580"><span class="mi" id="MathJax-Span-4581" style="font-family: MathJax_Math; font-style: italic;">F<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.106em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.963em; vertical-align: -0.067em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-272">F</script></span>，<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-273-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-4582" style="width: 0.95em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.765em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.615em 1000em 2.623em -0.461em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-4583"><span class="mi" id="MathJax-Span-4584" style="font-family: MathJax_Math; font-style: italic;">F<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.106em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.963em; vertical-align: -0.067em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-273">F</script></span>都为其子集池指定了一组限制条件<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-274-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-4585" style="width: 6.617em; display: inline-block;"><span style="display: inline-block; position: relative; width: 5.41em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.764em 1000em 3.2em -0.427em); top: -2.678em; left: 0em;"><span class="mrow" id="MathJax-Span-4586"><span class="mo" id="MathJax-Span-4587" style="font-family: MathJax_Main;">{</span><span class="msubsup" id="MathJax-Span-4588"><span style="display: inline-block; position: relative; width: 1.419em; height: 0px;"><span style="position: absolute; clip: rect(1.853em 1000em 2.634em -0.458em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-4589" style="font-family: MathJax_Math; font-style: italic;">c</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -3.839em; left: 0.437em;"><span class="texatom" id="MathJax-Span-4590"><span class="mrow" id="MathJax-Span-4591"><span class="msubsup" id="MathJax-Span-4592"><span style="display: inline-block; position: relative; width: 0.907em; height: 0px;"><span style="position: absolute; clip: rect(1.65em 1000em 2.459em -0.47em); top: -2.295em; left: 0em;"><span class="mi" id="MathJax-Span-4593" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">F<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.075em;"></span></span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span><span style="position: absolute; top: -2.08em; left: 0.471em;"><span class="texatom" id="MathJax-Span-4594"><span class="mrow" id="MathJax-Span-4595"><span class="mi" id="MathJax-Span-4596" style="font-size: 50%; font-family: MathJax_Math; font-style: italic;">i</span><span class="mi" id="MathJax-Span-4597" style="font-size: 50%; font-family: MathJax_Math; font-style: italic;">j</span></span></span><span style="display: inline-block; width: 0px; height: 2.186em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.989em;"></span></span></span></span><span class="mo" id="MathJax-Span-4598" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-4599"><span style="display: inline-block; position: relative; width: 0.84em; height: 0px;"><span style="position: absolute; clip: rect(1.853em 1000em 2.633em -0.439em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-4600" style="font-family: MathJax_Math; font-style: italic;">s</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.145em; left: 0.492em;"><span class="mi" id="MathJax-Span-4601" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">i</span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span></span><span class="mo" id="MathJax-Span-4602" style="font-family: MathJax_Main;">,</span><span class="msubsup" id="MathJax-Span-4603" style="padding-left: 0.167em;"><span style="display: inline-block; position: relative; width: 0.895em; height: 0px;"><span style="position: absolute; clip: rect(1.853em 1000em 2.633em -0.439em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-4604" style="font-family: MathJax_Math; font-style: italic;">s</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.145em; left: 0.492em;"><span class="mi" id="MathJax-Span-4605" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">j</span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span></span><span class="mo" id="MathJax-Span-4606" style="font-family: MathJax_Main;">)</span><span class="mo" id="MathJax-Span-4607" style="font-family: MathJax_Main;">}</span></span><span style="display: inline-block; width: 0px; height: 2.678em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.485em; vertical-align: -0.504em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-274">\{c_{F_{ij}}(s_i,s_j)\}</script></span>,联合密度为:</p><p><span class="MathJax_Preview"></span></p><div class="MathJax_Display" role="textbox" aria-readonly="true" style="text-align: center;"><span class="MathJax" id="MathJax-Element-275-Frame"><nobr><span class="math" id="MathJax-Span-4608" style="width: 38.683em; display: inline-block;"><span style="display: inline-block; position: relative; width: 31.694em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(2.622em 1000em 5.949em -0.531em); top: -4.536em; left: 0em;"><span class="mrow" id="MathJax-Span-4609"><span class="mi" id="MathJax-Span-4610" style="font-family: MathJax_Math; font-style: italic;">p</span><span class="mo" id="MathJax-Span-4611" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-4612"><span style="display: inline-block; position: relative; width: 1.329em; height: 0px;"><span style="position: absolute; clip: rect(1.612em 1000em 2.623em -0.461em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-4613" style="font-family: MathJax_Math; font-style: italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.2em; left: 0.872em;"><span class="mn" id="MathJax-Span-4614" style="font-size: 70.7%; font-family: MathJax_Main;">1</span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span></span></span><span class="mo" id="MathJax-Span-4615" style="font-family: MathJax_Main; padding-left: 0.278em;">=</span><span class="msubsup" id="MathJax-Span-4616" style="padding-left: 0.278em;"><span style="display: inline-block; position: relative; width: 0.949em; height: 0px;"><span style="position: absolute; clip: rect(1.853em 1000em 2.633em -0.439em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-4617" style="font-family: MathJax_Math; font-style: italic;">s</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.2em; left: 0.492em;"><span class="mn" id="MathJax-Span-4618" style="font-size: 70.7%; font-family: MathJax_Main;">1</span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span></span></span><span class="mo" id="MathJax-Span-4619" style="font-family: MathJax_Main;">,</span><span class="msubsup" id="MathJax-Span-4620" style="padding-left: 0.167em;"><span style="display: inline-block; position: relative; width: 1.329em; height: 0px;"><span style="position: absolute; clip: rect(1.612em 1000em 2.623em -0.461em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-4621" style="font-family: MathJax_Math; font-style: italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.2em; left: 0.872em;"><span class="mn" id="MathJax-Span-4622" style="font-size: 70.7%; font-family: MathJax_Main;">2</span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span></span></span><span class="mo" id="MathJax-Span-4623" style="font-family: MathJax_Main; padding-left: 0.278em;">=</span><span class="msubsup" id="MathJax-Span-4624" style="padding-left: 0.278em;"><span style="display: inline-block; position: relative; width: 0.949em; height: 0px;"><span style="position: absolute; clip: rect(1.853em 1000em 2.633em -0.439em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-4625" style="font-family: MathJax_Math; font-style: italic;">s</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.2em; left: 0.492em;"><span class="mn" id="MathJax-Span-4626" style="font-size: 70.7%; font-family: MathJax_Main;">2</span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span></span></span><span class="mo" id="MathJax-Span-4627" style="font-family: MathJax_Main;">,</span><span class="mo" id="MathJax-Span-4628" style="font-family: MathJax_Main; padding-left: 0.167em;">⋯</span><span class="mo" id="MathJax-Span-4629" style="font-family: MathJax_Main; padding-left: 0.167em;">,</span><span class="msubsup" id="MathJax-Span-4630" style="padding-left: 0.167em;"><span style="display: inline-block; position: relative; width: 1.384em; height: 0px;"><span style="position: absolute; clip: rect(1.612em 1000em 2.623em -0.461em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-4631" style="font-family: MathJax_Math; font-style: italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.145em; left: 0.872em;"><span class="mi" id="MathJax-Span-4632" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">J<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.055em;"></span></span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span></span><span class="mo" id="MathJax-Span-4633" style="font-family: MathJax_Main; padding-left: 0.278em;">=</span><span class="msubsup" id="MathJax-Span-4634" style="padding-left: 0.278em;"><span style="display: inline-block; position: relative; width: 1.004em; height: 0px;"><span style="position: absolute; clip: rect(1.853em 1000em 2.633em -0.439em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-4635" style="font-family: MathJax_Math; font-style: italic;">s</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.145em; left: 0.492em;"><span class="mi" id="MathJax-Span-4636" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">J<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.055em;"></span></span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span></span><span class="texatom" id="MathJax-Span-4637"><span class="mrow" id="MathJax-Span-4638"><span class="mo" id="MathJax-Span-4639" style="font-family: MathJax_Main;">|</span></span></span><span class="mi" id="MathJax-Span-4640" style="font-family: MathJax_Math; font-style: italic;">F<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.106em;"></span></span><span class="mo" id="MathJax-Span-4641" style="font-family: MathJax_Main; padding-left: 0.278em;">=</span><span class="mn" id="MathJax-Span-4642" style="font-family: MathJax_Main; padding-left: 0.278em;">1</span><span class="mo" id="MathJax-Span-4643" style="font-family: MathJax_Main;">)</span><span class="mo" id="MathJax-Span-4644" style="font-family: MathJax_Main; padding-left: 0.278em;">=</span><span class="mrow" id="MathJax-Span-4645" style="padding-left: 0.278em;"><span class="mo" id="MathJax-Span-4646" style="vertical-align: 0em; padding-left: 0.278em;"><span style="font-family: MathJax_Size4;">{</span></span><span class="mtable" id="MathJax-Span-4647" style="padding-right: 0.167em; padding-left: 0.167em;"><span style="display: inline-block; position: relative; width: 11.257em; height: 0px;"><span style="position: absolute; clip: rect(3.046em 1000em 5.032em -0.492em); top: -3.989em; left: 0em;"><span style="display: inline-block; position: relative; width: 0em; height: 0px;"><span style="position: absolute; clip: rect(3.825em 1000em 4.153em -0.492em); top: -4.768em; right: 0em;"><span class="mtd" id="MathJax-Span-4648"><span class="mrow" id="MathJax-Span-4649"></span></span><span style="display: inline-block; width: 0px; height: 3.989em;"></span></span><span style="position: absolute; clip: rect(3.825em 1000em 4.153em -0.492em); top: -3.11em; right: 0em;"><span class="mtd" id="MathJax-Span-4685"><span class="mrow" id="MathJax-Span-4686"></span></span><span style="display: inline-block; width: 0px; height: 3.989em;"></span></span></span><span style="display: inline-block; width: 0px; height: 3.989em;"></span></span><span style="position: absolute; clip: rect(2.296em 1000em 5.054em -0.453em); top: -3.989em; left: 0em;"><span style="display: inline-block; position: relative; width: 11.257em; height: 0px;"><span style="position: absolute; clip: rect(1.764em 1000em 3.2em -0.409em); top: -3.457em; left: 0em;"><span class="mtd" id="MathJax-Span-4650"><span class="mrow" id="MathJax-Span-4651"><span class="mn" id="MathJax-Span-4652" style="font-family: MathJax_Main;">1</span><span class="texatom" id="MathJax-Span-4653"><span class="mrow" id="MathJax-Span-4654"><span class="mo" id="MathJax-Span-4655" style="font-family: MathJax_Main;">/</span></span></span><span class="msubsup" id="MathJax-Span-4656"><span style="display: inline-block; position: relative; width: 1.245em; height: 0px;"><span style="position: absolute; clip: rect(1.59em 1000em 2.645em -0.44em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-4657" style="font-family: MathJax_Math; font-style: italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.032em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.145em; left: 0.624em;"><span class="mi" id="MathJax-Span-4658" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">F<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.075em;"></span></span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span></span><span class="mspace" id="MathJax-Span-4659" style="height: 0em; vertical-align: 0em; width: 1.033em; display: inline-block; overflow: hidden;"></span><span class="mi" id="MathJax-Span-4660" style="font-family: MathJax_Main;">∀</span><span class="mi" id="MathJax-Span-4661" style="font-family: MathJax_Math; font-style: italic;">i</span><span class="mi" id="MathJax-Span-4662" style="font-family: MathJax_Math; font-style: italic;">j</span><span class="mo" id="MathJax-Span-4663" style="font-family: MathJax_Main;">,</span><span class="msubsup" id="MathJax-Span-4664" style="padding-left: 0.167em;"><span style="display: inline-block; position: relative; width: 1.419em; height: 0px;"><span style="position: absolute; clip: rect(1.853em 1000em 2.634em -0.458em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-4665" style="font-family: MathJax_Math; font-style: italic;">c</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -3.839em; left: 0.437em;"><span class="texatom" id="MathJax-Span-4666"><span class="mrow" id="MathJax-Span-4667"><span class="msubsup" id="MathJax-Span-4668"><span style="display: inline-block; position: relative; width: 0.907em; height: 0px;"><span style="position: absolute; clip: rect(1.65em 1000em 2.459em -0.47em); top: -2.295em; left: 0em;"><span class="mi" id="MathJax-Span-4669" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">F<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.075em;"></span></span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span><span style="position: absolute; top: -2.08em; left: 0.471em;"><span class="texatom" id="MathJax-Span-4670"><span class="mrow" id="MathJax-Span-4671"><span class="mi" id="MathJax-Span-4672" style="font-size: 50%; font-family: MathJax_Math; font-style: italic;">i</span><span class="mi" id="MathJax-Span-4673" style="font-size: 50%; font-family: MathJax_Math; font-style: italic;">j</span></span></span><span style="display: inline-block; width: 0px; height: 2.186em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.989em;"></span></span></span></span><span class="mo" id="MathJax-Span-4674" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-4675"><span style="display: inline-block; position: relative; width: 0.84em; height: 0px;"><span style="position: absolute; clip: rect(1.853em 1000em 2.633em -0.439em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-4676" style="font-family: MathJax_Math; font-style: italic;">s</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.145em; left: 0.492em;"><span class="mi" id="MathJax-Span-4677" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">i</span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span></span><span class="mo" id="MathJax-Span-4678" style="font-family: MathJax_Main;">,</span><span class="msubsup" id="MathJax-Span-4679" style="padding-left: 0.167em;"><span style="display: inline-block; position: relative; width: 0.895em; height: 0px;"><span style="position: absolute; clip: rect(1.853em 1000em 2.633em -0.439em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-4680" style="font-family: MathJax_Math; font-style: italic;">s</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.145em; left: 0.492em;"><span class="mi" id="MathJax-Span-4681" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">j</span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span></span><span class="mo" id="MathJax-Span-4682" style="font-family: MathJax_Main;">)</span><span class="mo" id="MathJax-Span-4683" style="font-family: MathJax_Main; padding-left: 0.278em;">=</span><span class="mn" id="MathJax-Span-4684" style="font-family: MathJax_Main; padding-left: 0.278em;">1</span></span></span><span style="display: inline-block; width: 0px; height: 2.678em;"></span></span><span style="position: absolute; clip: rect(1.82em 1000em 2.864em -0.453em); top: -1.799em; left: 0em;"><span class="mtd" id="MathJax-Span-4687"><span class="mrow" id="MathJax-Span-4688"><span class="mn" id="MathJax-Span-4689" style="font-family: MathJax_Main;">0</span><span class="mspace" id="MathJax-Span-4690" style="height: 0em; vertical-align: 0em; width: 1.033em; display: inline-block; overflow: hidden;"></span><span class="mi" id="MathJax-Span-4691" style="font-family: MathJax_Math; font-style: italic;">o</span><span class="mi" id="MathJax-Span-4692" style="font-family: MathJax_Math; font-style: italic;">t</span><span class="mi" id="MathJax-Span-4693" style="font-family: MathJax_Math; font-style: italic;">h</span><span class="mi" id="MathJax-Span-4694" style="font-family: MathJax_Math; font-style: italic;">e</span><span class="mi" id="MathJax-Span-4695" style="font-family: MathJax_Math; font-style: italic;">r</span><span class="mi" id="MathJax-Span-4696" style="font-family: MathJax_Math; font-style: italic;">w</span><span class="mi" id="MathJax-Span-4697" style="font-family: MathJax_Math; font-style: italic;">i</span><span class="mi" id="MathJax-Span-4698" style="font-family: MathJax_Math; font-style: italic;">s</span><span class="mi" id="MathJax-Span-4699" style="font-family: MathJax_Math; font-style: italic;">e</span></span></span><span style="display: inline-block; width: 0px; height: 2.678em;"></span></span></span><span style="display: inline-block; width: 0px; height: 3.989em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.536em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 3.792em; vertical-align: -1.591em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-275">
p(H_1=s_1, H_2=s_2,\cdots, H_J=s_J|F=1)=
\begin{equation}
\left\{
\begin{aligned}
&1/S_F \hspace{0.5cm} \forall ij, c_{F_{ij}}(s_i, s_j)=1\\
&0 \hspace{0.5cm}otherwise\\
\end{aligned}
\right.
\end{equation}</script><p></p><p>其中<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-276-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-4700" style="width: 1.55em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.257em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.317em 1000em 2.5em -0.44em); top: -2.186em; left: 0em;"><span class="mrow" id="MathJax-Span-4701"><span class="msubsup" id="MathJax-Span-4702"><span style="display: inline-block; position: relative; width: 1.245em; height: 0px;"><span style="position: absolute; clip: rect(1.59em 1000em 2.645em -0.44em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-4703" style="font-family: MathJax_Math; font-style: italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.032em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.145em; left: 0.624em;"><span class="mi" id="MathJax-Span-4704" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">F<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.075em;"></span></span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.186em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.176em; vertical-align: -0.25em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-276">S_F</script></span>是<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-277-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-4705" style="width: 0.95em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.765em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.615em 1000em 2.623em -0.461em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-4706"><span class="mi" id="MathJax-Span-4707" style="font-family: MathJax_Math; font-style: italic;">F<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.106em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.963em; vertical-align: -0.067em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-277">F</script></span>的约束所允许的联合状态的数量。这表示：</p><p><span class="MathJax_Preview"></span></p><div class="MathJax_Display" role="textbox" aria-readonly="true" style="text-align: center;"><span class="MathJax" id="MathJax-Element-278-Frame"><nobr><span class="math" id="MathJax-Span-4708" style="width: 28.617em; display: inline-block;"><span style="display: inline-block; position: relative; width: 23.443em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.764em 1000em 3.092em -0.531em); top: -2.678em; left: 0em;"><span class="mrow" id="MathJax-Span-4709"><span class="mi" id="MathJax-Span-4710" style="font-family: MathJax_Math; font-style: italic;">p</span><span class="mo" id="MathJax-Span-4711" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-4712"><span style="display: inline-block; position: relative; width: 1.329em; height: 0px;"><span style="position: absolute; clip: rect(1.612em 1000em 2.623em -0.461em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-4713" style="font-family: MathJax_Math; font-style: italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.2em; left: 0.872em;"><span class="mn" id="MathJax-Span-4714" style="font-size: 70.7%; font-family: MathJax_Main;">1</span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span></span></span><span class="mo" id="MathJax-Span-4715" style="font-family: MathJax_Main; padding-left: 0.278em;">=</span><span class="mi" id="MathJax-Span-4716" style="font-family: MathJax_Math; font-style: italic; padding-left: 0.278em;">O</span><span class="mi" id="MathJax-Span-4717" style="font-family: MathJax_Math; font-style: italic;">F<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.106em;"></span></span><span class="mi" id="MathJax-Span-4718" style="font-family: MathJax_Math; font-style: italic;">F<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.106em;"></span></span><span class="mo" id="MathJax-Span-4719" style="font-family: MathJax_Main;">,</span><span class="msubsup" id="MathJax-Span-4720" style="padding-left: 0.167em;"><span style="display: inline-block; position: relative; width: 1.329em; height: 0px;"><span style="position: absolute; clip: rect(1.612em 1000em 2.623em -0.461em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-4721" style="font-family: MathJax_Math; font-style: italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.2em; left: 0.872em;"><span class="mn" id="MathJax-Span-4722" style="font-size: 70.7%; font-family: MathJax_Main;">2</span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span></span></span><span class="mo" id="MathJax-Span-4723" style="font-family: MathJax_Main; padding-left: 0.278em;">=</span><span class="mi" id="MathJax-Span-4724" style="font-family: MathJax_Math; font-style: italic; padding-left: 0.278em;">O</span><span class="mi" id="MathJax-Span-4725" style="font-family: MathJax_Math; font-style: italic;">F<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.106em;"></span></span><span class="mi" id="MathJax-Span-4726" style="font-family: MathJax_Math; font-style: italic;">F<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.106em;"></span></span><span class="mo" id="MathJax-Span-4727" style="font-family: MathJax_Main;">,</span><span class="mo" id="MathJax-Span-4728" style="font-family: MathJax_Main; padding-left: 0.167em;">⋯</span><span class="mo" id="MathJax-Span-4729" style="font-family: MathJax_Main; padding-left: 0.167em;">,</span><span class="msubsup" id="MathJax-Span-4730" style="padding-left: 0.167em;"><span style="display: inline-block; position: relative; width: 1.384em; height: 0px;"><span style="position: absolute; clip: rect(1.612em 1000em 2.623em -0.461em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-4731" style="font-family: MathJax_Math; font-style: italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.145em; left: 0.872em;"><span class="mi" id="MathJax-Span-4732" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">J<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.055em;"></span></span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span></span><span class="mo" id="MathJax-Span-4733" style="font-family: MathJax_Main; padding-left: 0.278em;">=</span><span class="mi" id="MathJax-Span-4734" style="font-family: MathJax_Math; font-style: italic; padding-left: 0.278em;">O</span><span class="mi" id="MathJax-Span-4735" style="font-family: MathJax_Math; font-style: italic;">F<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.106em;"></span></span><span class="mi" id="MathJax-Span-4736" style="font-family: MathJax_Math; font-style: italic;">F<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.106em;"></span></span><span class="texatom" id="MathJax-Span-4737"><span class="mrow" id="MathJax-Span-4738"><span class="mo" id="MathJax-Span-4739" style="font-family: MathJax_Main;">|</span></span></span><span class="mi" id="MathJax-Span-4740" style="font-family: MathJax_Math; font-style: italic;">F<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.106em;"></span></span><span class="mo" id="MathJax-Span-4741" style="font-family: MathJax_Main; padding-left: 0.278em;">=</span><span class="mn" id="MathJax-Span-4742" style="font-family: MathJax_Main; padding-left: 0.278em;">0</span><span class="mo" id="MathJax-Span-4743" style="font-family: MathJax_Main;">)</span><span class="mo" id="MathJax-Span-4744" style="font-family: MathJax_Main; padding-left: 0.278em;">=</span><span class="mn" id="MathJax-Span-4745" style="font-family: MathJax_Main; padding-left: 0.278em;">1</span></span><span style="display: inline-block; width: 0px; height: 2.678em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.353em; vertical-align: -0.372em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-278">
p(H_1=OFF, H_2=OFF,\cdots, H_J=OFF|F=0)=1</script><p></p><p>在这种情况下，对于一个合法的分配隐变量的联合概率为：</p><p><span class="MathJax_Preview"></span></p><div class="MathJax_Display" role="textbox" aria-readonly="true" style="text-align: center;"><span class="MathJax" id="MathJax-Element-279-Frame"><nobr><span class="math" id="MathJax-Span-4746" style="width: 26.617em; display: inline-block;"><span style="display: inline-block; position: relative; width: 21.803em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.564em 1000em 4.247em -0.466em); top: -2.678em; left: 0em;"><span class="mrow" id="MathJax-Span-4747"><span class="mi" id="MathJax-Span-4748" style="font-family: MathJax_Main;">log</span><span class="mo" id="MathJax-Span-4749"></span><span class="mi" id="MathJax-Span-4750" style="font-family: MathJax_Math; font-style: italic; padding-left: 0.167em;">p</span><span class="mo" id="MathJax-Span-4751" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-4752"><span style="display: inline-block; position: relative; width: 1.851em; height: 0px;"><span style="position: absolute; clip: rect(1.615em 1000em 2.623em -0.461em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-4753" style="font-family: MathJax_Math; font-style: italic;">F<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.106em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.763em; left: 0.847em;"><span class="texatom" id="MathJax-Span-4754"><span class="mrow" id="MathJax-Span-4755"><span class="mo" id="MathJax-Span-4756" style="font-size: 70.7%; font-family: MathJax_Main;">(</span><span class="mn" id="MathJax-Span-4757" style="font-size: 70.7%; font-family: MathJax_Main;">1</span><span class="mo" id="MathJax-Span-4758" style="font-size: 70.7%; font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span></span></span><span class="mo" id="MathJax-Span-4759" style="font-family: MathJax_Main;">,</span><span class="msubsup" id="MathJax-Span-4760" style="padding-left: 0.167em;"><span style="display: inline-block; position: relative; width: 2em; height: 0px;"><span style="position: absolute; clip: rect(1.612em 1000em 2.623em -0.461em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-4761" style="font-family: MathJax_Math; font-style: italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.763em; left: 0.996em;"><span class="texatom" id="MathJax-Span-4762"><span class="mrow" id="MathJax-Span-4763"><span class="mo" id="MathJax-Span-4764" style="font-size: 70.7%; font-family: MathJax_Main;">(</span><span class="mn" id="MathJax-Span-4765" style="font-size: 70.7%; font-family: MathJax_Main;">1</span><span class="mo" id="MathJax-Span-4766" style="font-size: 70.7%; font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span></span></span><span class="mo" id="MathJax-Span-4767" style="font-family: MathJax_Main;">,</span><span class="mo" id="MathJax-Span-4768" style="font-family: MathJax_Main; padding-left: 0.167em;">⋯</span><span class="mo" id="MathJax-Span-4769" style="font-family: MathJax_Main; padding-left: 0.167em;">,</span><span class="msubsup" id="MathJax-Span-4770" style="padding-left: 0.167em;"><span style="display: inline-block; position: relative; width: 2.015em; height: 0px;"><span style="position: absolute; clip: rect(1.615em 1000em 2.623em -0.461em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-4771" style="font-family: MathJax_Math; font-style: italic;">F<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.106em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.763em; left: 0.847em;"><span class="texatom" id="MathJax-Span-4772"><span class="mrow" id="MathJax-Span-4773"><span class="mo" id="MathJax-Span-4774" style="font-size: 70.7%; font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-4775" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.032em;"></span></span><span class="mo" id="MathJax-Span-4776" style="font-size: 70.7%; font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span></span></span><span class="mo" id="MathJax-Span-4777" style="font-family: MathJax_Main;">,</span><span class="msubsup" id="MathJax-Span-4778" style="padding-left: 0.167em;"><span style="display: inline-block; position: relative; width: 2.164em; height: 0px;"><span style="position: absolute; clip: rect(1.612em 1000em 2.623em -0.461em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-4779" style="font-family: MathJax_Math; font-style: italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.763em; left: 0.996em;"><span class="texatom" id="MathJax-Span-4780"><span class="mrow" id="MathJax-Span-4781"><span class="mo" id="MathJax-Span-4782" style="font-size: 70.7%; font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-4783" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.032em;"></span></span><span class="mo" id="MathJax-Span-4784" style="font-size: 70.7%; font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span></span></span><span class="mo" id="MathJax-Span-4785" style="font-family: MathJax_Main;">)</span><span class="mo" id="MathJax-Span-4786" style="font-family: MathJax_Main; padding-left: 0.278em;">=</span><span class="munderover" id="MathJax-Span-4787" style="padding-left: 0.278em;"><span style="display: inline-block; position: relative; width: 2.623em; height: 0px;"><span style="position: absolute; clip: rect(2.657em 1000em 4.384em -0.437em); top: -3.77em; left: 0.574em;"><span class="mo" id="MathJax-Span-4788" style="font-family: MathJax_Size2; vertical-align: 0em;">∑</span><span style="display: inline-block; width: 0px; height: 3.77em;"></span></span><span style="position: absolute; clip: rect(1.705em 1000em 2.822em -0.47em); top: -1.252em; left: 0em;"><span class="texatom" id="MathJax-Span-4789"><span class="mrow" id="MathJax-Span-4790"><span class="msubsup" id="MathJax-Span-4791"><span style="display: inline-block; position: relative; width: 0.743em; height: 0px;"><span style="position: absolute; clip: rect(1.65em 1000em 2.459em -0.47em); top: -2.295em; left: 0em;"><span class="mi" id="MathJax-Span-4792" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">F<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.075em;"></span></span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span><span style="position: absolute; top: -2.08em; left: 0.471em;"><span class="mi" id="MathJax-Span-4793" style="font-size: 50%; font-family: MathJax_Math; font-style: italic;">j</span><span style="display: inline-block; width: 0px; height: 2.186em;"></span></span></span></span><span class="mo" id="MathJax-Span-4794" style="font-size: 70.7%; font-family: MathJax_Main;">:</span><span class="msubsup" id="MathJax-Span-4795"><span style="display: inline-block; position: relative; width: 0.743em; height: 0px;"><span style="position: absolute; clip: rect(1.65em 1000em 2.459em -0.47em); top: -2.295em; left: 0em;"><span class="mi" id="MathJax-Span-4796" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">F<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.075em;"></span></span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span><span style="position: absolute; top: -2.08em; left: 0.471em;"><span class="mi" id="MathJax-Span-4797" style="font-size: 50%; font-family: MathJax_Math; font-style: italic;">j</span><span style="display: inline-block; width: 0px; height: 2.186em;"></span></span></span></span><span class="mo" id="MathJax-Span-4798" style="font-size: 70.7%; font-family: MathJax_Main;">=</span><span class="mn" id="MathJax-Span-4799" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span></span></span><span class="mo" id="MathJax-Span-4800" style="font-family: MathJax_Main; padding-left: 0.167em;">−</span><span class="mi" id="MathJax-Span-4801" style="font-family: MathJax_Main; padding-left: 0.167em;">log</span><span class="mo" id="MathJax-Span-4802"></span><span class="msubsup" id="MathJax-Span-4803" style="padding-left: 0.167em;"><span style="display: inline-block; position: relative; width: 1.442em; height: 0px;"><span style="position: absolute; clip: rect(1.59em 1000em 2.645em -0.44em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-4804" style="font-family: MathJax_Math; font-style: italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.032em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -3.839em; left: 0.624em;"><span class="texatom" id="MathJax-Span-4805"><span class="mrow" id="MathJax-Span-4806"><span class="msubsup" id="MathJax-Span-4807"><span style="display: inline-block; position: relative; width: 0.743em; height: 0px;"><span style="position: absolute; clip: rect(1.65em 1000em 2.459em -0.47em); top: -2.295em; left: 0em;"><span class="mi" id="MathJax-Span-4808" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">F<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.075em;"></span></span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span><span style="position: absolute; top: -2.08em; left: 0.471em;"><span class="mi" id="MathJax-Span-4809" style="font-size: 50%; font-family: MathJax_Math; font-style: italic;">j</span><span style="display: inline-block; width: 0px; height: 2.186em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.989em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.678em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 3.007em; vertical-align: -1.781em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-279">
\log p(F^{(1)}, H^{(1)},\cdots,F^{(C)},H^{(C)})=\sum_{F_j:F_j=1}-\log S_{F_j}</script><p></p><p>有许多成对的约束可以产生令人满意的池协调效果。我们使用的典型的池化协调称为:扰动带(perturb laterals)。我们首先扩展池j的每个状态<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-822-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-9599" style="width: 1.15em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.929em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.58em 1000em 2.644em -0.439em); top: -2.186em; left: 0em;"><span class="mrow" id="MathJax-Span-9600"><span class="msubsup" id="MathJax-Span-9601"><span style="display: inline-block; position: relative; width: 0.895em; height: 0px;"><span style="position: absolute; clip: rect(1.853em 1000em 2.633em -0.439em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-9602" style="font-family: MathJax_Math; font-style: italic;">s</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.145em; left: 0.492em;"><span class="mi" id="MathJax-Span-9603" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">j</span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.186em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.032em; vertical-align: -0.426em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-822">s_j</script></span>(位置<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-823-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-9604" style="width: 3.683em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.005em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.764em 1000em 3.136em -0.398em); top: -2.678em; left: 0em;"><span class="mrow" id="MathJax-Span-9605"><span class="mo" id="MathJax-Span-9606" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-9607"><span style="display: inline-block; position: relative; width: 0.895em; height: 0px;"><span style="position: absolute; clip: rect(1.853em 1000em 2.634em -0.471em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-9608" style="font-family: MathJax_Math; font-style: italic;">r</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.145em; left: 0.492em;"><span class="mi" id="MathJax-Span-9609" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">j</span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span></span><span class="mo" id="MathJax-Span-9610" style="font-family: MathJax_Main;">,</span><span class="msubsup" id="MathJax-Span-9611" style="padding-left: 0.167em;"><span style="display: inline-block; position: relative; width: 0.84em; height: 0px;"><span style="position: absolute; clip: rect(1.853em 1000em 2.634em -0.458em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-9612" style="font-family: MathJax_Math; font-style: italic;">c</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.145em; left: 0.437em;"><span class="mi" id="MathJax-Span-9613" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">j</span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span></span><span class="mo" id="MathJax-Span-9614" style="font-family: MathJax_Main;">)</span></span><span style="display: inline-block; width: 0px; height: 2.678em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.407em; vertical-align: -0.426em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-823">(r_j, c_j)</script></span>)为一个tuple，该tuple描述该状态<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-824-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-9615" style="width: 1.15em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.929em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.58em 1000em 2.644em -0.439em); top: -2.186em; left: 0em;"><span class="mrow" id="MathJax-Span-9616"><span class="msubsup" id="MathJax-Span-9617"><span style="display: inline-block; position: relative; width: 0.895em; height: 0px;"><span style="position: absolute; clip: rect(1.853em 1000em 2.633em -0.439em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-9618" style="font-family: MathJax_Math; font-style: italic;">s</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.145em; left: 0.492em;"><span class="mi" id="MathJax-Span-9619" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">j</span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.186em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.032em; vertical-align: -0.426em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-824">s_j</script></span>所关联的成员, <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-825-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-9620" style="width: 8.417em; display: inline-block;"><span style="display: inline-block; position: relative; width: 6.885em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.764em 1000em 3.136em -0.439em); top: -2.678em; left: 0em;"><span class="mrow" id="MathJax-Span-9621"><span class="msubsup" id="MathJax-Span-9622"><span style="display: inline-block; position: relative; width: 0.895em; height: 0px;"><span style="position: absolute; clip: rect(1.853em 1000em 2.633em -0.439em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-9623" style="font-family: MathJax_Math; font-style: italic;">s</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.145em; left: 0.492em;"><span class="mi" id="MathJax-Span-9624" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">j</span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span></span><span class="mo" id="MathJax-Span-9625" style="font-family: MathJax_Main; padding-left: 0.278em;">≡</span><span class="mo" id="MathJax-Span-9626" style="font-family: MathJax_Main; padding-left: 0.278em;">(</span><span class="mi" id="MathJax-Span-9627" style="font-family: MathJax_Main;">Δ</span><span class="msubsup" id="MathJax-Span-9628"><span style="display: inline-block; position: relative; width: 0.895em; height: 0px;"><span style="position: absolute; clip: rect(1.853em 1000em 2.634em -0.471em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-9629" style="font-family: MathJax_Math; font-style: italic;">r</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.145em; left: 0.492em;"><span class="mi" id="MathJax-Span-9630" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">j</span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span></span><span class="mo" id="MathJax-Span-9631" style="font-family: MathJax_Main;">,</span><span class="mi" id="MathJax-Span-9632" style="font-family: MathJax_Main; padding-left: 0.167em;">Δ</span><span class="msubsup" id="MathJax-Span-9633"><span style="display: inline-block; position: relative; width: 0.84em; height: 0px;"><span style="position: absolute; clip: rect(1.853em 1000em 2.634em -0.458em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-9634" style="font-family: MathJax_Math; font-style: italic;">c</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.145em; left: 0.437em;"><span class="mi" id="MathJax-Span-9635" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">j</span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span></span><span class="mo" id="MathJax-Span-9636" style="font-family: MathJax_Main;">)</span></span><span style="display: inline-block; width: 0px; height: 2.678em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.407em; vertical-align: -0.426em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-825">s_j\equiv (\Delta r_j, \Delta c_j)</script></span>。其中<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-826-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-9637" style="width: 1.083em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.874em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.798em 1000em 2.842em -0.446em); top: -2.678em; left: 0em;"><span class="mrow" id="MathJax-Span-9638"><span class="mi" id="MathJax-Span-9639" style="font-family: MathJax_Main;">Δ</span></span><span style="display: inline-block; width: 0px; height: 2.678em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.007em; vertical-align: -0.067em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-826">\Delta</script></span>关联的位置是pool的中心,每个成员的通道f和它的池的通道相同。然后横向扰动限制可以写成下面这样：</p><p><span class="MathJax_Preview"></span></p><div class="MathJax_Display" role="textbox" aria-readonly="true" style="text-align: center;"><span class="MathJax" id="MathJax-Element-1045-Frame"><nobr><span class="math" id="MathJax-Span-18846" style="width: 37.283em; display: inline-block;"><span style="display: inline-block; position: relative; width: 30.546em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(0.466em 1000em 3.405em -0.325em); top: -2.186em; left: 0em;"><span class="mrow" id="MathJax-Span-18847"><span class="mtable" id="MathJax-Span-18848" style="padding-right: 0.167em; padding-left: 0.167em;"><span style="display: inline-block; position: relative; width: 30.219em; height: 0px;"><span style="position: absolute; clip: rect(2.32em 1000em 4.914em -0.492em); top: -3.989em; left: 0em;"><span style="display: inline-block; position: relative; width: 4.044em; height: 0px;"><span style="position: absolute; clip: rect(1.764em 1000em 3.136em -0.458em); top: -3.433em; right: 0em;"><span class="mtd" id="MathJax-Span-18849"><span class="mrow" id="MathJax-Span-18850"><span class="msubsup" id="MathJax-Span-18851"><span style="display: inline-block; position: relative; width: 1.059em; height: 0px;"><span style="position: absolute; clip: rect(1.853em 1000em 2.634em -0.458em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-18852" style="font-family: MathJax_Math; font-style: italic;">c</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.145em; left: 0.437em;"><span class="texatom" id="MathJax-Span-18853"><span class="mrow" id="MathJax-Span-18854"><span class="mi" id="MathJax-Span-18855" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">i</span><span class="mi" id="MathJax-Span-18856" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">j</span></span></span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span></span><span class="mo" id="MathJax-Span-18857" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-18858"><span style="display: inline-block; position: relative; width: 0.84em; height: 0px;"><span style="position: absolute; clip: rect(1.853em 1000em 2.633em -0.439em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-18859" style="font-family: MathJax_Math; font-style: italic;">s</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.145em; left: 0.492em;"><span class="mi" id="MathJax-Span-18860" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">i</span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span></span><span class="mo" id="MathJax-Span-18861" style="font-family: MathJax_Main;">,</span><span class="msubsup" id="MathJax-Span-18862" style="padding-left: 0.167em;"><span style="display: inline-block; position: relative; width: 0.895em; height: 0px;"><span style="position: absolute; clip: rect(1.853em 1000em 2.633em -0.439em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-18863" style="font-family: MathJax_Math; font-style: italic;">s</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.145em; left: 0.492em;"><span class="mi" id="MathJax-Span-18864" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">j</span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span></span><span class="mo" id="MathJax-Span-18865" style="font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.678em;"></span></span><span style="position: absolute; clip: rect(3.825em 1000em 4.153em -0.492em); top: -3.228em; right: 0em;"><span class="mtd" id="MathJax-Span-18900"><span class="mrow" id="MathJax-Span-18901"></span></span><span style="display: inline-block; width: 0px; height: 3.989em;"></span></span></span><span style="display: inline-block; width: 0px; height: 3.989em;"></span></span><span style="position: absolute; clip: rect(2.32em 1000em 5.209em -0.214em); top: -3.989em; left: 4.044em;"><span style="display: inline-block; position: relative; width: 26.175em; height: 0px;"><span style="position: absolute; clip: rect(1.764em 1000em 3.136em -0.214em); top: -3.433em; left: 0em;"><span class="mtd" id="MathJax-Span-18866"><span class="mrow" id="MathJax-Span-18867"><span class="mo" id="MathJax-Span-18868" style="font-family: MathJax_Main; padding-left: 0.222em; padding-right: 0.333em;">=</span><span class="msubsup" id="MathJax-Span-18869"><span style="display: inline-block; position: relative; width: 1.059em; height: 0px;"><span style="position: absolute; clip: rect(1.853em 1000em 2.634em -0.458em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-18870" style="font-family: MathJax_Math; font-style: italic;">c</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.145em; left: 0.437em;"><span class="texatom" id="MathJax-Span-18871"><span class="mrow" id="MathJax-Span-18872"><span class="mi" id="MathJax-Span-18873" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">i</span><span class="mi" id="MathJax-Span-18874" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">j</span></span></span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span></span><span class="mo" id="MathJax-Span-18875" style="font-family: MathJax_Main;">(</span><span class="mo" id="MathJax-Span-18876" style="font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-18877" style="font-family: MathJax_Main;">Δ</span><span class="msubsup" id="MathJax-Span-18878"><span style="display: inline-block; position: relative; width: 0.84em; height: 0px;"><span style="position: absolute; clip: rect(1.853em 1000em 2.634em -0.471em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-18879" style="font-family: MathJax_Math; font-style: italic;">r</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.145em; left: 0.492em;"><span class="mi" id="MathJax-Span-18880" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">i</span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span></span><span class="mo" id="MathJax-Span-18881" style="font-family: MathJax_Main;">,</span><span class="mi" id="MathJax-Span-18882" style="font-family: MathJax_Main; padding-left: 0.167em;">Δ</span><span class="msubsup" id="MathJax-Span-18883"><span style="display: inline-block; position: relative; width: 0.785em; height: 0px;"><span style="position: absolute; clip: rect(1.853em 1000em 2.634em -0.458em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-18884" style="font-family: MathJax_Math; font-style: italic;">c</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.145em; left: 0.437em;"><span class="mi" id="MathJax-Span-18885" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">i</span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span></span><span class="mo" id="MathJax-Span-18886" style="font-family: MathJax_Main;">)</span><span class="mo" id="MathJax-Span-18887" style="font-family: MathJax_Main;">,</span><span class="mo" id="MathJax-Span-18888" style="font-family: MathJax_Main; padding-left: 0.167em;">(</span><span class="mi" id="MathJax-Span-18889" style="font-family: MathJax_Main;">Δ</span><span class="msubsup" id="MathJax-Span-18890"><span style="display: inline-block; position: relative; width: 0.84em; height: 0px;"><span style="position: absolute; clip: rect(1.853em 1000em 2.634em -0.471em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-18891" style="font-family: MathJax_Math; font-style: italic;">r</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.145em; left: 0.492em;"><span class="mi" id="MathJax-Span-18892" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">i</span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span></span><span class="mo" id="MathJax-Span-18893" style="font-family: MathJax_Main;">,</span><span class="mi" id="MathJax-Span-18894" style="font-family: MathJax_Main; padding-left: 0.167em;">Δ</span><span class="msubsup" id="MathJax-Span-18895"><span style="display: inline-block; position: relative; width: 0.84em; height: 0px;"><span style="position: absolute; clip: rect(1.853em 1000em 2.634em -0.458em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-18896" style="font-family: MathJax_Math; font-style: italic;">c</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.145em; left: 0.437em;"><span class="mi" id="MathJax-Span-18897" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">j</span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span></span><span class="mo" id="MathJax-Span-18898" style="font-family: MathJax_Main;">)</span><span class="mo" id="MathJax-Span-18899" style="font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.678em;"></span></span><span style="position: absolute; clip: rect(1.591em 1000em 3.136em -0.214em); top: -1.916em; left: 0em;"><span class="mtd" id="MathJax-Span-18902"><span class="mrow" id="MathJax-Span-18903"><span class="mo" id="MathJax-Span-18904" style="font-family: MathJax_Main; padding-left: 0.222em; padding-right: 0.333em;">=</span><span class="texatom" id="MathJax-Span-18905"><span class="mrow" id="MathJax-Span-18906"><span class="mo" id="MathJax-Span-18907" style="font-family: MathJax_Main;">|</span></span></span><span class="mi" id="MathJax-Span-18908" style="font-family: MathJax_Main;">Δ</span><span class="msubsup" id="MathJax-Span-18909"><span style="display: inline-block; position: relative; width: 0.84em; height: 0px;"><span style="position: absolute; clip: rect(1.853em 1000em 2.634em -0.471em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-18910" style="font-family: MathJax_Math; font-style: italic;">r</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.145em; left: 0.492em;"><span class="mi" id="MathJax-Span-18911" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">i</span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span></span><span class="mo" id="MathJax-Span-18912" style="font-family: MathJax_Main; padding-left: 0.222em;">−</span><span class="mi" id="MathJax-Span-18913" style="font-family: MathJax_Main; padding-left: 0.222em;">Δ</span><span class="msubsup" id="MathJax-Span-18914"><span style="display: inline-block; position: relative; width: 0.895em; height: 0px;"><span style="position: absolute; clip: rect(1.853em 1000em 2.634em -0.471em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-18915" style="font-family: MathJax_Math; font-style: italic;">r</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.145em; left: 0.492em;"><span class="mi" id="MathJax-Span-18916" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">j</span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span></span><span class="texatom" id="MathJax-Span-18917"><span class="mrow" id="MathJax-Span-18918"><span class="mo" id="MathJax-Span-18919" style="font-family: MathJax_Main;">|</span></span></span><span class="mo" id="MathJax-Span-18920" style="font-family: MathJax_Main; padding-left: 0.278em;">&lt;</span><span class="texatom" id="MathJax-Span-18921" style="padding-left: 0.278em;"><span class="mrow" id="MathJax-Span-18922"><span class="mo" id="MathJax-Span-18923" style="font-family: MathJax_Main;">|</span></span></span><span class="msubsup" id="MathJax-Span-18924"><span style="display: inline-block; position: relative; width: 0.84em; height: 0px;"><span style="position: absolute; clip: rect(1.853em 1000em 2.634em -0.471em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-18925" style="font-family: MathJax_Math; font-style: italic;">r</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.145em; left: 0.492em;"><span class="mi" id="MathJax-Span-18926" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">i</span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span></span><span class="mo" id="MathJax-Span-18927" style="font-family: MathJax_Main; padding-left: 0.222em;">−</span><span class="msubsup" id="MathJax-Span-18928" style="padding-left: 0.222em;"><span style="display: inline-block; position: relative; width: 0.895em; height: 0px;"><span style="position: absolute; clip: rect(1.853em 1000em 2.634em -0.471em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-18929" style="font-family: MathJax_Math; font-style: italic;">r</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.145em; left: 0.492em;"><span class="mi" id="MathJax-Span-18930" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">j</span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span></span><span class="texatom" id="MathJax-Span-18931"><span class="mrow" id="MathJax-Span-18932"><span class="mo" id="MathJax-Span-18933" style="font-family: MathJax_Main;">|</span></span></span><span class="texatom" id="MathJax-Span-18934"><span class="mrow" id="MathJax-Span-18935"><span class="mo" id="MathJax-Span-18936" style="font-family: MathJax_Main;">/</span></span></span><span class="mi" id="MathJax-Span-18937" style="font-family: MathJax_Math; font-style: italic;">p</span><span class="msubsup" id="MathJax-Span-18938"><span style="display: inline-block; position: relative; width: 0.963em; height: 0px;"><span style="position: absolute; clip: rect(1.59em 1000em 2.828em -0.437em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-18939" style="font-family: MathJax_Math; font-style: italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.06em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.727em; left: 0.669em;"><span class="mi" id="MathJax-Span-18940" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">l</span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span></span><span class="mo" id="MathJax-Span-18941" style="font-family: MathJax_Main; padding-left: 0.222em;">∧</span><span class="texatom" id="MathJax-Span-18942" style="padding-left: 0.222em;"><span class="mrow" id="MathJax-Span-18943"><span class="mo" id="MathJax-Span-18944" style="font-family: MathJax_Main;">|</span></span></span><span class="mi" id="MathJax-Span-18945" style="font-family: MathJax_Main;">Δ</span><span class="msubsup" id="MathJax-Span-18946"><span style="display: inline-block; position: relative; width: 0.785em; height: 0px;"><span style="position: absolute; clip: rect(1.853em 1000em 2.634em -0.458em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-18947" style="font-family: MathJax_Math; font-style: italic;">c</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.145em; left: 0.437em;"><span class="mi" id="MathJax-Span-18948" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">i</span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span></span><span class="mo" id="MathJax-Span-18949" style="font-family: MathJax_Main; padding-left: 0.222em;">−</span><span class="mi" id="MathJax-Span-18950" style="font-family: MathJax_Main; padding-left: 0.222em;">Δ</span><span class="msubsup" id="MathJax-Span-18951"><span style="display: inline-block; position: relative; width: 0.84em; height: 0px;"><span style="position: absolute; clip: rect(1.853em 1000em 2.634em -0.458em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-18952" style="font-family: MathJax_Math; font-style: italic;">c</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.145em; left: 0.437em;"><span class="mi" id="MathJax-Span-18953" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">j</span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span></span><span class="texatom" id="MathJax-Span-18954"><span class="mrow" id="MathJax-Span-18955"><span class="mo" id="MathJax-Span-18956" style="font-family: MathJax_Main;">|</span></span></span><span class="mo" id="MathJax-Span-18957" style="font-family: MathJax_Main; padding-left: 0.278em;">&lt;</span><span class="texatom" id="MathJax-Span-18958" style="padding-left: 0.278em;"><span class="mrow" id="MathJax-Span-18959"><span class="mo" id="MathJax-Span-18960" style="font-family: MathJax_Main;">|</span></span></span><span class="msubsup" id="MathJax-Span-18961"><span style="display: inline-block; position: relative; width: 0.785em; height: 0px;"><span style="position: absolute; clip: rect(1.853em 1000em 2.634em -0.458em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-18962" style="font-family: MathJax_Math; font-style: italic;">c</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.145em; left: 0.437em;"><span class="mi" id="MathJax-Span-18963" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">i</span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span></span><span class="mo" id="MathJax-Span-18964" style="font-family: MathJax_Main; padding-left: 0.222em;">−</span><span class="msubsup" id="MathJax-Span-18965" style="padding-left: 0.222em;"><span style="display: inline-block; position: relative; width: 0.84em; height: 0px;"><span style="position: absolute; clip: rect(1.853em 1000em 2.634em -0.458em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-18966" style="font-family: MathJax_Math; font-style: italic;">c</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.145em; left: 0.437em;"><span class="mi" id="MathJax-Span-18967" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">j</span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span></span><span class="texatom" id="MathJax-Span-18968"><span class="mrow" id="MathJax-Span-18969"><span class="mo" id="MathJax-Span-18970" style="font-family: MathJax_Main;">|</span></span></span><span class="texatom" id="MathJax-Span-18971"><span class="mrow" id="MathJax-Span-18972"><span class="mo" id="MathJax-Span-18973" style="font-family: MathJax_Main;">/</span></span></span><span class="mi" id="MathJax-Span-18974" style="font-family: MathJax_Math; font-style: italic;">p</span><span class="msubsup" id="MathJax-Span-18975"><span style="display: inline-block; position: relative; width: 0.963em; height: 0px;"><span style="position: absolute; clip: rect(1.59em 1000em 2.828em -0.437em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-18976" style="font-family: MathJax_Math; font-style: italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.06em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.727em; left: 0.669em;"><span class="mi" id="MathJax-Span-18977" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">l</span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.678em;"></span></span></span><span style="display: inline-block; width: 0px; height: 3.989em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.186em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 3.319em; vertical-align: -1.355em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-1045">
\begin{align}
c_{ij}(s_i, s_j)&=c_{ij}((\Delta r_i, \Delta c_i), (\Delta r_i, \Delta c_j))\\
&=|\Delta r_i-\Delta r_j|<|r_i-r_j|/pf^l\land |\Delta c_i-\Delta c_j|<|c_i-c_j|/pf^l
\end{align}</script><p></p><p>其中<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-1194-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-20408" style="width: 1.817em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.475em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.372em 1000em 2.828em -0.531em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-20409"><span class="mi" id="MathJax-Span-20410" style="font-family: MathJax_Math; font-style: italic;">p</span><span class="msubsup" id="MathJax-Span-20411"><span style="display: inline-block; position: relative; width: 0.963em; height: 0px;"><span style="position: absolute; clip: rect(1.59em 1000em 2.828em -0.437em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-20412" style="font-family: MathJax_Math; font-style: italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.06em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.727em; left: 0.669em;"><span class="mi" id="MathJax-Span-20413" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">l</span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.509em; vertical-align: -0.317em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-1194">pf^l</script></span>是第<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-1195-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-20414" style="width: 0.417em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.328em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.601em 1000em 2.634em -0.454em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-20415"><span class="mi" id="MathJax-Span-20416" style="font-family: MathJax_Math; font-style: italic;">l</span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.993em; vertical-align: -0.08em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-1195">l</script></span>层的扰动因子。这样，两个池的相对位置的最大扰动与它们的距离成正比。其中<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-1196-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-20417" style="width: 1.817em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.475em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.372em 1000em 2.828em -0.531em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-20418"><span class="mi" id="MathJax-Span-20419" style="font-family: MathJax_Math; font-style: italic;">p</span><span class="msubsup" id="MathJax-Span-20420"><span style="display: inline-block; position: relative; width: 0.963em; height: 0px;"><span style="position: absolute; clip: rect(1.59em 1000em 2.828em -0.437em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-20421" style="font-family: MathJax_Math; font-style: italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.06em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.727em; left: 0.669em;"><span class="mi" id="MathJax-Span-20422" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">l</span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.509em; vertical-align: -0.317em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-1196">pf^l</script></span>就是比例因子。</p><h4 id="2.3.4-平移不变性"><a name="2.3.4-平移不变性" href="#2.3.4-平移不变性"></a>2.3.4 平移不变性</h4><p>让我总结一下这该构的参数：</p><ul>
<li>特征参数, <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-2080-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-38267" style="width: 18.017em; display: inline-block;"><span style="display: inline-block; position: relative; width: 14.754em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.764em 1000em 3.097em -0.398em); top: -2.678em; left: 0em;"><span class="mrow" id="MathJax-Span-38268"><span class="mo" id="MathJax-Span-38269" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-38270"><span style="display: inline-block; position: relative; width: 0.999em; height: 0px;"><span style="position: absolute; clip: rect(1.59em 1000em 2.828em -0.437em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-38271" style="font-family: MathJax_Math; font-style: italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.06em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.109em; left: 0.541em;"><span class="mn" id="MathJax-Span-38272" style="font-size: 70.7%; font-family: MathJax_Main;">1</span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span></span></span><span class="mo" id="MathJax-Span-38273" style="font-family: MathJax_Main;">,</span><span class="mi" id="MathJax-Span-38274" style="font-family: MathJax_Main; padding-left: 0.167em;">Δ</span><span class="msubsup" id="MathJax-Span-38275"><span style="display: inline-block; position: relative; width: 0.949em; height: 0px;"><span style="position: absolute; clip: rect(1.853em 1000em 2.634em -0.471em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-38276" style="font-family: MathJax_Math; font-style: italic;">r</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.2em; left: 0.492em;"><span class="mn" id="MathJax-Span-38277" style="font-size: 70.7%; font-family: MathJax_Main;">1</span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span></span></span><span class="mo" id="MathJax-Span-38278" style="font-family: MathJax_Main;">,</span><span class="mi" id="MathJax-Span-38279" style="font-family: MathJax_Main; padding-left: 0.167em;">Δ</span><span class="msubsup" id="MathJax-Span-38280"><span style="display: inline-block; position: relative; width: 0.895em; height: 0px;"><span style="position: absolute; clip: rect(1.853em 1000em 2.634em -0.458em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-38281" style="font-family: MathJax_Math; font-style: italic;">c</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.2em; left: 0.437em;"><span class="mn" id="MathJax-Span-38282" style="font-size: 70.7%; font-family: MathJax_Main;">1</span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span></span></span><span class="mo" id="MathJax-Span-38283" style="font-family: MathJax_Main;">)</span><span class="mo" id="MathJax-Span-38284" style="font-family: MathJax_Main;">,</span><span class="mo" id="MathJax-Span-38285" style="font-family: MathJax_Main; padding-left: 0.167em;">⋯</span><span class="mo" id="MathJax-Span-38286" style="font-family: MathJax_Main; padding-left: 0.167em;">,</span><span class="mo" id="MathJax-Span-38287" style="font-family: MathJax_Main; padding-left: 0.167em;">(</span><span class="msubsup" id="MathJax-Span-38288"><span style="display: inline-block; position: relative; width: 1.053em; height: 0px;"><span style="position: absolute; clip: rect(1.59em 1000em 2.828em -0.437em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-38289" style="font-family: MathJax_Math; font-style: italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.06em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.055em; left: 0.541em;"><span class="mi" id="MathJax-Span-38290" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">J<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.055em;"></span></span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span></span><span class="mo" id="MathJax-Span-38291" style="font-family: MathJax_Main;">,</span><span class="mi" id="MathJax-Span-38292" style="font-family: MathJax_Main; padding-left: 0.167em;">Δ</span><span class="msubsup" id="MathJax-Span-38293"><span style="display: inline-block; position: relative; width: 1.004em; height: 0px;"><span style="position: absolute; clip: rect(1.853em 1000em 2.634em -0.471em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-38294" style="font-family: MathJax_Math; font-style: italic;">r</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.145em; left: 0.492em;"><span class="mi" id="MathJax-Span-38295" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">J<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.055em;"></span></span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span></span><span class="mo" id="MathJax-Span-38296" style="font-family: MathJax_Main;">,</span><span class="mi" id="MathJax-Span-38297" style="font-family: MathJax_Main; padding-left: 0.167em;">Δ</span><span class="msubsup" id="MathJax-Span-38298"><span style="display: inline-block; position: relative; width: 0.949em; height: 0px;"><span style="position: absolute; clip: rect(1.853em 1000em 2.634em -0.458em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-38299" style="font-family: MathJax_Math; font-style: italic;">c</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.145em; left: 0.437em;"><span class="mi" id="MathJax-Span-38300" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">J<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.055em;"></span></span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span></span><span class="mo" id="MathJax-Span-38301" style="font-family: MathJax_Main;">)</span></span><span style="display: inline-block; width: 0px; height: 2.678em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.361em; vertical-align: -0.379em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-2080">(f_1, \Delta r_1, \Delta c_1),\cdots, (f_J, \Delta r_J, \Delta c_J)</script></span>和<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-2081-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-38302" style="width: 5.417em; display: inline-block;"><span style="display: inline-block; position: relative; width: 4.426em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.764em 1000em 3.2em -0.458em); top: -2.678em; left: 0em;"><span class="mrow" id="MathJax-Span-38303"><span class="msubsup" id="MathJax-Span-38304"><span style="display: inline-block; position: relative; width: 1.419em; height: 0px;"><span style="position: absolute; clip: rect(1.853em 1000em 2.634em -0.458em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-38305" style="font-family: MathJax_Math; font-style: italic;">c</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -3.839em; left: 0.437em;"><span class="texatom" id="MathJax-Span-38306"><span class="mrow" id="MathJax-Span-38307"><span class="msubsup" id="MathJax-Span-38308"><span style="display: inline-block; position: relative; width: 0.907em; height: 0px;"><span style="position: absolute; clip: rect(1.65em 1000em 2.459em -0.47em); top: -2.295em; left: 0em;"><span class="mi" id="MathJax-Span-38309" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">F<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.075em;"></span></span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span><span style="position: absolute; top: -2.08em; left: 0.471em;"><span class="texatom" id="MathJax-Span-38310"><span class="mrow" id="MathJax-Span-38311"><span class="mi" id="MathJax-Span-38312" style="font-size: 50%; font-family: MathJax_Math; font-style: italic;">i</span><span class="mi" id="MathJax-Span-38313" style="font-size: 50%; font-family: MathJax_Math; font-style: italic;">j</span></span></span><span style="display: inline-block; width: 0px; height: 2.186em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.989em;"></span></span></span></span><span class="mo" id="MathJax-Span-38314" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-38315"><span style="display: inline-block; position: relative; width: 0.84em; height: 0px;"><span style="position: absolute; clip: rect(1.853em 1000em 2.633em -0.439em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-38316" style="font-family: MathJax_Math; font-style: italic;">s</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.145em; left: 0.492em;"><span class="mi" id="MathJax-Span-38317" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">i</span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span></span><span class="mo" id="MathJax-Span-38318" style="font-family: MathJax_Main;">,</span><span class="msubsup" id="MathJax-Span-38319" style="padding-left: 0.167em;"><span style="display: inline-block; position: relative; width: 0.895em; height: 0px;"><span style="position: absolute; clip: rect(1.853em 1000em 2.633em -0.439em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-38320" style="font-family: MathJax_Math; font-style: italic;">s</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.145em; left: 0.492em;"><span class="mi" id="MathJax-Span-38321" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">j</span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span></span><span class="mo" id="MathJax-Span-38322" style="font-family: MathJax_Main;">)</span></span><span style="display: inline-block; width: 0px; height: 2.678em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.485em; vertical-align: -0.504em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-2081">c_{F_{ij}}(s_i, s_j)</script></span>表示它下面一层pool之间的连接以及当特征激活时它们选定的pool成员之间的限制。这些参数对于整个层次结构中的每个二进制特性变量都可能不同。</li><li>池化层参数, <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-2082-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-38323" style="width: 15.217em; display: inline-block;"><span style="display: inline-block; position: relative; width: 12.459em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.764em 1000em 3.092em -0.398em); top: -2.678em; left: 0em;"><span class="mrow" id="MathJax-Span-38324"><span class="mo" id="MathJax-Span-38325" style="font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-38326" style="font-family: MathJax_Main;">Δ</span><span class="msubsup" id="MathJax-Span-38327"><span style="display: inline-block; position: relative; width: 0.949em; height: 0px;"><span style="position: absolute; clip: rect(1.853em 1000em 2.634em -0.471em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-38328" style="font-family: MathJax_Math; font-style: italic;">r</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.2em; left: 0.492em;"><span class="mn" id="MathJax-Span-38329" style="font-size: 70.7%; font-family: MathJax_Main;">1</span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span></span></span><span class="mo" id="MathJax-Span-38330" style="font-family: MathJax_Main;">,</span><span class="mi" id="MathJax-Span-38331" style="font-family: MathJax_Main; padding-left: 0.167em;">Δ</span><span class="msubsup" id="MathJax-Span-38332"><span style="display: inline-block; position: relative; width: 0.895em; height: 0px;"><span style="position: absolute; clip: rect(1.853em 1000em 2.634em -0.458em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-38333" style="font-family: MathJax_Math; font-style: italic;">c</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.2em; left: 0.437em;"><span class="mn" id="MathJax-Span-38334" style="font-size: 70.7%; font-family: MathJax_Main;">1</span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span></span></span><span class="mo" id="MathJax-Span-38335" style="font-family: MathJax_Main;">)</span><span class="mo" id="MathJax-Span-38336" style="font-family: MathJax_Main;">,</span><span class="mo" id="MathJax-Span-38337" style="font-family: MathJax_Main; padding-left: 0.167em;">⋯</span><span class="mo" id="MathJax-Span-38338" style="font-family: MathJax_Main; padding-left: 0.167em;">,</span><span class="mo" id="MathJax-Span-38339" style="font-family: MathJax_Main; padding-left: 0.167em;">(</span><span class="mi" id="MathJax-Span-38340" style="font-family: MathJax_Main;">Δ</span><span class="msubsup" id="MathJax-Span-38341"><span style="display: inline-block; position: relative; width: 1.332em; height: 0px;"><span style="position: absolute; clip: rect(1.853em 1000em 2.634em -0.471em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-38342" style="font-family: MathJax_Math; font-style: italic;">r</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.145em; left: 0.492em;"><span class="mi" id="MathJax-Span-38343" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">M<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span></span><span class="mo" id="MathJax-Span-38344" style="font-family: MathJax_Main;">,</span><span class="mi" id="MathJax-Span-38345" style="font-family: MathJax_Main; padding-left: 0.167em;">Δ</span><span class="msubsup" id="MathJax-Span-38346"><span style="display: inline-block; position: relative; width: 1.277em; height: 0px;"><span style="position: absolute; clip: rect(1.853em 1000em 2.634em -0.458em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-38347" style="font-family: MathJax_Math; font-style: italic;">c</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.145em; left: 0.437em;"><span class="mi" id="MathJax-Span-38348" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">M<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span></span><span class="mo" id="MathJax-Span-38349" style="font-family: MathJax_Main;">)</span></span><span style="display: inline-block; width: 0px; height: 2.678em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.353em; vertical-align: -0.372em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-2082">(\Delta r_1,\Delta c_1),\cdots,(\Delta r_M, \Delta c_M)</script></span>,指定连接到下面feature层中的池成员。这些参数对于层次结构中的每个池可能都不相同。</li></ul><p>尽管这不是上面所讲的层次上面的属性，但在视觉中，能够显示输入平移的等同性还是很有用的。这种等同性表示：给定一幅图像和隐变量集合, 如果我们将输入图像和所有隐变量的值移动相同的位置，模型的似然度是不变的。隐变量<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-2215-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-39889" style="width: 2.683em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.186em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.082em 1000em 2.35em -0.461em); top: -2.186em; left: 0em;"><span class="mrow" id="MathJax-Span-39890"><span class="msubsup" id="MathJax-Span-39891"><span style="display: inline-block; position: relative; width: 2.164em; height: 0px;"><span style="position: absolute; clip: rect(1.612em 1000em 2.623em -0.461em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-39892" style="font-family: MathJax_Math; font-style: italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.76em; left: 0.996em;"><span class="texatom" id="MathJax-Span-39893"><span class="mrow" id="MathJax-Span-39894"><span class="mo" id="MathJax-Span-39895" style="font-size: 70.7%; font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-39896" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.032em;"></span></span><span class="mo" id="MathJax-Span-39897" style="font-size: 70.7%; font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.186em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.281em; vertical-align: -0.067em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-2215">H^{(C)}</script></span>是独一无二的不会改变，因此它的值会相应改变。</p><p>如果我们将上面的对应同一层同一通道的参数设置成相同，上面的要求就很容易达到。这时CNN所命名的卷积假设。另外，这可以导致模型中自由参数的减少。</p><p>由于子特征允许重叠，因此特征的局部平移能够在更高层次的特征或者对象层次产生尺度不变性。</p><p><img src="file:///E:/Markdown%20files/pics/278.png" alt=""><br>上图(a)将一个矩形表示为4个pool的联合,每个pool代表一个拐角。拐角的平移能代表着矩形的大小的变化，因为RCN允许子特征的重叠。拐角特征被渲染成不同的厚度和阴影来表示它们之间的重叠。每个拐角特征本身可以进一步细分为线段特征以产生更多的局部变化。矩形的不同纵横比和平移可以从一个更高级别的特征节点来生成。pool 1和pool 4之间的因子被省去。</p><p><img src="file:///E:/Markdown%20files/pics/279.png" alt=""><br>图(b)是带有多个矩形的输入图像。当矩形能很好地分开时,它们将由不同的顶级特征节点表示。由于每个重叠的矩形可以由单个顶级特征节点来表示，因此解释这两个矩形将需要顶层的相同特征的两份拷贝。通常可以假设相同的特征节点被复制固定的次数，从而允许同一对象的多个实例出现在大致相同的位置。实际上，通过多次使用相同的分层结构直到所有的证据被解释为止，这个效果也可以近似地实现而不需要复制特征。</p><h2 id="3.-形状和外观的结合"><a name="3.-形状和外观的结合" href="#3.-形状和外观的结合"></a>3. 形状和外观的结合</h2><p>本章介绍如何结合外观模型和形状模型。上面的模型生成边缘效果图<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-3371-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-53001" style="width: 2.283em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.858em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.085em 1000em 2.35em -0.461em); top: -2.186em; left: 0em;"><span class="mrow" id="MathJax-Span-53002"><span class="msubsup" id="MathJax-Span-53003"><span style="display: inline-block; position: relative; width: 1.851em; height: 0px;"><span style="position: absolute; clip: rect(1.615em 1000em 2.623em -0.461em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-53004" style="font-family: MathJax_Math; font-style: italic;">F<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.106em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.757em; left: 0.847em;"><span class="texatom" id="MathJax-Span-53005"><span class="mrow" id="MathJax-Span-53006"><span class="mo" id="MathJax-Span-53007" style="font-size: 70.7%; font-family: MathJax_Main;">(</span><span class="mn" id="MathJax-Span-53008" style="font-size: 70.7%; font-family: MathJax_Main;">1</span><span class="mo" id="MathJax-Span-53009" style="font-size: 70.7%; font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.186em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.277em; vertical-align: -0.067em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-3371">F^{(1)}</script></span>(edge map), <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-3372-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-53010" style="width: 2.283em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.858em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.085em 1000em 2.35em -0.461em); top: -2.186em; left: 0em;"><span class="mrow" id="MathJax-Span-53011"><span class="msubsup" id="MathJax-Span-53012"><span style="display: inline-block; position: relative; width: 1.851em; height: 0px;"><span style="position: absolute; clip: rect(1.615em 1000em 2.623em -0.461em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-53013" style="font-family: MathJax_Math; font-style: italic;">F<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.106em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.757em; left: 0.847em;"><span class="texatom" id="MathJax-Span-53014"><span class="mrow" id="MathJax-Span-53015"><span class="mo" id="MathJax-Span-53016" style="font-size: 70.7%; font-family: MathJax_Main;">(</span><span class="mn" id="MathJax-Span-53017" style="font-size: 70.7%; font-family: MathJax_Main;">1</span><span class="mo" id="MathJax-Span-53018" style="font-size: 70.7%; font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.186em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.277em; vertical-align: -0.067em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-3372">F^{(1)}</script></span>是一个由<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-3373-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-53019" style="width: 3.817em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.115em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.764em 1000em 3.092em -0.398em); top: -2.678em; left: 0em;"><span class="mrow" id="MathJax-Span-53020"><span class="mo" id="MathJax-Span-53021" style="font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-53022" style="font-family: MathJax_Math; font-style: italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.06em;"></span></span><span class="mo" id="MathJax-Span-53023" style="font-family: MathJax_Main;">,</span><span class="mi" id="MathJax-Span-53024" style="font-family: MathJax_Math; font-style: italic; padding-left: 0.167em;">r</span><span class="mo" id="MathJax-Span-53025" style="font-family: MathJax_Main;">,</span><span class="mi" id="MathJax-Span-53026" style="font-family: MathJax_Math; font-style: italic; padding-left: 0.167em;">c</span><span class="mo" id="MathJax-Span-53027" style="font-family: MathJax_Main;">)</span></span><span style="display: inline-block; width: 0px; height: 2.678em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.353em; vertical-align: -0.372em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-3373">(f,r,c)</script></span>索引的数组，数组值都是二元的。每个特征<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-3374-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-53028" style="width: 0.75em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.601em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.59em 1000em 2.828em -0.437em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-53029"><span class="mi" id="MathJax-Span-53030" style="font-family: MathJax_Math; font-style: italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.06em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.244em; vertical-align: -0.317em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-3374">f</script></span>对应一个<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-3375-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-53031" style="width: 8.95em; display: inline-block;"><span style="display: inline-block; position: relative; width: 7.322em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.601em 1000em 2.817em -0.531em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-53032"><span class="mi" id="MathJax-Span-53033" style="font-family: MathJax_Math; font-style: italic;">p</span><span class="mi" id="MathJax-Span-53034" style="font-family: MathJax_Math; font-style: italic;">a</span><span class="mi" id="MathJax-Span-53035" style="font-family: MathJax_Math; font-style: italic;">t</span><span class="mi" id="MathJax-Span-53036" style="font-family: MathJax_Math; font-style: italic;">c</span><span class="mi" id="MathJax-Span-53037" style="font-family: MathJax_Math; font-style: italic;">h</span><span class="mspace" id="MathJax-Span-53038" style="height: 0em; vertical-align: 0em; width: 0.413em; display: inline-block; overflow: hidden;"></span><span class="mi" id="MathJax-Span-53039" style="font-family: MathJax_Math; font-style: italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-53040" style="font-family: MathJax_Math; font-style: italic;">e</span><span class="mi" id="MathJax-Span-53041" style="font-family: MathJax_Math; font-style: italic;">s</span><span class="mi" id="MathJax-Span-53042" style="font-family: MathJax_Math; font-style: italic;">c</span><span class="mi" id="MathJax-Span-53043" style="font-family: MathJax_Math; font-style: italic;">r</span><span class="mi" id="MathJax-Span-53044" style="font-family: MathJax_Math; font-style: italic;">i</span><span class="mi" id="MathJax-Span-53045" style="font-family: MathJax_Math; font-style: italic;">p</span><span class="mi" id="MathJax-Span-53046" style="font-family: MathJax_Math; font-style: italic;">t</span><span class="mi" id="MathJax-Span-53047" style="font-family: MathJax_Math; font-style: italic;">o</span><span class="mi" id="MathJax-Span-53048" style="font-family: MathJax_Math; font-style: italic;">r</span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.217em; vertical-align: -0.303em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-3375">patch\hspace{0.2cm}descriptor</script></span>,该特征由一组<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-3376-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-53049" style="width: 1.75em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.421em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.612em 1000em 2.623em -0.466em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-53050"><span class="mi" id="MathJax-Span-53051" style="font-family: MathJax_Math; font-style: italic;">I<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.064em;"></span></span><span class="mi" id="MathJax-Span-53052" style="font-family: MathJax_Math; font-style: italic;">N<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.085em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.967em; vertical-align: -0.067em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-3376">IN</script></span>和<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-3377-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-53053" style="width: 2.75em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.24em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.591em 1000em 2.645em -0.442em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-53054"><span class="mi" id="MathJax-Span-53055" style="font-family: MathJax_Math; font-style: italic;">O</span><span class="mi" id="MathJax-Span-53056" style="font-family: MathJax_Math; font-style: italic;">U<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.084em;"></span></span><span class="mi" id="MathJax-Span-53057" style="font-family: MathJax_Math; font-style: italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.12em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.019em; vertical-align: -0.094em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-3377">OUT</script></span>变量定义,并且一组边缘会排列在一个矩形patch里面。</p><p><img src="file:///E:/Markdown%20files/pics/280.png" alt=""><br>当边缘图<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-5105-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-64302" style="width: 2.283em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.858em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.085em 1000em 2.35em -0.461em); top: -2.186em; left: 0em;"><span class="mrow" id="MathJax-Span-64303"><span class="msubsup" id="MathJax-Span-64304"><span style="display: inline-block; position: relative; width: 1.851em; height: 0px;"><span style="position: absolute; clip: rect(1.615em 1000em 2.623em -0.461em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-64305" style="font-family: MathJax_Math; font-style: italic;">F<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.106em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.757em; left: 0.847em;"><span class="texatom" id="MathJax-Span-64306"><span class="mrow" id="MathJax-Span-64307"><span class="mo" id="MathJax-Span-64308" style="font-size: 70.7%; font-family: MathJax_Main;">(</span><span class="mn" id="MathJax-Span-64309" style="font-size: 70.7%; font-family: MathJax_Main;">1</span><span class="mo" id="MathJax-Span-64310" style="font-size: 70.7%; font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.186em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.277em; vertical-align: -0.067em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-5105">F^{(1)}</script></span>位于<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-5106-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-64311" style="width: 3.817em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.115em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.764em 1000em 3.092em -0.398em); top: -2.678em; left: 0em;"><span class="mrow" id="MathJax-Span-64312"><span class="mo" id="MathJax-Span-64313" style="font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-64314" style="font-family: MathJax_Math; font-style: italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.06em;"></span></span><span class="mo" id="MathJax-Span-64315" style="font-family: MathJax_Main;">,</span><span class="mi" id="MathJax-Span-64316" style="font-family: MathJax_Math; font-style: italic; padding-left: 0.167em;">r</span><span class="mo" id="MathJax-Span-64317" style="font-family: MathJax_Main;">,</span><span class="mi" id="MathJax-Span-64318" style="font-family: MathJax_Math; font-style: italic; padding-left: 0.167em;">c</span><span class="mo" id="MathJax-Span-64319" style="font-family: MathJax_Main;">)</span></span><span style="display: inline-block; width: 0px; height: 2.678em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.353em; vertical-align: -0.372em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-5106">(f,r,c)</script></span>处的变量被打开，一个小的边缘<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-5107-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-64320" style="width: 0.75em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.601em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.59em 1000em 2.828em -0.437em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-64321"><span class="mi" id="MathJax-Span-64322" style="font-family: MathJax_Math; font-style: italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.06em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.244em; vertical-align: -0.317em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-5107">f</script></span>会出现在最终图像的<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-5108-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-64323" style="width: 2.617em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.131em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.764em 1000em 3.092em -0.398em); top: -2.678em; left: 0em;"><span class="mrow" id="MathJax-Span-64324"><span class="mo" id="MathJax-Span-64325" style="font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-64326" style="font-family: MathJax_Math; font-style: italic;">r</span><span class="mo" id="MathJax-Span-64327" style="font-family: MathJax_Main;">,</span><span class="mi" id="MathJax-Span-64328" style="font-family: MathJax_Math; font-style: italic; padding-left: 0.167em;">c</span><span class="mo" id="MathJax-Span-64329" style="font-family: MathJax_Main;">)</span></span><span style="display: inline-block; width: 0px; height: 2.678em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.353em; vertical-align: -0.372em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-5108">(r,c)</script></span>处。边缘时定向的，因为对于外边缘，一边被定义为<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-5109-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-64330" style="width: 1.75em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.421em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.612em 1000em 2.623em -0.466em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-64331"><span class="mi" id="MathJax-Span-64332" style="font-family: MathJax_Math; font-style: italic;">I<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.064em;"></span></span><span class="mi" id="MathJax-Span-64333" style="font-family: MathJax_Math; font-style: italic;">N<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.085em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.967em; vertical-align: -0.067em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-5109">IN</script></span>另一边被定义为<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-5110-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-64334" style="width: 2.75em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.24em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.591em 1000em 2.645em -0.442em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-64335"><span class="mi" id="MathJax-Span-64336" style="font-family: MathJax_Math; font-style: italic;">O</span><span class="mi" id="MathJax-Span-64337" style="font-family: MathJax_Math; font-style: italic;">U<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.084em;"></span></span><span class="mi" id="MathJax-Span-64338" style="font-family: MathJax_Math; font-style: italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.12em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.019em; vertical-align: -0.094em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-5110">OUT</script></span>。例如有两个单独的特征对应一个外垂直边缘，其中一个将IN定义在边缘的左侧(OUT在右侧)，而另一个特征将IN定义在边缘的右侧(OUT在左侧)。在物体中的内边缘（即，分离物体内部区域的边缘），边缘的两侧被定义为IN。图S2(c)表示对于内边缘，还有其他的信息来显示边缘每侧<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-5111-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-64339" style="width: 1.75em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.421em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.612em 1000em 2.623em -0.466em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-64340"><span class="mi" id="MathJax-Span-64341" style="font-family: MathJax_Math; font-style: italic;">I<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.064em;"></span></span><span class="mi" id="MathJax-Span-64342" style="font-family: MathJax_Math; font-style: italic;">N<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.085em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.967em; vertical-align: -0.067em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-5111">IN</script></span>值之间的边界。S2(a)包含两种类型的垂直外边缘，两种额类型的水平外边缘，一条对角内边缘(如图S2(c)所示)。因此对于边缘的每次旋转，有3种可能的取向:2个对应外边缘1个对应内边缘。典型边缘图特征的数目是48,占16个不同旋转的3个取向。</p><p>用<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-5581-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-66823" style="width: 0.683em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.546em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.853em 1000em 2.828em -0.471em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-66824"><span class="mi" id="MathJax-Span-66825" style="font-family: MathJax_Math; font-style: italic;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.006em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.923em; vertical-align: -0.317em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-5581">y</script></span>来表示将要绘制边缘映射的两个定向边的画布,并且用纹理或者颜色去填充对象的内部。<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-5582-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-66826" style="width: 0.95em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.765em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.612em 1000em 2.622em -0.462em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-66827"><span class="mi" id="MathJax-Span-66828" style="font-family: MathJax_Math; font-style: italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.182em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.965em; vertical-align: -0.065em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-5582">Y</script></span>是一个二维数组，数组元素是多元随机变量，由<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-5583-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-66829" style="width: 2.617em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.131em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.764em 1000em 3.092em -0.398em); top: -2.678em; left: 0em;"><span class="mrow" id="MathJax-Span-66830"><span class="mo" id="MathJax-Span-66831" style="font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-66832" style="font-family: MathJax_Math; font-style: italic;">r</span><span class="mo" id="MathJax-Span-66833" style="font-family: MathJax_Main;">,</span><span class="mi" id="MathJax-Span-66834" style="font-family: MathJax_Math; font-style: italic; padding-left: 0.167em;">c</span><span class="mo" id="MathJax-Span-66835" style="font-family: MathJax_Main;">)</span></span><span style="display: inline-block; width: 0px; height: 2.678em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.353em; vertical-align: -0.372em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-5583">(r,c)</script></span>来索引。其中<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-5584-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-66836" style="width: 0.617em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.492em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.853em 1000em 2.634em -0.471em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-66837"><span class="mi" id="MathJax-Span-66838" style="font-family: MathJax_Math; font-style: italic;">r</span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.686em; vertical-align: -0.08em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-5584">r</script></span>和<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-5585-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-66839" style="width: 0.55em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.437em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.853em 1000em 2.634em -0.458em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-66840"><span class="mi" id="MathJax-Span-66841" style="font-family: MathJax_Math; font-style: italic;">c</span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.686em; vertical-align: -0.08em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-5585">c</script></span>索引对应于最终图像中的像素的行和列。在Y中的变量和观察到的图像像素X之间存在一对一的对应关系。Y的每个多元变量的状态代表一个颜色（或纹理）和IN或OUT状态。因此Y的每个变量的状态数目是能够表示所有颜色(或纹理)的数目的两倍。</p><p>Y是一个有4个连接变量的固定结构的条件随机场（CRF），所以每个变量都有1条边连接到4个邻近的其他变量。这些边代表成对的潜在值，并且还存在每个变量一元潜在值。潜在值取决于<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-5685-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-68084" style="width: 2.283em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.858em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.085em 1000em 2.35em -0.461em); top: -2.186em; left: 0em;"><span class="mrow" id="MathJax-Span-68085"><span class="msubsup" id="MathJax-Span-68086"><span style="display: inline-block; position: relative; width: 1.851em; height: 0px;"><span style="position: absolute; clip: rect(1.615em 1000em 2.623em -0.461em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-68087" style="font-family: MathJax_Math; font-style: italic;">F<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.106em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.757em; left: 0.847em;"><span class="texatom" id="MathJax-Span-68088"><span class="mrow" id="MathJax-Span-68089"><span class="mo" id="MathJax-Span-68090" style="font-size: 70.7%; font-family: MathJax_Main;">(</span><span class="mn" id="MathJax-Span-68091" style="font-size: 70.7%; font-family: MathJax_Main;">1</span><span class="mo" id="MathJax-Span-68092" style="font-size: 70.7%; font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.186em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.277em; vertical-align: -0.067em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-5685">F^{(1)}</script></span>的值(组成条件随机场)。</p><h2 id="1.-preprocessing"><a name="1.-preprocessing" href="#1.-preprocessing"></a>1. preprocessing</h2><ol>
<li>图像的扩充<br>先将<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-5586-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-66842" style="width: 3.95em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.224em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.848em 1000em 2.864em -0.442em); top: -2.678em; left: 0em;"><span class="mrow" id="MathJax-Span-66843"><span class="mn" id="MathJax-Span-66844" style="font-family: MathJax_Main;">28</span><span class="mo" id="MathJax-Span-66845" style="font-family: MathJax_Main; padding-left: 0.222em;">×</span><span class="mn" id="MathJax-Span-66846" style="font-family: MathJax_Main; padding-left: 0.222em;">28</span></span><span style="display: inline-block; width: 0px; height: 2.678em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.973em; vertical-align: -0.094em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-5586">28\times 28</script></span>的数字resize到<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-5587-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-66847" style="width: 5.217em; display: inline-block;"><span style="display: inline-block; position: relative; width: 4.262em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.848em 1000em 2.842em -0.409em); top: -2.678em; left: 0em;"><span class="mrow" id="MathJax-Span-66848"><span class="mn" id="MathJax-Span-66849" style="font-family: MathJax_Main;">112</span><span class="mo" id="MathJax-Span-66850" style="font-family: MathJax_Main; padding-left: 0.222em;">×</span><span class="mn" id="MathJax-Span-66851" style="font-family: MathJax_Main; padding-left: 0.222em;">112</span></span><span style="display: inline-block; width: 0px; height: 2.678em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.946em; vertical-align: -0.067em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-5587">112\times 112</script></span>，然后再在四周padding，上下左右各padding44，填充值为0。</li><li><p>进行garbor滤波<br>每张图片有一个garbor滤波器，1个garbor滤波器由16个高斯滤波组成，这16个高斯滤波分别为:<br><img src="file:///E:/Markdown%20files/pics/220.png" alt=""><br><img src="file:///E:/Markdown%20files/pics/221.png" alt=""><br><img src="file:///E:/Markdown%20files/pics/222.png" alt=""><br><img src="file:///E:/Markdown%20files/pics/223.png" alt=""><br><img src="file:///E:/Markdown%20files/pics/224.png" alt=""><br><img src="file:///E:/Markdown%20files/pics/225.png" alt=""><br><img src="file:///E:/Markdown%20files/pics/226.png" alt=""><br><img src="file:///E:/Markdown%20files/pics/227.png" alt=""><br><img src="file:///E:/Markdown%20files/pics/228.png" alt=""><br><img src="file:///E:/Markdown%20files/pics/229.png" alt=""><br><img src="file:///E:/Markdown%20files/pics/230.png" alt=""><br><img src="file:///E:/Markdown%20files/pics/231.png" alt=""><br><img src="file:///E:/Markdown%20files/pics/232.png" alt=""><br><img src="file:///E:/Markdown%20files/pics/233.png" alt=""><br><img src="file:///E:/Markdown%20files/pics/224.png" alt=""><br><img src="file:///E:/Markdown%20files/pics/235.png" alt=""></p>
</li><li><p>garbor滤波后的操作<br>gaobor滤波前的图像为:<br><img src="file:///E:/Markdown%20files/pics/236.png" alt=""><br>gaobor滤波后的图像为(注意有16个通道)：<br><img src="file:///E:/Markdown%20files/pics/237.png" alt=""><br><img src="file:///E:/Markdown%20files/pics/238.png" alt=""><br><img src="file:///E:/Markdown%20files/pics/239.png" alt=""><br><img src="file:///E:/Markdown%20files/pics/240.png" alt=""><br><img src="file:///E:/Markdown%20files/pics/241.png" alt=""><br><img src="file:///E:/Markdown%20files/pics/242.png" alt=""><br><img src="file:///E:/Markdown%20files/pics/243.png" alt=""><br><img src="file:///E:/Markdown%20files/pics/244.png" alt=""><br><img src="file:///E:/Markdown%20files/pics/245.png" alt=""><br><img src="file:///E:/Markdown%20files/pics/246.png" alt=""><br><img src="file:///E:/Markdown%20files/pics/247.png" alt=""><br><img src="file:///E:/Markdown%20files/pics/248.png" alt=""><br><img src="file:///E:/Markdown%20files/pics/249.png" alt=""><br><img src="file:///E:/Markdown%20files/pics/250.png" alt=""><br><img src="file:///E:/Markdown%20files/pics/251.png" alt=""><br><img src="file:///E:/Markdown%20files/pics/252.png" alt=""><br>然后再经过nonmax_suppression, threshold和binarize之后得到的图像为：<br><img src="file:///E:/Markdown%20files/pics/253.png" alt=""><br><img src="file:///E:/Markdown%20files/pics/254.png" alt=""><br><img src="file:///E:/Markdown%20files/pics/255.png" alt=""><br><img src="file:///E:/Markdown%20files/pics/256.png" alt=""><br><img src="file:///E:/Markdown%20files/pics/257.png" alt=""><br><img src="file:///E:/Markdown%20files/pics/258.png" alt=""><br><img src="file:///E:/Markdown%20files/pics/259.png" alt=""><br><img src="file:///E:/Markdown%20files/pics/260.png" alt=""><br><img src="file:///E:/Markdown%20files/pics/261.png" alt=""><br><img src="file:///E:/Markdown%20files/pics/262.png" alt=""><br><img src="file:///E:/Markdown%20files/pics/263.png" alt=""><br><img src="file:///E:/Markdown%20files/pics/264.png" alt=""><br><img src="file:///E:/Markdown%20files/pics/260.png" alt=""><br><img src="file:///E:/Markdown%20files/pics/261.png" alt=""><br><img src="file:///E:/Markdown%20files/pics/262.png" alt=""><br><img src="file:///E:/Markdown%20files/pics/263.png" alt=""><br><img src="file:///E:/Markdown%20files/pics/264.png" alt=""><br><img src="file:///E:/Markdown%20files/pics/265.png" alt=""><br><img src="file:///E:/Markdown%20files/pics/266.png" alt=""><br><img src="file:///E:/Markdown%20files/pics/267.png" alt=""><br><img src="file:///E:/Markdown%20files/pics/268.png" alt=""></p>
</li></ol><h3 id="2.-sparsification"><a name="2.-sparsification" href="#2.-sparsification"></a>2. sparsification</h3><h3 id="2.1-lowerest-layer-learning"><a name="2.1-lowerest-layer-learning" href="#2.1-lowerest-layer-learning"></a>2.1 lowerest layer learning</h3><p>对于上面的图像经过sparsification处理，处理的具体过成为：</p><ol>
<li>将<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-5588-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-66852" style="width: 7.883em; display: inline-block;"><span style="display: inline-block; position: relative; width: 6.448em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.848em 1000em 2.864em -0.442em); top: -2.678em; left: 0em;"><span class="mrow" id="MathJax-Span-66853"><span class="mn" id="MathJax-Span-66854" style="font-family: MathJax_Main;">200</span><span class="mo" id="MathJax-Span-66855" style="font-family: MathJax_Main; padding-left: 0.222em;">×</span><span class="mn" id="MathJax-Span-66856" style="font-family: MathJax_Main; padding-left: 0.222em;">200</span><span class="mo" id="MathJax-Span-66857" style="font-family: MathJax_Main; padding-left: 0.222em;">×</span><span class="mn" id="MathJax-Span-66858" style="font-family: MathJax_Main; padding-left: 0.222em;">16</span></span><span style="display: inline-block; width: 0px; height: 2.678em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.973em; vertical-align: -0.094em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-5588">200\times 200\times 16</script></span>的图像矩阵(记为bu_msg)，以channel为axis取最大值，然后将最大值大于0的变成True，最大值小于或等于0的变成False，最终得到一个<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-5589-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-66859" style="width: 5.217em; display: inline-block;"><span style="display: inline-block; position: relative; width: 4.262em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.848em 1000em 2.864em -0.442em); top: -2.678em; left: 0em;"><span class="mrow" id="MathJax-Span-66860"><span class="mn" id="MathJax-Span-66861" style="font-family: MathJax_Main;">200</span><span class="mo" id="MathJax-Span-66862" style="font-family: MathJax_Main; padding-left: 0.222em;">×</span><span class="mn" id="MathJax-Span-66863" style="font-family: MathJax_Main; padding-left: 0.222em;">200</span></span><span style="display: inline-block; width: 0px; height: 2.678em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.973em; vertical-align: -0.094em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-5589">200\times 200</script></span>的二值矩阵(记为img):<br><img src="file:///E:/Markdown%20files/pics/269.png" alt=""></li><li>选择上述<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-5590-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-66864" style="width: 5.217em; display: inline-block;"><span style="display: inline-block; position: relative; width: 4.262em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.848em 1000em 2.864em -0.442em); top: -2.678em; left: 0em;"><span class="mrow" id="MathJax-Span-66865"><span class="mn" id="MathJax-Span-66866" style="font-family: MathJax_Main;">200</span><span class="mo" id="MathJax-Span-66867" style="font-family: MathJax_Main; padding-left: 0.222em;">×</span><span class="mn" id="MathJax-Span-66868" style="font-family: MathJax_Main; padding-left: 0.222em;">200</span></span><span style="display: inline-block; width: 0px; height: 2.678em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.973em; vertical-align: -0.094em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-5590">200\times 200</script></span>矩阵中第一个为True的元素的位置，记为<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-5591-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-66869" style="width: 2.617em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.131em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.764em 1000em 3.092em -0.398em); top: -2.678em; left: 0em;"><span class="mrow" id="MathJax-Span-66870"><span class="mo" id="MathJax-Span-66871" style="font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-66872" style="font-family: MathJax_Math; font-style: italic;">r</span><span class="mo" id="MathJax-Span-66873" style="font-family: MathJax_Main;">,</span><span class="mi" id="MathJax-Span-66874" style="font-family: MathJax_Math; font-style: italic; padding-left: 0.167em;">c</span><span class="mo" id="MathJax-Span-66875" style="font-family: MathJax_Main;">)</span></span><span style="display: inline-block; width: 0px; height: 2.678em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.353em; vertical-align: -0.372em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-5591">(r, c)</script></span>,如果有这样的元素，则继续3-5的过程,如果不存在这样的元素，则执行6</li><li>将<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-5592-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-66876" style="width: 2.617em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.131em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.764em 1000em 3.092em -0.398em); top: -2.678em; left: 0em;"><span class="mrow" id="MathJax-Span-66877"><span class="mo" id="MathJax-Span-66878" style="font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-66879" style="font-family: MathJax_Math; font-style: italic;">r</span><span class="mo" id="MathJax-Span-66880" style="font-family: MathJax_Main;">,</span><span class="mi" id="MathJax-Span-66881" style="font-family: MathJax_Math; font-style: italic; padding-left: 0.167em;">c</span><span class="mo" id="MathJax-Span-66882" style="font-family: MathJax_Main;">)</span></span><span style="display: inline-block; width: 0px; height: 2.678em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.353em; vertical-align: -0.372em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-5592">(r, c)</script></span>所在位置的最大值的通道序号和(r, c)一并加入到frcs中，即(max_channel_index, r, c)</li><li>以刚刚找到的(r, c)为中心，将该位置半径为<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-5593-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-66883" style="width: 8.283em; display: inline-block;"><span style="display: inline-block; position: relative; width: 6.776em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.601em 1000em 2.817em -0.439em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-66884"><span class="mi" id="MathJax-Span-66885" style="font-family: MathJax_Math; font-style: italic;">s</span><span class="mi" id="MathJax-Span-66886" style="font-family: MathJax_Math; font-style: italic;">u</span><span class="mi" id="MathJax-Span-66887" style="font-family: MathJax_Math; font-style: italic;">p</span><span class="mi" id="MathJax-Span-66888" style="font-family: MathJax_Math; font-style: italic;">p</span><span class="mi" id="MathJax-Span-66889" style="font-family: MathJax_Math; font-style: italic;">r</span><span class="mi" id="MathJax-Span-66890" style="font-family: MathJax_Math; font-style: italic;">e</span><span class="mi" id="MathJax-Span-66891" style="font-family: MathJax_Math; font-style: italic;">s</span><span class="msubsup" id="MathJax-Span-66892"><span style="display: inline-block; position: relative; width: 0.895em; height: 0px;"><span style="position: absolute; clip: rect(1.853em 1000em 2.633em -0.439em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-66893" style="font-family: MathJax_Math; font-style: italic;">s</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.145em; left: 0.492em;"><span class="mi" id="MathJax-Span-66894" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">r</span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span></span><span class="mi" id="MathJax-Span-66895" style="font-family: MathJax_Math; font-style: italic;">a</span><span class="mi" id="MathJax-Span-66896" style="font-family: MathJax_Math; font-style: italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-66897" style="font-family: MathJax_Math; font-style: italic;">i</span><span class="mi" id="MathJax-Span-66898" style="font-family: MathJax_Math; font-style: italic;">u</span><span class="mi" id="MathJax-Span-66899" style="font-family: MathJax_Math; font-style: italic;">s</span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.217em; vertical-align: -0.303em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-5593">suppress_radius</script></span>内的元素值全部设置为False</li><li>重复2-4的过程</li><li>结束spasification过程,返回frcs矩阵，注意frcs是一个<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-5594-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-66900" style="width: 2.883em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.35em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.849em 1000em 2.864em -0.471em); top: -2.678em; left: 0em;"><span class="mrow" id="MathJax-Span-66901"><span class="mi" id="MathJax-Span-66902" style="font-family: MathJax_Math; font-style: italic;">n</span><span class="mo" id="MathJax-Span-66903" style="font-family: MathJax_Main; padding-left: 0.222em;">×</span><span class="mn" id="MathJax-Span-66904" style="font-family: MathJax_Main; padding-left: 0.222em;">3</span></span><span style="display: inline-block; width: 0px; height: 2.678em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.971em; vertical-align: -0.094em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-5594">n\times 3</script></span>的矩阵<h3 id="2.2-中间层特征的学习"><a name="2.2-中间层特征的学习" href="#2.2-中间层特征的学习"></a>2.2 中间层特征的学习</h3>
</li></ol><p>模型会生成对应于不同孤立对象的图像。一旦使用一些孤立对象的训练集合来设置分层模型的参数，识别就等于在概率模型中进行推理。识别孤立对象相当于顶层pool层<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-5595-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-66905" style="width: 2.683em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.186em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.082em 1000em 2.35em -0.461em); top: -2.186em; left: 0em;"><span class="mrow" id="MathJax-Span-66906"><span class="msubsup" id="MathJax-Span-66907"><span style="display: inline-block; position: relative; width: 2.164em; height: 0px;"><span style="position: absolute; clip: rect(1.612em 1000em 2.623em -0.461em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-66908" style="font-family: MathJax_Math; font-style: italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.76em; left: 0.996em;"><span class="texatom" id="MathJax-Span-66909"><span class="mrow" id="MathJax-Span-66910"><span class="mo" id="MathJax-Span-66911" style="font-size: 70.7%; font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-66912" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.032em;"></span></span><span class="mo" id="MathJax-Span-66913" style="font-size: 70.7%; font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.186em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.281em; vertical-align: -0.067em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-5595">H^{(C)}</script></span>的值。<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-5596-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-66914" style="width: 2.683em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.186em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.082em 1000em 2.35em -0.461em); top: -2.186em; left: 0em;"><span class="mrow" id="MathJax-Span-66915"><span class="msubsup" id="MathJax-Span-66916"><span style="display: inline-block; position: relative; width: 2.164em; height: 0px;"><span style="position: absolute; clip: rect(1.612em 1000em 2.623em -0.461em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-66917" style="font-family: MathJax_Math; font-style: italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.76em; left: 0.996em;"><span class="texatom" id="MathJax-Span-66918"><span class="mrow" id="MathJax-Span-66919"><span class="mo" id="MathJax-Span-66920" style="font-size: 70.7%; font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-66921" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.032em;"></span></span><span class="mo" id="MathJax-Span-66922" style="font-size: 70.7%; font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.186em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.281em; vertical-align: -0.067em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-5596">H^{(C)}</script></span>代表了对象的类别和位置。</p><p>当背景混乱或多个对象出现在同一图像中时，我们仍然可以在外部循环内部使用上述过程来查找图像中最显著的对象，然后将其隐去，然后寻找下一个最显著的对象。</p><p>在这样一个复杂的逻辑模型上的推理是棘手的。在本节中，我们将展示在这个模型中如何进行近似推理。我们将展示一个单一的自下而上的正向传递就足以找到对象的位置和类别的一个很好的近似值，并且随后的单个自上而下的反向传递将足以找到与每个对象相对应的mask对象。</p><p>理想情况下，我们想计算模型隐变量的后验概率。但是，这是棘手的。 在loopy图(loopy置信传播和更高级的变体)上的近似推理算法，可以用来逼近每个latent variable的边际后验概率。这不能保证可以计算实际的后验概率，但即使能，也不适合解决现在的问题。这是因为将真实概率逼近为边际后验概率的乘积后，如果实际后验概率为0，则会在实际后验概率可能为0的区域中引入非0后验概率mass。</p><p>计算隐变量的边际后验概率可以使得局部概率有效，但不会表现出全局的一直想和协调性。相反，找到最大化观察图像概率的隐变量的单一配置将导致观察图像的一致的，全局协调的潜在解释。因此，我们关注的是最大后验概率(MAP)。</p><p>loopy图中的MAP推断可以使用最大乘积loopy置信度传播、树重新加权的置信传播、双重分解来近似解决。我们的总体近似推理过程包括一个使用最大乘积的消息传递机制的前向和后向传播。一些消息可以很容易计算出来，另一些则需要一些近似。特别的，当涉及到解决横向连接的子问题(横向子问题)时，我们将使用loopy局部最大乘积或者更先进的双重分解技术。</p><h3 id="1.1-loopy置信度传播:-最大乘积"><a name="1.1-loopy置信度传播:-最大乘积" href="#1.1-loopy置信度传播:-最大乘积"></a>1.1 loopy置信度传播: 最大乘积</h3><p>最大乘积置信度传播是一种能够找到使得树结构的图模型的概率最大化的变量状态的精确技术。实现表明，当最大乘积小弟传递机制被应用到loopy图时也能取得非常好的效果。</p><p>所有的概率模型(例如RCN)都可以表示为因子图，因子的变量组也是明确的：</p><p><span class="MathJax_Preview"></span></p><div class="MathJax_Display" role="textbox" aria-readonly="true" style="text-align: center;"><span class="MathJax" id="MathJax-Element-5597-Frame"><nobr><span class="math" id="MathJax-Span-66923" style="width: 19.483em; display: inline-block;"><span style="display: inline-block; position: relative; width: 15.956em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.564em 1000em 3.999em -0.531em); top: -2.678em; left: 0em;"><span class="mrow" id="MathJax-Span-66924"><span class="mi" id="MathJax-Span-66925" style="font-family: MathJax_Math; font-style: italic;">p</span><span class="mo" id="MathJax-Span-66926" style="font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-66927" style="font-family: MathJax_Math; font-style: italic;">x</span><span class="mo" id="MathJax-Span-66928" style="font-family: MathJax_Main;">)</span><span class="mo" id="MathJax-Span-66929" style="font-family: MathJax_Main; padding-left: 0.278em;">=</span><span class="mi" id="MathJax-Span-66930" style="font-family: MathJax_Math; font-style: italic; padding-left: 0.278em;">p</span><span class="mo" id="MathJax-Span-66931" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-66932"><span style="display: inline-block; position: relative; width: 1.059em; height: 0px;"><span style="position: absolute; clip: rect(1.853em 1000em 2.634em -0.457em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-66933" style="font-family: MathJax_Math; font-style: italic;">x</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.2em; left: 0.601em;"><span class="mn" id="MathJax-Span-66934" style="font-size: 70.7%; font-family: MathJax_Main;">1</span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span></span></span><span class="mo" id="MathJax-Span-66935" style="font-family: MathJax_Main;">,</span><span class="msubsup" id="MathJax-Span-66936" style="padding-left: 0.167em;"><span style="display: inline-block; position: relative; width: 1.059em; height: 0px;"><span style="position: absolute; clip: rect(1.853em 1000em 2.634em -0.457em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-66937" style="font-family: MathJax_Math; font-style: italic;">x</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.2em; left: 0.601em;"><span class="mn" id="MathJax-Span-66938" style="font-size: 70.7%; font-family: MathJax_Main;">2</span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span></span></span><span class="mo" id="MathJax-Span-66939" style="font-family: MathJax_Main;">,</span><span class="mo" id="MathJax-Span-66940" style="font-family: MathJax_Main; padding-left: 0.167em;">⋯</span><span class="mo" id="MathJax-Span-66941" style="font-family: MathJax_Main; padding-left: 0.167em;">,</span><span class="msubsup" id="MathJax-Span-66942" style="padding-left: 0.167em;"><span style="display: inline-block; position: relative; width: 1.113em; height: 0px;"><span style="position: absolute; clip: rect(1.853em 1000em 2.634em -0.457em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-66943" style="font-family: MathJax_Math; font-style: italic;">x</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.145em; left: 0.601em;"><span class="mi" id="MathJax-Span-66944" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">n</span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span></span><span class="mo" id="MathJax-Span-66945" style="font-family: MathJax_Main;">)</span><span class="mo" id="MathJax-Span-66946" style="font-family: MathJax_Main; padding-left: 0.278em;">=</span><span class="munderover" id="MathJax-Span-66947" style="padding-left: 0.278em;"><span style="display: inline-block; position: relative; width: 1.311em; height: 0px;"><span style="position: absolute; clip: rect(2.657em 1000em 4.384em -0.436em); top: -3.77em; left: 0em;"><span class="mo" id="MathJax-Span-66948" style="font-family: MathJax_Size2; vertical-align: 0em;">∏</span><span style="display: inline-block; width: 0px; height: 3.77em;"></span></span><span style="position: absolute; clip: rect(1.819em 1000em 2.567em -0.468em); top: -1.245em; left: 0.492em;"><span class="mi" id="MathJax-Span-66949" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">c</span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-66950" style="padding-left: 0.167em;"><span style="display: inline-block; position: relative; width: 1.004em; height: 0px;"><span style="position: absolute; clip: rect(1.601em 1000em 2.828em -0.449em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-66951" style="font-family: MathJax_Math; font-style: italic;">ϕ</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.055em; left: 0.601em;"><span class="mi" id="MathJax-Span-66952" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">c</span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span></span><span class="mo" id="MathJax-Span-66953" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-66954"><span style="display: inline-block; position: relative; width: 1.004em; height: 0px;"><span style="position: absolute; clip: rect(1.853em 1000em 2.634em -0.457em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-66955" style="font-family: MathJax_Math; font-style: italic;">x</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.145em; left: 0.601em;"><span class="mi" id="MathJax-Span-66956" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">c</span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span></span><span class="mo" id="MathJax-Span-66957" style="font-family: MathJax_Main;">)</span></span><span style="display: inline-block; width: 0px; height: 2.678em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 2.705em; vertical-align: -1.479em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-5597">
p(x)=p(x_1, x_2,\cdots, x_n)=\prod_c\phi_c(x_c)</script><p></p><p>c会遍历图中的所有因子，<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-5598-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-66958" style="width: 1.283em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.038em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.58em 1000em 2.508em -0.457em); top: -2.186em; left: 0em;"><span class="mrow" id="MathJax-Span-66959"><span class="msubsup" id="MathJax-Span-66960"><span style="display: inline-block; position: relative; width: 1.004em; height: 0px;"><span style="position: absolute; clip: rect(1.853em 1000em 2.634em -0.457em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-66961" style="font-family: MathJax_Math; font-style: italic;">x</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.145em; left: 0.601em;"><span class="mi" id="MathJax-Span-66962" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">c</span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.186em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.865em; vertical-align: -0.259em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-5598">x_c</script></span>是途中一些变量<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-5599-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-66963" style="width: 7.217em; display: inline-block;"><span style="display: inline-block; position: relative; width: 5.902em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(2.072em 1000em 3.036em -0.457em); top: -2.678em; left: 0em;"><span class="mrow" id="MathJax-Span-66964"><span class="msubsup" id="MathJax-Span-66965"><span style="display: inline-block; position: relative; width: 1.059em; height: 0px;"><span style="position: absolute; clip: rect(1.853em 1000em 2.634em -0.457em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-66966" style="font-family: MathJax_Math; font-style: italic;">x</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.2em; left: 0.601em;"><span class="mn" id="MathJax-Span-66967" style="font-size: 70.7%; font-family: MathJax_Main;">1</span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span></span></span><span class="mo" id="MathJax-Span-66968" style="font-family: MathJax_Main;">,</span><span class="msubsup" id="MathJax-Span-66969" style="padding-left: 0.167em;"><span style="display: inline-block; position: relative; width: 1.059em; height: 0px;"><span style="position: absolute; clip: rect(1.853em 1000em 2.634em -0.457em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-66970" style="font-family: MathJax_Math; font-style: italic;">x</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.2em; left: 0.601em;"><span class="mn" id="MathJax-Span-66971" style="font-size: 70.7%; font-family: MathJax_Main;">2</span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span></span></span><span class="mo" id="MathJax-Span-66972" style="font-family: MathJax_Main;">,</span><span class="mo" id="MathJax-Span-66973" style="font-family: MathJax_Main; padding-left: 0.167em;">⋯</span><span class="mo" id="MathJax-Span-66974" style="font-family: MathJax_Main; padding-left: 0.167em;">,</span><span class="msubsup" id="MathJax-Span-66975" style="padding-left: 0.167em;"><span style="display: inline-block; position: relative; width: 1.113em; height: 0px;"><span style="position: absolute; clip: rect(1.853em 1000em 2.634em -0.457em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-66976" style="font-family: MathJax_Math; font-style: italic;">x</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.145em; left: 0.601em;"><span class="mi" id="MathJax-Span-66977" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">n</span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.678em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.909em; vertical-align: -0.303em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-5599">x_1, x_2,\cdots,x_n</script></span>的子集。MAP推理的目的是找出</p><p><span class="MathJax_Preview"></span></p><div class="MathJax_Display" role="textbox" aria-readonly="true" style="text-align: center;"><span class="MathJax" id="MathJax-Element-5600-Frame"><nobr><span class="math" id="MathJax-Span-66978" style="width: 16.15em; display: inline-block;"><span style="display: inline-block; position: relative; width: 13.224em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.764em 1000em 3.56em -0.457em); top: -2.678em; left: 0em;"><span class="mrow" id="MathJax-Span-66979"><span class="msubsup" id="MathJax-Span-66980"><span style="display: inline-block; position: relative; width: 1.059em; height: 0px;"><span style="position: absolute; clip: rect(1.853em 1000em 2.634em -0.457em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-66981" style="font-family: MathJax_Math; font-style: italic;">x</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.763em; left: 0.601em;"><span class="mo" id="MathJax-Span-66982" style="font-size: 70.7%; font-family: MathJax_Main;">∗</span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span></span></span><span class="mo" id="MathJax-Span-66983" style="font-family: MathJax_Main; padding-left: 0.278em;">=</span><span class="mi" id="MathJax-Span-66984" style="font-family: MathJax_Main; padding-left: 0.278em;">arg</span><span class="mo" id="MathJax-Span-66985"></span><span class="munderover" id="MathJax-Span-66986" style="padding-left: 0.167em;"><span style="display: inline-block; position: relative; width: 1.913em; height: 0px;"><span style="position: absolute; clip: rect(2.066em 1000em 2.853em -0.467em); top: -2.678em; left: 0em;"><span class="mo" id="MathJax-Span-66987" style="font-family: MathJax_Main;">max</span><span style="display: inline-block; width: 0px; height: 2.678em;"></span></span><span style="position: absolute; clip: rect(1.819em 1000em 2.567em -0.467em); top: -1.684em; left: 0.738em;"><span class="mi" id="MathJax-Span-66988" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">x</span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span></span><span class="mi" id="MathJax-Span-66989" style="font-family: MathJax_Math; font-style: italic; padding-left: 0.167em;">p</span><span class="mo" id="MathJax-Span-66990" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-66991"><span style="display: inline-block; position: relative; width: 1.059em; height: 0px;"><span style="position: absolute; clip: rect(1.853em 1000em 2.634em -0.457em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-66992" style="font-family: MathJax_Math; font-style: italic;">x</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.2em; left: 0.601em;"><span class="mn" id="MathJax-Span-66993" style="font-size: 70.7%; font-family: MathJax_Main;">1</span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span></span></span><span class="mo" id="MathJax-Span-66994" style="font-family: MathJax_Main;">,</span><span class="msubsup" id="MathJax-Span-66995" style="padding-left: 0.167em;"><span style="display: inline-block; position: relative; width: 1.059em; height: 0px;"><span style="position: absolute; clip: rect(1.853em 1000em 2.634em -0.457em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-66996" style="font-family: MathJax_Math; font-style: italic;">x</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.2em; left: 0.601em;"><span class="mn" id="MathJax-Span-66997" style="font-size: 70.7%; font-family: MathJax_Main;">2</span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span></span></span><span class="mo" id="MathJax-Span-66998" style="font-family: MathJax_Main;">,</span><span class="mo" id="MathJax-Span-66999" style="font-family: MathJax_Main; padding-left: 0.167em;">⋯</span><span class="mo" id="MathJax-Span-67000" style="font-family: MathJax_Main; padding-left: 0.167em;">,</span><span class="msubsup" id="MathJax-Span-67001" style="padding-left: 0.167em;"><span style="display: inline-block; position: relative; width: 1.113em; height: 0px;"><span style="position: absolute; clip: rect(1.853em 1000em 2.634em -0.457em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-67002" style="font-family: MathJax_Math; font-style: italic;">x</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.145em; left: 0.601em;"><span class="mi" id="MathJax-Span-67003" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">n</span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span></span><span class="mo" id="MathJax-Span-67004" style="font-family: MathJax_Main;">)</span></span><span style="display: inline-block; width: 0px; height: 2.678em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.925em; vertical-align: -0.944em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-5600">
x^*=\arg\max_xp(x_1, x_2,\cdots,x_n)</script><p></p><p>令<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-5601-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-67005" style="width: 2.017em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.639em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.58em 1000em 2.712em -0.457em); top: -2.186em; left: 0em;"><span class="mrow" id="MathJax-Span-67006"><span class="msubsup" id="MathJax-Span-67007"><span style="display: inline-block; position: relative; width: 1.605em; height: 0px;"><span style="position: absolute; clip: rect(1.853em 1000em 2.634em -0.457em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-67008" style="font-family: MathJax_Math; font-style: italic;">x</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.164em; left: 0.601em;"><span class="texatom" id="MathJax-Span-67009"><span class="mrow" id="MathJax-Span-67010"><span class="mi" id="MathJax-Span-67011" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">c</span><span class="mo" id="MathJax-Span-67012" style="font-size: 70.7%; font-family: MathJax_Main;">∖</span><span class="mi" id="MathJax-Span-67013" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">i</span></span></span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.186em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.115em; vertical-align: -0.509em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-5601">x_{c\setminus i}</script></span>为<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-5602-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-67014" style="width: 1.283em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.038em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.58em 1000em 2.508em -0.457em); top: -2.186em; left: 0em;"><span class="mrow" id="MathJax-Span-67015"><span class="msubsup" id="MathJax-Span-67016"><span style="display: inline-block; position: relative; width: 1.004em; height: 0px;"><span style="position: absolute; clip: rect(1.853em 1000em 2.634em -0.457em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-67017" style="font-family: MathJax_Math; font-style: italic;">x</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.145em; left: 0.601em;"><span class="mi" id="MathJax-Span-67018" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">c</span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.186em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.865em; vertical-align: -0.259em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-5602">x_c</script></span>中不包括<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-5603-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-67019" style="width: 1.217em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.984em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.58em 1000em 2.508em -0.457em); top: -2.186em; left: 0em;"><span class="mrow" id="MathJax-Span-67020"><span class="msubsup" id="MathJax-Span-67021"><span style="display: inline-block; position: relative; width: 0.949em; height: 0px;"><span style="position: absolute; clip: rect(1.853em 1000em 2.634em -0.457em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-67022" style="font-family: MathJax_Math; font-style: italic;">x</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.145em; left: 0.601em;"><span class="mi" id="MathJax-Span-67023" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">i</span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.186em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.865em; vertical-align: -0.259em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-5603">x_i</script></span>的变量，定义每个因子<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-5604-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-67024" style="width: 0.55em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.437em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.853em 1000em 2.634em -0.458em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-67025"><span class="mi" id="MathJax-Span-67026" style="font-family: MathJax_Math; font-style: italic;">c</span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.686em; vertical-align: -0.08em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-5604">c</script></span>到每个变量<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-5605-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-67027" style="width: 0.483em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.383em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.634em 1000em 2.634em -0.471em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-67028"><span class="mi" id="MathJax-Span-67029" style="font-family: MathJax_Math; font-style: italic;">i</span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.953em; vertical-align: -0.08em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-5605">i</script></span>的消息为:</p><p><span class="MathJax_Preview"></span></p><div class="MathJax_Display" role="textbox" aria-readonly="true" style="text-align: center;"><span class="MathJax" id="MathJax-Element-5606-Frame"><nobr><span class="math" id="MathJax-Span-67030" style="width: 32.75em; display: inline-block;"><span style="display: inline-block; position: relative; width: 26.831em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.564em 1000em 4.265em -0.471em); top: -2.678em; left: 0em;"><span class="mrow" id="MathJax-Span-67031"><span class="msubsup" id="MathJax-Span-67032"><span style="display: inline-block; position: relative; width: 2.261em; height: 0px;"><span style="position: absolute; clip: rect(3.084em 1000em 4.164em -0.471em); top: -3.989em; left: 0em;"><span class="texatom" id="MathJax-Span-67033"><span class="mrow" id="MathJax-Span-67034"><span class="munderover" id="MathJax-Span-67035"><span style="display: inline-block; position: relative; width: 0.929em; height: 0px;"><span style="position: absolute; clip: rect(1.853em 1000em 2.634em -0.471em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-67036" style="font-family: MathJax_Math; font-style: italic;">m</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; clip: rect(1.82em 1000em 2.311em -0.38em); top: -2.725em; left: 0.191em;"><span class="mo" id="MathJax-Span-67037" style="font-family: MathJax_Main;">^</span><span style="display: inline-block; width: 0px; height: 2.678em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.989em;"></span></span><span style="position: absolute; top: -2.2em; left: 0.929em;"><span class="texatom" id="MathJax-Span-67038"><span class="mrow" id="MathJax-Span-67039"><span class="mi" id="MathJax-Span-67040" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">c</span><span class="mo" id="MathJax-Span-67041" style="font-size: 70.7%; font-family: MathJax_Main;">→</span><span class="mi" id="MathJax-Span-67042" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">i</span></span></span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span></span></span><span class="mo" id="MathJax-Span-67043" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-67044"><span style="display: inline-block; position: relative; width: 0.949em; height: 0px;"><span style="position: absolute; clip: rect(1.853em 1000em 2.634em -0.457em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-67045" style="font-family: MathJax_Math; font-style: italic;">x</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.145em; left: 0.601em;"><span class="mi" id="MathJax-Span-67046" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">i</span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-67047"><span style="display: inline-block; position: relative; width: 1.824em; height: 0px;"><span style="position: absolute; clip: rect(1.764em 1000em 3.092em -0.437em); top: -2.678em; left: 0em;"><span class="mo" id="MathJax-Span-67048" style="font-family: MathJax_Main;">)</span><span style="display: inline-block; width: 0px; height: 2.678em;"></span></span><span style="position: absolute; top: -2.772em; left: 0.437em;"><span class="texatom" id="MathJax-Span-67049"><span class="mrow" id="MathJax-Span-67050"><span class="mi" id="MathJax-Span-67051" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">n</span><span class="mi" id="MathJax-Span-67052" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">e</span><span class="mi" id="MathJax-Span-67053" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">w</span></span></span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span></span><span class="mo" id="MathJax-Span-67054" style="font-family: MathJax_Main; padding-left: 0.278em;">=</span><span class="munderover" id="MathJax-Span-67055" style="padding-left: 0.278em;"><span style="display: inline-block; position: relative; width: 1.913em; height: 0px;"><span style="position: absolute; clip: rect(2.066em 1000em 2.853em -0.467em); top: -2.678em; left: 0em;"><span class="mo" id="MathJax-Span-67056" style="font-family: MathJax_Main;">max</span><span style="display: inline-block; width: 0px; height: 2.678em;"></span></span><span style="position: absolute; clip: rect(3.513em 1000em 4.509em -0.467em); top: -3.378em; left: 0.383em;"><span class="texatom" id="MathJax-Span-67057"><span class="mrow" id="MathJax-Span-67058"><span class="msubsup" id="MathJax-Span-67059"><span style="display: inline-block; position: relative; width: 1.146em; height: 0px;"><span style="position: absolute; clip: rect(1.819em 1000em 2.467em -0.467em); top: -2.295em; left: 0em;"><span class="mi" id="MathJax-Span-67060" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">x</span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span><span style="position: absolute; top: -2.054em; left: 0.437em;"><span class="texatom" id="MathJax-Span-67061"><span class="mrow" id="MathJax-Span-67062"><span class="mi" id="MathJax-Span-67063" style="font-size: 50%; font-family: MathJax_Math; font-style: italic;">c</span><span class="mo" id="MathJax-Span-67064" style="font-size: 50%; font-family: MathJax_Main;">∖</span><span class="mi" id="MathJax-Span-67065" style="font-size: 50%; font-family: MathJax_Math; font-style: italic;">i</span></span></span><span style="display: inline-block; width: 0px; height: 2.186em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.989em;"></span></span></span></span><span class="mo" id="MathJax-Span-67066" style="font-family: MathJax_Main;">[</span><span class="mi" id="MathJax-Span-67067" style="font-family: MathJax_Main;">log</span><span class="mo" id="MathJax-Span-67068"></span><span class="msubsup" id="MathJax-Span-67069" style="padding-left: 0.167em;"><span style="display: inline-block; position: relative; width: 1.004em; height: 0px;"><span style="position: absolute; clip: rect(1.601em 1000em 2.828em -0.449em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-67070" style="font-family: MathJax_Math; font-style: italic;">ϕ</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.055em; left: 0.601em;"><span class="mi" id="MathJax-Span-67071" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">c</span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span></span><span class="mo" id="MathJax-Span-67072" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-67073"><span style="display: inline-block; position: relative; width: 0.949em; height: 0px;"><span style="position: absolute; clip: rect(1.853em 1000em 2.634em -0.457em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-67074" style="font-family: MathJax_Math; font-style: italic;">x</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.145em; left: 0.601em;"><span class="mi" id="MathJax-Span-67075" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">i</span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span></span><span class="mo" id="MathJax-Span-67076" style="font-family: MathJax_Main;">,</span><span class="msubsup" id="MathJax-Span-67077" style="padding-left: 0.167em;"><span style="display: inline-block; position: relative; width: 1.605em; height: 0px;"><span style="position: absolute; clip: rect(1.853em 1000em 2.634em -0.457em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-67078" style="font-family: MathJax_Math; font-style: italic;">x</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.164em; left: 0.601em;"><span class="texatom" id="MathJax-Span-67079"><span class="mrow" id="MathJax-Span-67080"><span class="mi" id="MathJax-Span-67081" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">c</span><span class="mo" id="MathJax-Span-67082" style="font-size: 70.7%; font-family: MathJax_Main;">∖</span><span class="mi" id="MathJax-Span-67083" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">i</span></span></span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span></span></span><span class="mo" id="MathJax-Span-67084" style="font-family: MathJax_Main;">)</span><span class="mo" id="MathJax-Span-67085" style="font-family: MathJax_Main; padding-left: 0.222em;">+</span><span class="munderover" id="MathJax-Span-67086" style="padding-left: 0.222em;"><span style="display: inline-block; position: relative; width: 1.694em; height: 0px;"><span style="position: absolute; clip: rect(2.657em 1000em 4.384em -0.437em); top: -3.77em; left: 0.109em;"><span class="mo" id="MathJax-Span-67087" style="font-family: MathJax_Size2; vertical-align: 0em;">∑</span><span style="display: inline-block; width: 0px; height: 3.77em;"></span></span><span style="position: absolute; clip: rect(1.655em 1000em 2.79em -0.5em); top: -1.203em; left: 0em;"><span class="texatom" id="MathJax-Span-67088"><span class="mrow" id="MathJax-Span-67089"><span class="mi" id="MathJax-Span-67090" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">j</span><span class="mo" id="MathJax-Span-67091" style="font-size: 70.7%; font-family: MathJax_Main;">∈</span><span class="mi" id="MathJax-Span-67092" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">c</span><span class="mo" id="MathJax-Span-67093" style="font-size: 70.7%; font-family: MathJax_Main;">∖</span><span class="mi" id="MathJax-Span-67094" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">i</span></span></span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span></span></span><span class="mo" id="MathJax-Span-67095" style="font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-67096" style="font-family: MathJax_Math; font-style: italic;">μ</span><span class="mo" id="MathJax-Span-67097" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-67098"><span style="display: inline-block; position: relative; width: 1.004em; height: 0px;"><span style="position: absolute; clip: rect(1.853em 1000em 2.634em -0.457em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-67099" style="font-family: MathJax_Math; font-style: italic;">x</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.145em; left: 0.601em;"><span class="mi" id="MathJax-Span-67100" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">j</span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span></span><span class="mo" id="MathJax-Span-67101" style="font-family: MathJax_Main;">)</span><span class="mo" id="MathJax-Span-67102" style="font-family: MathJax_Main; padding-left: 0.222em;">−</span><span class="msubsup" id="MathJax-Span-67103" style="padding-left: 0.222em;"><span style="display: inline-block; position: relative; width: 2.315em; height: 0px;"><span style="position: absolute; clip: rect(3.084em 1000em 4.164em -0.471em); top: -3.989em; left: 0em;"><span class="texatom" id="MathJax-Span-67104"><span class="mrow" id="MathJax-Span-67105"><span class="munderover" id="MathJax-Span-67106"><span style="display: inline-block; position: relative; width: 0.929em; height: 0px;"><span style="position: absolute; clip: rect(1.853em 1000em 2.634em -0.471em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-67107" style="font-family: MathJax_Math; font-style: italic;">m</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; clip: rect(1.82em 1000em 2.311em -0.38em); top: -2.725em; left: 0.191em;"><span class="mo" id="MathJax-Span-67108" style="font-family: MathJax_Main;">^</span><span style="display: inline-block; width: 0px; height: 2.678em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.989em;"></span></span><span style="position: absolute; top: -2.2em; left: 0.929em;"><span class="texatom" id="MathJax-Span-67109"><span class="mrow" id="MathJax-Span-67110"><span class="mi" id="MathJax-Span-67111" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">c</span><span class="mo" id="MathJax-Span-67112" style="font-size: 70.7%; font-family: MathJax_Main;">→</span><span class="mi" id="MathJax-Span-67113" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">j</span></span></span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span></span></span><span class="mo" id="MathJax-Span-67114" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-67115"><span style="display: inline-block; position: relative; width: 1.004em; height: 0px;"><span style="position: absolute; clip: rect(1.853em 1000em 2.634em -0.457em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-67116" style="font-family: MathJax_Math; font-style: italic;">x</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.145em; left: 0.601em;"><span class="mi" id="MathJax-Span-67117" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">j</span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span></span><span class="mo" id="MathJax-Span-67118" style="font-family: MathJax_Main;">)</span><span class="mo" id="MathJax-Span-67119" style="font-family: MathJax_Main;">)</span><span class="mo" id="MathJax-Span-67120" style="font-family: MathJax_Main;">]</span></span><span style="display: inline-block; width: 0px; height: 2.678em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 3.029em; vertical-align: -1.804em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-5606">
\hat m_{c\to i}(x_i)^{new}=\max_{x_{c\setminus i}}[\log\phi_c(x_i, x_{c\setminus i})+\sum_{j\in c\setminus i}(\mu(x_j)-\hat m_{c\to j}(x_j))]</script><p></p><p>其中<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-5607-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-67121" style="width: 2.883em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.35em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.764em 1000em 3.092em -0.469em); top: -2.678em; left: 0em;"><span class="mrow" id="MathJax-Span-67122"><span class="mi" id="MathJax-Span-67123" style="font-family: MathJax_Math; font-style: italic;">μ</span><span class="mo" id="MathJax-Span-67124" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-67125"><span style="display: inline-block; position: relative; width: 0.949em; height: 0px;"><span style="position: absolute; clip: rect(1.853em 1000em 2.634em -0.457em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-67126" style="font-family: MathJax_Math; font-style: italic;">x</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.145em; left: 0.601em;"><span class="mi" id="MathJax-Span-67127" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">i</span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span></span><span class="mo" id="MathJax-Span-67128" style="font-family: MathJax_Main;">)</span></span><span style="display: inline-block; width: 0px; height: 2.678em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.353em; vertical-align: -0.372em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-5607">\mu(x_i)</script></span>是变量<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-5608-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-67129" style="width: 1.217em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.984em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.58em 1000em 2.508em -0.457em); top: -2.186em; left: 0em;"><span class="mrow" id="MathJax-Span-67130"><span class="msubsup" id="MathJax-Span-67131"><span style="display: inline-block; position: relative; width: 0.949em; height: 0px;"><span style="position: absolute; clip: rect(1.853em 1000em 2.634em -0.457em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-67132" style="font-family: MathJax_Math; font-style: italic;">x</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.145em; left: 0.601em;"><span class="mi" id="MathJax-Span-67133" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">i</span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.186em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.865em; vertical-align: -0.259em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-5608">x_i</script></span>的最大边缘估计：</p><p><span class="MathJax_Preview"></span></p><div class="MathJax_Display" role="textbox" aria-readonly="true" style="text-align: center;"><span class="MathJax" id="MathJax-Element-5609-Frame"><nobr><span class="math" id="MathJax-Span-67134" style="width: 11.417em; display: inline-block;"><span style="display: inline-block; position: relative; width: 9.344em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.564em 1000em 4.054em -0.469em); top: -2.678em; left: 0em;"><span class="mrow" id="MathJax-Span-67135"><span class="mi" id="MathJax-Span-67136" style="font-family: MathJax_Math; font-style: italic;">μ</span><span class="mo" id="MathJax-Span-67137" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-67138"><span style="display: inline-block; position: relative; width: 0.949em; height: 0px;"><span style="position: absolute; clip: rect(1.853em 1000em 2.634em -0.457em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-67139" style="font-family: MathJax_Math; font-style: italic;">x</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.145em; left: 0.601em;"><span class="mi" id="MathJax-Span-67140" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">i</span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span></span><span class="mo" id="MathJax-Span-67141" style="font-family: MathJax_Main;">)</span><span class="mo" id="MathJax-Span-67142" style="font-family: MathJax_Main; padding-left: 0.278em;">=</span><span class="munderover" id="MathJax-Span-67143" style="padding-left: 0.278em;"><span style="display: inline-block; position: relative; width: 1.53em; height: 0px;"><span style="position: absolute; clip: rect(2.657em 1000em 4.384em -0.437em); top: -3.77em; left: 0.027em;"><span class="mo" id="MathJax-Span-67144" style="font-family: MathJax_Size2; vertical-align: 0em;">∑</span><span style="display: inline-block; width: 0px; height: 3.77em;"></span></span><span style="position: absolute; clip: rect(1.718em 1000em 2.642em -0.468em); top: -1.266em; left: 0em;"><span class="texatom" id="MathJax-Span-67145"><span class="mrow" id="MathJax-Span-67146"><span class="mi" id="MathJax-Span-67147" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">c</span><span class="mo" id="MathJax-Span-67148" style="font-size: 70.7%; font-family: MathJax_Main;">:</span><span class="mi" id="MathJax-Span-67149" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">i</span><span class="mo" id="MathJax-Span-67150" style="font-size: 70.7%; font-family: MathJax_Main;">∈</span><span class="mi" id="MathJax-Span-67151" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">c</span></span></span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-67152" style="padding-left: 0.167em;"><span style="display: inline-block; position: relative; width: 2.261em; height: 0px;"><span style="position: absolute; clip: rect(3.084em 1000em 4.164em -0.471em); top: -3.989em; left: 0em;"><span class="texatom" id="MathJax-Span-67153"><span class="mrow" id="MathJax-Span-67154"><span class="munderover" id="MathJax-Span-67155"><span style="display: inline-block; position: relative; width: 0.929em; height: 0px;"><span style="position: absolute; clip: rect(1.853em 1000em 2.634em -0.471em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-67156" style="font-family: MathJax_Math; font-style: italic;">m</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; clip: rect(1.82em 1000em 2.311em -0.38em); top: -2.725em; left: 0.191em;"><span class="mo" id="MathJax-Span-67157" style="font-family: MathJax_Main;">^</span><span style="display: inline-block; width: 0px; height: 2.678em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.989em;"></span></span><span style="position: absolute; top: -2.2em; left: 0.929em;"><span class="texatom" id="MathJax-Span-67158"><span class="mrow" id="MathJax-Span-67159"><span class="mi" id="MathJax-Span-67160" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">c</span><span class="mo" id="MathJax-Span-67161" style="font-size: 70.7%; font-family: MathJax_Main;">→</span><span class="mi" id="MathJax-Span-67162" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">i</span></span></span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span></span></span><span class="mo" id="MathJax-Span-67163" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-67164"><span style="display: inline-block; position: relative; width: 0.949em; height: 0px;"><span style="position: absolute; clip: rect(1.853em 1000em 2.634em -0.457em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-67165" style="font-family: MathJax_Math; font-style: italic;">x</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.145em; left: 0.601em;"><span class="mi" id="MathJax-Span-67166" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">i</span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span></span><span class="mo" id="MathJax-Span-67167" style="font-family: MathJax_Main;">)</span></span><span style="display: inline-block; width: 0px; height: 2.678em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 2.771em; vertical-align: -1.546em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-5609">
\mu(x_i)=\sum_{c:i\in c}\hat m_{c\to i}(x_i)</script><p></p><p>MAP问题的近似解决方案是运行loopy最大乘积后设置</p><p><span class="MathJax_Preview"></span></p><div class="MathJax_Display" role="textbox" aria-readonly="true" style="text-align: center;"><span class="MathJax" id="MathJax-Element-5610-Frame"><nobr><span class="math" id="MathJax-Span-67168" style="width: 10.083em; display: inline-block;"><span style="display: inline-block; position: relative; width: 8.251em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.764em 1000em 3.664em -0.457em); top: -2.678em; left: 0em;"><span class="mrow" id="MathJax-Span-67169"><span class="msubsup" id="MathJax-Span-67170"><span style="display: inline-block; position: relative; width: 0.949em; height: 0px;"><span style="position: absolute; clip: rect(1.853em 1000em 2.634em -0.457em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-67171" style="font-family: MathJax_Math; font-style: italic;">x</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.145em; left: 0.601em;"><span class="mi" id="MathJax-Span-67172" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">i</span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span></span><span class="mo" id="MathJax-Span-67173" style="font-family: MathJax_Main; padding-left: 0.278em;">=</span><span class="mi" id="MathJax-Span-67174" style="font-family: MathJax_Main; padding-left: 0.278em;">arg</span><span class="mo" id="MathJax-Span-67175"></span><span class="munderover" id="MathJax-Span-67176" style="padding-left: 0.167em;"><span style="display: inline-block; position: relative; width: 1.913em; height: 0px;"><span style="position: absolute; clip: rect(2.066em 1000em 2.853em -0.467em); top: -2.678em; left: 0em;"><span class="mo" id="MathJax-Span-67177" style="font-family: MathJax_Main;">max</span><span style="display: inline-block; width: 0px; height: 2.678em;"></span></span><span style="position: absolute; clip: rect(3.513em 1000em 4.365em -0.467em); top: -3.378em; left: 0.602em;"><span class="texatom" id="MathJax-Span-67178"><span class="mrow" id="MathJax-Span-67179"><span class="msubsup" id="MathJax-Span-67180"><span style="display: inline-block; position: relative; width: 0.709em; height: 0px;"><span style="position: absolute; clip: rect(1.819em 1000em 2.467em -0.467em); top: -2.295em; left: 0em;"><span class="mi" id="MathJax-Span-67181" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">x</span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span><span style="position: absolute; top: -2.08em; left: 0.437em;"><span class="mi" id="MathJax-Span-67182" style="font-size: 50%; font-family: MathJax_Math; font-style: italic;">i</span><span style="display: inline-block; width: 0px; height: 2.186em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.989em;"></span></span></span></span><span class="mi" id="MathJax-Span-67183" style="font-family: MathJax_Math; font-style: italic; padding-left: 0.167em;">μ</span><span class="mo" id="MathJax-Span-67184" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-67185"><span style="display: inline-block; position: relative; width: 0.949em; height: 0px;"><span style="position: absolute; clip: rect(1.853em 1000em 2.634em -0.457em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-67186" style="font-family: MathJax_Math; font-style: italic;">x</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.145em; left: 0.601em;"><span class="mi" id="MathJax-Span-67187" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">i</span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span></span><span class="mo" id="MathJax-Span-67188" style="font-family: MathJax_Main;">)</span></span><span style="display: inline-block; width: 0px; height: 2.678em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 2.052em; vertical-align: -1.07em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-5610">
x_i=\arg\max_{x_i}\mu(x_i)</script><p></p><p>消息更新会一直运行直到收敛(loopy图中不能保证)或者迭代一定次数。该算法对消息的重正则化是不变的，在log-domain意味着可以对每个消息添加一个任意常亮而不改变最终的结果。模型中的离散变量有一个默认状态(pools为OFF,feature为0)，因此在传播期间，我们使用如下的正则化消息：</p><p><span class="MathJax_Preview"></span></p><div class="MathJax_Display" role="textbox" aria-readonly="true" style="text-align: center;"><span class="MathJax" id="MathJax-Element-5611-Frame"><nobr><span class="math" id="MathJax-Span-67189" style="width: 26.75em; display: inline-block;"><span style="display: inline-block; position: relative; width: 21.913em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.764em 1000em 3.092em -0.471em); top: -2.678em; left: 0em;"><span class="mrow" id="MathJax-Span-67190"><span class="msubsup" id="MathJax-Span-67191"><span style="display: inline-block; position: relative; width: 2.261em; height: 0px;"><span style="position: absolute; clip: rect(1.853em 1000em 2.634em -0.471em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-67192" style="font-family: MathJax_Math; font-style: italic;">m</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.2em; left: 0.929em;"><span class="texatom" id="MathJax-Span-67193"><span class="mrow" id="MathJax-Span-67194"><span class="mi" id="MathJax-Span-67195" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">c</span><span class="mo" id="MathJax-Span-67196" style="font-size: 70.7%; font-family: MathJax_Main;">→</span><span class="mi" id="MathJax-Span-67197" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">i</span></span></span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span></span></span><span class="mo" id="MathJax-Span-67198" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-67199"><span style="display: inline-block; position: relative; width: 0.949em; height: 0px;"><span style="position: absolute; clip: rect(1.853em 1000em 2.634em -0.457em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-67200" style="font-family: MathJax_Math; font-style: italic;">x</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.145em; left: 0.601em;"><span class="mi" id="MathJax-Span-67201" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">i</span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span></span><span class="mo" id="MathJax-Span-67202" style="font-family: MathJax_Main;">)</span><span class="mo" id="MathJax-Span-67203" style="font-family: MathJax_Main; padding-left: 0.278em;">=</span><span class="msubsup" id="MathJax-Span-67204" style="padding-left: 0.278em;"><span style="display: inline-block; position: relative; width: 2.261em; height: 0px;"><span style="position: absolute; clip: rect(3.084em 1000em 4.164em -0.471em); top: -3.989em; left: 0em;"><span class="texatom" id="MathJax-Span-67205"><span class="mrow" id="MathJax-Span-67206"><span class="munderover" id="MathJax-Span-67207"><span style="display: inline-block; position: relative; width: 0.929em; height: 0px;"><span style="position: absolute; clip: rect(1.853em 1000em 2.634em -0.471em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-67208" style="font-family: MathJax_Math; font-style: italic;">m</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; clip: rect(1.82em 1000em 2.311em -0.38em); top: -2.725em; left: 0.191em;"><span class="mo" id="MathJax-Span-67209" style="font-family: MathJax_Main;">^</span><span style="display: inline-block; width: 0px; height: 2.678em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.989em;"></span></span><span style="position: absolute; top: -2.2em; left: 0.929em;"><span class="texatom" id="MathJax-Span-67210"><span class="mrow" id="MathJax-Span-67211"><span class="mi" id="MathJax-Span-67212" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">c</span><span class="mo" id="MathJax-Span-67213" style="font-size: 70.7%; font-family: MathJax_Main;">→</span><span class="mi" id="MathJax-Span-67214" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">i</span></span></span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span></span></span><span class="mo" id="MathJax-Span-67215" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-67216"><span style="display: inline-block; position: relative; width: 0.949em; height: 0px;"><span style="position: absolute; clip: rect(1.853em 1000em 2.634em -0.457em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-67217" style="font-family: MathJax_Math; font-style: italic;">x</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.145em; left: 0.601em;"><span class="mi" id="MathJax-Span-67218" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">i</span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span></span><span class="mo" id="MathJax-Span-67219" style="font-family: MathJax_Main;">)</span><span class="mo" id="MathJax-Span-67220" style="font-family: MathJax_Main; padding-left: 0.222em;">−</span><span class="msubsup" id="MathJax-Span-67221" style="padding-left: 0.222em;"><span style="display: inline-block; position: relative; width: 2.261em; height: 0px;"><span style="position: absolute; clip: rect(3.084em 1000em 4.164em -0.471em); top: -3.989em; left: 0em;"><span class="texatom" id="MathJax-Span-67222"><span class="mrow" id="MathJax-Span-67223"><span class="munderover" id="MathJax-Span-67224"><span style="display: inline-block; position: relative; width: 0.929em; height: 0px;"><span style="position: absolute; clip: rect(1.853em 1000em 2.634em -0.471em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-67225" style="font-family: MathJax_Math; font-style: italic;">m</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; clip: rect(1.82em 1000em 2.311em -0.38em); top: -2.725em; left: 0.191em;"><span class="mo" id="MathJax-Span-67226" style="font-family: MathJax_Main;">^</span><span style="display: inline-block; width: 0px; height: 2.678em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.989em;"></span></span><span style="position: absolute; top: -2.2em; left: 0.929em;"><span class="texatom" id="MathJax-Span-67227"><span class="mrow" id="MathJax-Span-67228"><span class="mi" id="MathJax-Span-67229" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">c</span><span class="mo" id="MathJax-Span-67230" style="font-size: 70.7%; font-family: MathJax_Main;">→</span><span class="mi" id="MathJax-Span-67231" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">i</span></span></span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span></span></span><span class="mo" id="MathJax-Span-67232" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-67233"><span style="display: inline-block; position: relative; width: 0.949em; height: 0px;"><span style="position: absolute; clip: rect(1.853em 1000em 2.634em -0.457em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-67234" style="font-family: MathJax_Math; font-style: italic;">x</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.145em; left: 0.601em;"><span class="mi" id="MathJax-Span-67235" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">i</span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span></span><span class="mo" id="MathJax-Span-67236" style="font-family: MathJax_Main; padding-left: 0.278em;">=</span><span class="mi" id="MathJax-Span-67237" style="font-family: MathJax_Math; font-style: italic; padding-left: 0.278em;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-67238" style="font-family: MathJax_Math; font-style: italic;">e</span><span class="mi" id="MathJax-Span-67239" style="font-family: MathJax_Math; font-style: italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.06em;"></span></span><span class="mi" id="MathJax-Span-67240" style="font-family: MathJax_Math; font-style: italic;">a</span><span class="mi" id="MathJax-Span-67241" style="font-family: MathJax_Math; font-style: italic;">u</span><span class="mi" id="MathJax-Span-67242" style="font-family: MathJax_Math; font-style: italic;">l</span><span class="mi" id="MathJax-Span-67243" style="font-family: MathJax_Math; font-style: italic;">t</span><span class="mspace" id="MathJax-Span-67244" style="height: 0em; vertical-align: 0em; width: 0.413em; display: inline-block; overflow: hidden;"></span><span class="mi" id="MathJax-Span-67245" style="font-family: MathJax_Math; font-style: italic;">v</span><span class="mi" id="MathJax-Span-67246" style="font-family: MathJax_Math; font-style: italic;">a</span><span class="mi" id="MathJax-Span-67247" style="font-family: MathJax_Math; font-style: italic;">l</span><span class="mi" id="MathJax-Span-67248" style="font-family: MathJax_Math; font-style: italic;">u</span><span class="mi" id="MathJax-Span-67249" style="font-family: MathJax_Math; font-style: italic;">e</span><span class="mo" id="MathJax-Span-67250" style="font-family: MathJax_Main;">)</span></span><span style="display: inline-block; width: 0px; height: 2.678em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.353em; vertical-align: -0.372em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-5611">
m_{c\to i}(x_i)=\hat m_{c\to i}(x_i)-\hat m_{c\to i}(x_i=default\hspace{0.2cm}value)</script><p></p><p>这允许更紧凑的消息编码。例如在二值变量的情况下，需要单一的标量<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-5612-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-67251" style="width: 6.683em; display: inline-block;"><span style="display: inline-block; position: relative; width: 5.464em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.764em 1000em 3.092em -0.471em); top: -2.678em; left: 0em;"><span class="mrow" id="MathJax-Span-67252"><span class="msubsup" id="MathJax-Span-67253"><span style="display: inline-block; position: relative; width: 2.261em; height: 0px;"><span style="position: absolute; clip: rect(1.853em 1000em 2.634em -0.471em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-67254" style="font-family: MathJax_Math; font-style: italic;">m</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.2em; left: 0.929em;"><span class="texatom" id="MathJax-Span-67255"><span class="mrow" id="MathJax-Span-67256"><span class="mi" id="MathJax-Span-67257" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">c</span><span class="mo" id="MathJax-Span-67258" style="font-size: 70.7%; font-family: MathJax_Main;">→</span><span class="mi" id="MathJax-Span-67259" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">i</span></span></span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span></span></span><span class="mo" id="MathJax-Span-67260" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-67261"><span style="display: inline-block; position: relative; width: 0.949em; height: 0px;"><span style="position: absolute; clip: rect(1.853em 1000em 2.634em -0.457em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-67262" style="font-family: MathJax_Math; font-style: italic;">x</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.145em; left: 0.601em;"><span class="mi" id="MathJax-Span-67263" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">i</span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span></span><span class="mo" id="MathJax-Span-67264" style="font-family: MathJax_Main; padding-left: 0.278em;">=</span><span class="mn" id="MathJax-Span-67265" style="font-family: MathJax_Main; padding-left: 0.278em;">1</span></span><span style="display: inline-block; width: 0px; height: 2.678em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.353em; vertical-align: -0.372em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-5612">m_{c\to i}(x_i=1</script></span>(因为<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-5613-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-67266" style="width: 9.35em; display: inline-block;"><span style="display: inline-block; position: relative; width: 7.65em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.764em 1000em 3.092em -0.471em); top: -2.678em; left: 0em;"><span class="mrow" id="MathJax-Span-67267"><span class="msubsup" id="MathJax-Span-67268"><span style="display: inline-block; position: relative; width: 2.261em; height: 0px;"><span style="position: absolute; clip: rect(1.853em 1000em 2.634em -0.471em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-67269" style="font-family: MathJax_Math; font-style: italic;">m</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.2em; left: 0.929em;"><span class="texatom" id="MathJax-Span-67270"><span class="mrow" id="MathJax-Span-67271"><span class="mi" id="MathJax-Span-67272" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">c</span><span class="mo" id="MathJax-Span-67273" style="font-size: 70.7%; font-family: MathJax_Main;">→</span><span class="mi" id="MathJax-Span-67274" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">i</span></span></span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span></span></span><span class="mo" id="MathJax-Span-67275" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-67276"><span style="display: inline-block; position: relative; width: 0.949em; height: 0px;"><span style="position: absolute; clip: rect(1.853em 1000em 2.634em -0.457em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-67277" style="font-family: MathJax_Math; font-style: italic;">x</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.145em; left: 0.601em;"><span class="mi" id="MathJax-Span-67278" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">i</span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span></span><span class="mo" id="MathJax-Span-67279" style="font-family: MathJax_Main; padding-left: 0.278em;">=</span><span class="mn" id="MathJax-Span-67280" style="font-family: MathJax_Main; padding-left: 0.278em;">0</span><span class="mo" id="MathJax-Span-67281" style="font-family: MathJax_Main;">)</span><span class="mo" id="MathJax-Span-67282" style="font-family: MathJax_Main; padding-left: 0.278em;">=</span><span class="mn" id="MathJax-Span-67283" style="font-family: MathJax_Main; padding-left: 0.278em;">0</span></span><span style="display: inline-block; width: 0px; height: 2.678em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.353em; vertical-align: -0.372em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-5613">m_{c\to i}(x_i=0)=0</script></span>)</p><p>例如：两个二元变量<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-5614-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-67284" style="width: 1.883em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.53em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(2.072em 1000em 3.047em -0.457em); top: -2.678em; left: 0em;"><span class="mrow" id="MathJax-Span-67285"><span class="mi" id="MathJax-Span-67286" style="font-family: MathJax_Math; font-style: italic;">x</span><span class="mo" id="MathJax-Span-67287" style="font-family: MathJax_Main;">,</span><span class="mi" id="MathJax-Span-67288" style="font-family: MathJax_Math; font-style: italic; padding-left: 0.167em;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.006em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.678em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.923em; vertical-align: -0.317em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-5614">x, y</script></span>，<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-5615-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-67289" style="width: 13.683em; display: inline-block;"><span style="display: inline-block; position: relative; width: 11.202em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.764em 1000em 3.092em -0.531em); top: -2.678em; left: 0em;"><span class="mrow" id="MathJax-Span-67290"><span class="mi" id="MathJax-Span-67291" style="font-family: MathJax_Math; font-style: italic;">p</span><span class="mo" id="MathJax-Span-67292" style="font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-67293" style="font-family: MathJax_Math; font-style: italic;">x</span><span class="mo" id="MathJax-Span-67294" style="font-family: MathJax_Main; padding-left: 0.278em;">=</span><span class="mn" id="MathJax-Span-67295" style="font-family: MathJax_Main; padding-left: 0.278em;">1</span><span class="mo" id="MathJax-Span-67296" style="font-family: MathJax_Main;">)</span><span class="mo" id="MathJax-Span-67297" style="font-family: MathJax_Main; padding-left: 0.278em;">=</span><span class="mi" id="MathJax-Span-67298" style="font-family: MathJax_Math; font-style: italic; padding-left: 0.278em;">p</span><span class="mo" id="MathJax-Span-67299" style="font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-67300" style="font-family: MathJax_Math; font-style: italic;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.006em;"></span></span><span class="mo" id="MathJax-Span-67301" style="font-family: MathJax_Main; padding-left: 0.278em;">=</span><span class="mn" id="MathJax-Span-67302" style="font-family: MathJax_Main; padding-left: 0.278em;">1</span><span class="mo" id="MathJax-Span-67303" style="font-family: MathJax_Main;">)</span><span class="mo" id="MathJax-Span-67304" style="font-family: MathJax_Main; padding-left: 0.278em;">=</span><span class="mn" id="MathJax-Span-67305" style="font-family: MathJax_Main; padding-left: 0.278em;">0.5</span></span><span style="display: inline-block; width: 0px; height: 2.678em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.353em; vertical-align: -0.372em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-5615">p(x=1)=p(y=1)=0.5</script></span>，如果<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-5616-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-67306" style="width: 5.083em; display: inline-block;"><span style="display: inline-block; position: relative; width: 4.153em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.848em 1000em 3.047em -0.457em); top: -2.678em; left: 0em;"><span class="mrow" id="MathJax-Span-67307"><span class="mi" id="MathJax-Span-67308" style="font-family: MathJax_Math; font-style: italic;">x</span><span class="mo" id="MathJax-Span-67309" style="font-family: MathJax_Main; padding-left: 0.222em;">+</span><span class="mi" id="MathJax-Span-67310" style="font-family: MathJax_Math; font-style: italic; padding-left: 0.222em;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.006em;"></span></span><span class="mo" id="MathJax-Span-67311" style="font-family: MathJax_Main; padding-left: 0.278em;">=</span><span class="mn" id="MathJax-Span-67312" style="font-family: MathJax_Main; padding-left: 0.278em;">1</span></span><span style="display: inline-block; width: 0px; height: 2.678em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.196em; vertical-align: -0.317em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-5616">x+y=1</script></span>，则边际后验概率<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-5617-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-67313" style="width: 19.95em; display: inline-block;"><span style="display: inline-block; position: relative; width: 16.339em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.764em 1000em 3.092em -0.531em); top: -2.678em; left: 0em;"><span class="mrow" id="MathJax-Span-67314"><span class="mi" id="MathJax-Span-67315" style="font-family: MathJax_Math; font-style: italic;">p</span><span class="mo" id="MathJax-Span-67316" style="font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-67317" style="font-family: MathJax_Math; font-style: italic;">x</span><span class="texatom" id="MathJax-Span-67318"><span class="mrow" id="MathJax-Span-67319"><span class="mo" id="MathJax-Span-67320" style="font-family: MathJax_Main;">|</span></span></span><span class="mi" id="MathJax-Span-67321" style="font-family: MathJax_Math; font-style: italic;">x</span><span class="mo" id="MathJax-Span-67322" style="font-family: MathJax_Main; padding-left: 0.222em;">+</span><span class="mi" id="MathJax-Span-67323" style="font-family: MathJax_Math; font-style: italic; padding-left: 0.222em;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.006em;"></span></span><span class="mo" id="MathJax-Span-67324" style="font-family: MathJax_Main; padding-left: 0.278em;">=</span><span class="mn" id="MathJax-Span-67325" style="font-family: MathJax_Main; padding-left: 0.278em;">1</span><span class="mo" id="MathJax-Span-67326" style="font-family: MathJax_Main;">)</span><span class="mo" id="MathJax-Span-67327" style="font-family: MathJax_Main; padding-left: 0.278em;">=</span><span class="mi" id="MathJax-Span-67328" style="font-family: MathJax_Math; font-style: italic; padding-left: 0.278em;">p</span><span class="mo" id="MathJax-Span-67329" style="font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-67330" style="font-family: MathJax_Math; font-style: italic;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.006em;"></span></span><span class="texatom" id="MathJax-Span-67331"><span class="mrow" id="MathJax-Span-67332"><span class="mo" id="MathJax-Span-67333" style="font-family: MathJax_Main;">|</span></span></span><span class="mi" id="MathJax-Span-67334" style="font-family: MathJax_Math; font-style: italic;">x</span><span class="mo" id="MathJax-Span-67335" style="font-family: MathJax_Main; padding-left: 0.222em;">+</span><span class="mi" id="MathJax-Span-67336" style="font-family: MathJax_Math; font-style: italic; padding-left: 0.222em;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.006em;"></span></span><span class="mo" id="MathJax-Span-67337" style="font-family: MathJax_Main; padding-left: 0.278em;">=</span><span class="mn" id="MathJax-Span-67338" style="font-family: MathJax_Main; padding-left: 0.278em;">1</span><span class="mo" id="MathJax-Span-67339" style="font-family: MathJax_Main;">)</span><span class="mo" id="MathJax-Span-67340" style="font-family: MathJax_Main; padding-left: 0.278em;">=</span><span class="mn" id="MathJax-Span-67341" style="font-family: MathJax_Main; padding-left: 0.278em;">0.5</span></span><span style="display: inline-block; width: 0px; height: 2.678em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.353em; vertical-align: -0.372em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-5617">p(x|x+y=1)=p(y|x+y=1)=0.5</script></span>。使用这个作为分解后验近似在不可能的配置x = 1，y = 1上放置一个显着的后验概率0.25。</p><h3 id="1.2-forward-pass"><a name="1.2-forward-pass" href="#1.2-forward-pass"></a>1.2 forward pass</h3><p>在这个过程当中，我们从图像开始，向顶层的top pool(H(C))不断计算，并执行最大乘积更新策略。一个变量可以连接多个因子。来自下面层的所有汇总消息被称为该变量的”自上而下”消息。同样的，自上而下的消息来自于连接该变量的上面一层的所有factor。模型的forward pass从下到上每次改变一层的值，并且将所有自底向上的消息并行地更新为每层的变量。自顶向下的消息被初始化为<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-5618-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-67342" style="width: 2.217em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.803em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(2.072em 1000em 2.853em -0.408em); top: -2.678em; left: 0em;"><span class="mrow" id="MathJax-Span-67343"><span class="mo" id="MathJax-Span-67344" style="font-family: MathJax_Main;">−</span><span class="mi" id="MathJax-Span-67345" style="font-family: MathJax_Main;">∞</span></span><span style="display: inline-block; width: 0px; height: 2.678em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.686em; vertical-align: -0.08em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-5618">-\infty</script></span></p><p>我们针对forward pass试验了不同的变量，发现在大多数情况下lateral connection会增加计算成本，但是对最终结果不会造成太大影响。所以我们运行的时候不考虑lateral connection。</p><h4 id="1.2.1-preprocessing-layer"><a name="1.2.1-preprocessing-layer" href="#1.2.1-preprocessing-layer"></a>1.2.1 preprocessing layer</h4><p>预处理层将观察到的自然图像<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-5619-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-67346" style="width: 1.083em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.874em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.612em 1000em 2.623em -0.466em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-67347"><span class="mi" id="MathJax-Span-67348" style="font-family: MathJax_Math; font-style: italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.024em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.967em; vertical-align: -0.067em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-5619">X</script></span>和离散层<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-5620-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-67349" style="width: 2.283em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.858em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.085em 1000em 2.35em -0.461em); top: -2.186em; left: 0em;"><span class="mrow" id="MathJax-Span-67350"><span class="msubsup" id="MathJax-Span-67351"><span style="display: inline-block; position: relative; width: 1.851em; height: 0px;"><span style="position: absolute; clip: rect(1.615em 1000em 2.623em -0.461em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-67352" style="font-family: MathJax_Math; font-style: italic;">F<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.106em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.757em; left: 0.847em;"><span class="texatom" id="MathJax-Span-67353"><span class="mrow" id="MathJax-Span-67354"><span class="mo" id="MathJax-Span-67355" style="font-size: 70.7%; font-family: MathJax_Main;">(</span><span class="mn" id="MathJax-Span-67356" style="font-size: 70.7%; font-family: MathJax_Main;">1</span><span class="mo" id="MathJax-Span-67357" style="font-size: 70.7%; font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.186em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.277em; vertical-align: -0.067em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-5620">F^{(1)}</script></span>对接起来，近似画布层<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-5621-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-67358" style="width: 0.95em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.765em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.612em 1000em 2.622em -0.462em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-67359"><span class="mi" id="MathJax-Span-67360" style="font-family: MathJax_Math; font-style: italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.182em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.965em; vertical-align: -0.065em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-5621">Y</script></span>的效果。</p><p>预处理层的输出是一个自下而上的消息，这些消息会作为<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-5622-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-67361" style="width: 2.283em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.858em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.085em 1000em 2.35em -0.461em); top: -2.186em; left: 0em;"><span class="mrow" id="MathJax-Span-67362"><span class="msubsup" id="MathJax-Span-67363"><span style="display: inline-block; position: relative; width: 1.851em; height: 0px;"><span style="position: absolute; clip: rect(1.615em 1000em 2.623em -0.461em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-67364" style="font-family: MathJax_Math; font-style: italic;">F<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.106em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.757em; left: 0.847em;"><span class="texatom" id="MathJax-Span-67365"><span class="mrow" id="MathJax-Span-67366"><span class="mo" id="MathJax-Span-67367" style="font-size: 70.7%; font-family: MathJax_Main;">(</span><span class="mn" id="MathJax-Span-67368" style="font-size: 70.7%; font-family: MathJax_Main;">1</span><span class="mo" id="MathJax-Span-67369" style="font-size: 70.7%; font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.186em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.277em; vertical-align: -0.067em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-5622">F^{(1)}</script></span>的自下而上的输入。根据最大乘积规则和自上而下的消息初始化原则，自下而上的消息应该为：</p><p><span class="MathJax_Preview"></span></p><div class="MathJax_Display" role="textbox" aria-readonly="true"><span class="MathJax" id="MathJax-Element-5623-Frame"><nobr><span class="math" id="MathJax-Span-67370" style="width: 100%; display: inline-block; min-width: 35.217em;"><span style="display: inline-block; position: relative; width: 100%; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(3.211em 1000em 6.974em -0.531em); top: -4.426em; left: 0em; width: 100%;"><span class="mrow" id="MathJax-Span-67371"><span style="display: inline-block; position: relative; width: 100%; height: 0px;"><span style="position: absolute; clip: rect(2.774em 1000em 4.913em -0.471em); top: -3.989em; left: 50%; margin-left: -14.426em;"><span class="msubsup" id="MathJax-Span-67372"><span style="display: inline-block; position: relative; width: 1.714em; height: 0px;"><span style="position: absolute; clip: rect(1.853em 1000em 2.634em -0.471em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-67373" style="font-family: MathJax_Math; font-style: italic;">m</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.145em; left: 0.929em;"><span class="texatom" id="MathJax-Span-67374"><span class="mrow" id="MathJax-Span-67375"><span class="mi" id="MathJax-Span-67376" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">b</span><span class="mi" id="MathJax-Span-67377" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">u</span></span></span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span></span><span class="mo" id="MathJax-Span-67378" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-67379"><span style="display: inline-block; position: relative; width: 1.851em; height: 0px;"><span style="position: absolute; clip: rect(1.615em 1000em 2.623em -0.461em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-67380" style="font-family: MathJax_Math; font-style: italic;">F<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.106em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; clip: rect(1.655em 1000em 2.69em -0.425em); top: -2.871em; left: 0.847em;"><span class="texatom" id="MathJax-Span-67381"><span class="mrow" id="MathJax-Span-67382"><span class="mo" id="MathJax-Span-67383" style="font-size: 70.7%; font-family: MathJax_Main;">(</span><span class="mn" id="MathJax-Span-67384" style="font-size: 70.7%; font-family: MathJax_Main;">1</span><span class="mo" id="MathJax-Span-67385" style="font-size: 70.7%; font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span><span style="position: absolute; clip: rect(1.633em 1000em 2.604em -0.453em); top: -1.961em; left: 0.659em;"><span class="texatom" id="MathJax-Span-67386"><span class="mrow" id="MathJax-Span-67387"><span class="mi" id="MathJax-Span-67388" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.042em;"></span></span><span class="mi" id="MathJax-Span-67389" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">r</span><span class="mi" id="MathJax-Span-67390" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">c</span></span></span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span></span><span class="mo" id="MathJax-Span-67391" style="font-family: MathJax_Main;">)</span><span class="mo" id="MathJax-Span-67392" style="font-family: MathJax_Main; padding-left: 0.278em;">=</span><span class="munderover" id="MathJax-Span-67393" style="padding-left: 0.278em;"><span style="display: inline-block; position: relative; width: 1.913em; height: 0px;"><span style="position: absolute; clip: rect(2.066em 1000em 2.853em -0.467em); top: -2.678em; left: 0em;"><span class="mo" id="MathJax-Span-67394" style="font-family: MathJax_Main;">max</span><span style="display: inline-block; width: 0px; height: 2.678em;"></span></span><span style="position: absolute; clip: rect(1.648em 1000em 2.558em -0.471em); top: -1.634em; left: 0.683em;"><span class="mi" id="MathJax-Span-67395" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.129em;"></span></span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span></span><span class="mi" id="MathJax-Span-67396" style="font-family: MathJax_Main; padding-left: 0.167em;">log</span><span class="mo" id="MathJax-Span-67397"></span><span class="mi" id="MathJax-Span-67398" style="font-family: MathJax_Math; font-style: italic; padding-left: 0.167em;">p</span><span class="mo" id="MathJax-Span-67399" style="font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-67400" style="font-family: MathJax_Math; font-style: italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.024em;"></span></span><span class="mo" id="MathJax-Span-67401" style="font-family: MathJax_Main;">,</span><span class="mi" id="MathJax-Span-67402" style="font-family: MathJax_Math; font-style: italic; padding-left: 0.167em;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.182em;"></span></span><span class="texatom" id="MathJax-Span-67403"><span class="mrow" id="MathJax-Span-67404"><span class="mo" id="MathJax-Span-67405" style="font-family: MathJax_Main;">|</span></span></span><span class="msubsup" id="MathJax-Span-67406"><span style="display: inline-block; position: relative; width: 1.772em; height: 0px;"><span style="position: absolute; clip: rect(1.615em 1000em 2.623em -0.461em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-67407" style="font-family: MathJax_Math; font-style: italic;">F<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.106em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; clip: rect(1.655em 1000em 2.69em -0.425em); top: -2.871em; left: 0.847em;"><span class="texatom" id="MathJax-Span-67408"><span class="mrow" id="MathJax-Span-67409"><span class="mo" id="MathJax-Span-67410" style="font-size: 70.7%; font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-67411" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">l</span><span class="mo" id="MathJax-Span-67412" style="font-size: 70.7%; font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span><span style="position: absolute; clip: rect(1.633em 1000em 2.604em -0.453em); top: -1.961em; left: 0.659em;"><span class="texatom" id="MathJax-Span-67413"><span class="mrow" id="MathJax-Span-67414"><span class="mi" id="MathJax-Span-67415" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.042em;"></span></span><span class="mi" id="MathJax-Span-67416" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">r</span><span class="mi" id="MathJax-Span-67417" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">c</span></span></span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span></span><span class="mo" id="MathJax-Span-67418" style="font-family: MathJax_Main; padding-left: 0.278em;">=</span><span class="mn" id="MathJax-Span-67419" style="font-family: MathJax_Main; padding-left: 0.278em;">1</span><span class="mo" id="MathJax-Span-67420" style="font-family: MathJax_Main;">,</span><span class="mo" id="MathJax-Span-67421" style="font-family: MathJax_Main; padding-left: 0.167em;">{</span><span class="msubsup" id="MathJax-Span-67422"><span style="display: inline-block; position: relative; width: 1.851em; height: 0px;"><span style="position: absolute; clip: rect(1.615em 1000em 2.623em -0.461em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-67423" style="font-family: MathJax_Math; font-style: italic;">F<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.106em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.763em; left: 0.847em;"><span class="texatom" id="MathJax-Span-67424"><span class="mrow" id="MathJax-Span-67425"><span class="mo" id="MathJax-Span-67426" style="font-size: 70.7%; font-family: MathJax_Main;">(</span><span class="mn" id="MathJax-Span-67427" style="font-size: 70.7%; font-family: MathJax_Main;">1</span><span class="mo" id="MathJax-Span-67428" style="font-size: 70.7%; font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span></span></span><span class="mo" id="MathJax-Span-67429" style="font-family: MathJax_Main; padding-left: 0.222em;">∖</span><span class="msubsup" id="MathJax-Span-67430" style="padding-left: 0.222em;"><span style="display: inline-block; position: relative; width: 1.772em; height: 0px;"><span style="position: absolute; clip: rect(1.615em 1000em 2.623em -0.461em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-67431" style="font-family: MathJax_Math; font-style: italic;">F<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.106em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; clip: rect(1.655em 1000em 2.69em -0.425em); top: -2.871em; left: 0.847em;"><span class="texatom" id="MathJax-Span-67432"><span class="mrow" id="MathJax-Span-67433"><span class="mo" id="MathJax-Span-67434" style="font-size: 70.7%; font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-67435" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">l</span><span class="mo" id="MathJax-Span-67436" style="font-size: 70.7%; font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span><span style="position: absolute; clip: rect(1.633em 1000em 2.604em -0.453em); top: -1.961em; left: 0.659em;"><span class="texatom" id="MathJax-Span-67437"><span class="mrow" id="MathJax-Span-67438"><span class="mi" id="MathJax-Span-67439" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.042em;"></span></span><span class="mi" id="MathJax-Span-67440" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">r</span><span class="mi" id="MathJax-Span-67441" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">c</span></span></span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span></span><span class="mo" id="MathJax-Span-67442" style="font-family: MathJax_Main;">}</span><span class="mo" id="MathJax-Span-67443" style="font-family: MathJax_Main; padding-left: 0.278em;">=</span><span class="mn" id="MathJax-Span-67444" style="font-family: MathJax_Main; padding-left: 0.278em;">0</span><span class="mo" id="MathJax-Span-67445" style="font-family: MathJax_Main;">)</span><span class="mo" id="MathJax-Span-67446" style="font-family: MathJax_Main; padding-left: 0.222em;">−</span><span class="munderover" id="MathJax-Span-67447" style="padding-left: 0.222em;"><span style="display: inline-block; position: relative; width: 1.913em; height: 0px;"><span style="position: absolute; clip: rect(2.066em 1000em 2.853em -0.467em); top: -2.678em; left: 0em;"><span class="mo" id="MathJax-Span-67448" style="font-family: MathJax_Main;">max</span><span style="display: inline-block; width: 0px; height: 2.678em;"></span></span><span style="position: absolute; clip: rect(1.648em 1000em 2.558em -0.471em); top: -1.634em; left: 0.683em;"><span class="mi" id="MathJax-Span-67449" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.129em;"></span></span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span></span><span class="mi" id="MathJax-Span-67450" style="font-family: MathJax_Main; padding-left: 0.167em;">log</span><span style="display: inline-block; width: 0px; height: 3.989em;"></span></span><span style="position: absolute; clip: rect(2.882em 1000em 4.403em -0.531em); top: -1.855em; left: 50%; margin-left: -3.57em;"><span class="mo" id="MathJax-Span-67451"></span><span class="mi" id="MathJax-Span-67452" style="font-family: MathJax_Math; font-style: italic;">p</span><span class="mo" id="MathJax-Span-67453" style="font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-67454" style="font-family: MathJax_Math; font-style: italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.024em;"></span></span><span class="mo" id="MathJax-Span-67455" style="font-family: MathJax_Main;">,</span><span class="mi" id="MathJax-Span-67456" style="font-family: MathJax_Math; font-style: italic; padding-left: 0.167em;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.182em;"></span></span><span class="texatom" id="MathJax-Span-67457"><span class="mrow" id="MathJax-Span-67458"><span class="mo" id="MathJax-Span-67459" style="font-family: MathJax_Main;">|</span></span></span><span class="msubsup" id="MathJax-Span-67460"><span style="display: inline-block; position: relative; width: 1.687em; height: 0px;"><span style="position: absolute; clip: rect(1.615em 1000em 2.623em -0.461em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-67461" style="font-family: MathJax_Math; font-style: italic;">F<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.106em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.763em; left: 0.847em;"><span class="texatom" id="MathJax-Span-67462"><span class="mrow" id="MathJax-Span-67463"><span class="mo" id="MathJax-Span-67464" style="font-size: 70.7%; font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-67465" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">l</span><span class="mo" id="MathJax-Span-67466" style="font-size: 70.7%; font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span></span></span><span class="mo" id="MathJax-Span-67467" style="font-family: MathJax_Main; padding-left: 0.278em;">=</span><span class="mn" id="MathJax-Span-67468" style="font-family: MathJax_Main; padding-left: 0.278em;">0</span><span class="mo" id="MathJax-Span-67469" style="font-family: MathJax_Main;">)</span><span style="display: inline-block; width: 0px; height: 3.989em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.426em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 4.324em; vertical-align: -2.975em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-5623">
m_{bu}(F_{frc}^{(1)})=\max_Y\log p(X,Y|F_{frc}^{(l)}=1, \{F^{(1)}\setminus F_{frc}^{(l)}\}=0)-\max_Y\log p(X,Y|F^{(l)}=0)</script><p></p><p><span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-5624-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-67470" style="width: 6.95em; display: inline-block;"><span style="display: inline-block; position: relative; width: 5.683em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.462em 1000em 3.321em -0.427em); top: -2.678em; left: 0em;"><span class="mrow" id="MathJax-Span-67471"><span class="mo" id="MathJax-Span-67472" style="font-family: MathJax_Main;">{</span><span class="msubsup" id="MathJax-Span-67473"><span style="display: inline-block; position: relative; width: 1.851em; height: 0px;"><span style="position: absolute; clip: rect(1.615em 1000em 2.623em -0.461em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-67474" style="font-family: MathJax_Math; font-style: italic;">F<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.106em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.757em; left: 0.847em;"><span class="texatom" id="MathJax-Span-67475"><span class="mrow" id="MathJax-Span-67476"><span class="mo" id="MathJax-Span-67477" style="font-size: 70.7%; font-family: MathJax_Main;">(</span><span class="mn" id="MathJax-Span-67478" style="font-size: 70.7%; font-family: MathJax_Main;">1</span><span class="mo" id="MathJax-Span-67479" style="font-size: 70.7%; font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span></span></span><span class="mo" id="MathJax-Span-67480" style="font-family: MathJax_Main; padding-left: 0.222em;">∖</span><span class="msubsup" id="MathJax-Span-67481" style="padding-left: 0.222em;"><span style="display: inline-block; position: relative; width: 1.851em; height: 0px;"><span style="position: absolute; clip: rect(1.615em 1000em 2.623em -0.461em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-67482" style="font-family: MathJax_Math; font-style: italic;">F<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.106em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; clip: rect(1.655em 1000em 2.69em -0.425em); top: -2.871em; left: 0.847em;"><span class="texatom" id="MathJax-Span-67483"><span class="mrow" id="MathJax-Span-67484"><span class="mo" id="MathJax-Span-67485" style="font-size: 70.7%; font-family: MathJax_Main;">(</span><span class="mn" id="MathJax-Span-67486" style="font-size: 70.7%; font-family: MathJax_Main;">1</span><span class="mo" id="MathJax-Span-67487" style="font-size: 70.7%; font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span><span style="position: absolute; clip: rect(1.633em 1000em 2.604em -0.453em); top: -1.961em; left: 0.659em;"><span class="texatom" id="MathJax-Span-67488"><span class="mrow" id="MathJax-Span-67489"><span class="mi" id="MathJax-Span-67490" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.042em;"></span></span><span class="mi" id="MathJax-Span-67491" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">r</span><span class="mi" id="MathJax-Span-67492" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">c</span></span></span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span></span><span class="mo" id="MathJax-Span-67493" style="font-family: MathJax_Main;">}</span></span><span style="display: inline-block; width: 0px; height: 2.678em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 2.001em; vertical-align: -0.651em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-5624">\{F^{(1)}\setminus F_{frc}^{(1)}\}</script></span>是第一层中除了<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-5625-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-67494" style="width: 2.283em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.858em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(0.97em 1000em 2.829em -0.461em); top: -2.186em; left: 0em;"><span class="mrow" id="MathJax-Span-67495"><span class="msubsup" id="MathJax-Span-67496"><span style="display: inline-block; position: relative; width: 1.851em; height: 0px;"><span style="position: absolute; clip: rect(1.615em 1000em 2.623em -0.461em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-67497" style="font-family: MathJax_Math; font-style: italic;">F<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.106em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; clip: rect(1.655em 1000em 2.69em -0.425em); top: -2.871em; left: 0.847em;"><span class="texatom" id="MathJax-Span-67498"><span class="mrow" id="MathJax-Span-67499"><span class="mo" id="MathJax-Span-67500" style="font-size: 70.7%; font-family: MathJax_Main;">(</span><span class="mn" id="MathJax-Span-67501" style="font-size: 70.7%; font-family: MathJax_Main;">1</span><span class="mo" id="MathJax-Span-67502" style="font-size: 70.7%; font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span><span style="position: absolute; clip: rect(1.633em 1000em 2.604em -0.453em); top: -1.961em; left: 0.659em;"><span class="texatom" id="MathJax-Span-67503"><span class="mrow" id="MathJax-Span-67504"><span class="mi" id="MathJax-Span-67505" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.042em;"></span></span><span class="mi" id="MathJax-Span-67506" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">r</span><span class="mi" id="MathJax-Span-67507" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">c</span></span></span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.186em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 2.001em; vertical-align: -0.651em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-5625">F_{frc}^{(1)}</script></span>的变量。这对应着当画布<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-5626-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-67508" style="width: 0.95em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.765em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.612em 1000em 2.622em -0.462em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-67509"><span class="mi" id="MathJax-Span-67510" style="font-family: MathJax_Math; font-style: italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.182em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.965em; vertical-align: -0.065em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-5626">Y</script></span>和图像<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-5627-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-67511" style="width: 1.083em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.874em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.612em 1000em 2.623em -0.466em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-67512"><span class="mi" id="MathJax-Span-67513" style="font-family: MathJax_Math; font-style: italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.024em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.967em; vertical-align: -0.067em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-5627">X</script></span>中所有其他边都被OFF掉时，边<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-5628-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-67514" style="width: 2.283em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.858em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(0.97em 1000em 2.829em -0.461em); top: -2.186em; left: 0em;"><span class="mrow" id="MathJax-Span-67515"><span class="msubsup" id="MathJax-Span-67516"><span style="display: inline-block; position: relative; width: 1.851em; height: 0px;"><span style="position: absolute; clip: rect(1.615em 1000em 2.623em -0.461em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-67517" style="font-family: MathJax_Math; font-style: italic;">F<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.106em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; clip: rect(1.655em 1000em 2.69em -0.425em); top: -2.871em; left: 0.847em;"><span class="texatom" id="MathJax-Span-67518"><span class="mrow" id="MathJax-Span-67519"><span class="mo" id="MathJax-Span-67520" style="font-size: 70.7%; font-family: MathJax_Main;">(</span><span class="mn" id="MathJax-Span-67521" style="font-size: 70.7%; font-family: MathJax_Main;">1</span><span class="mo" id="MathJax-Span-67522" style="font-size: 70.7%; font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span><span style="position: absolute; clip: rect(1.633em 1000em 2.604em -0.453em); top: -1.961em; left: 0.659em;"><span class="texatom" id="MathJax-Span-67523"><span class="mrow" id="MathJax-Span-67524"><span class="mi" id="MathJax-Span-67525" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.042em;"></span></span><span class="mi" id="MathJax-Span-67526" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">r</span><span class="mi" id="MathJax-Span-67527" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">c</span></span></span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.186em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 2.001em; vertical-align: -0.651em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-5628">F_{frc}^{(1)}</script></span>出现的似然比。我们可以对画布<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-5629-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-67528" style="width: 0.95em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.765em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.612em 1000em 2.622em -0.462em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-67529"><span class="mi" id="MathJax-Span-67530" style="font-family: MathJax_Math; font-style: italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.182em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.965em; vertical-align: -0.065em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-5629">Y</script></span>使用消息传播然后传播到<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-5630-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-67531" style="width: 2.283em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.858em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.085em 1000em 2.35em -0.461em); top: -2.186em; left: 0em;"><span class="mrow" id="MathJax-Span-67532"><span class="msubsup" id="MathJax-Span-67533"><span style="display: inline-block; position: relative; width: 1.851em; height: 0px;"><span style="position: absolute; clip: rect(1.615em 1000em 2.623em -0.461em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-67534" style="font-family: MathJax_Math; font-style: italic;">F<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.106em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.757em; left: 0.847em;"><span class="texatom" id="MathJax-Span-67535"><span class="mrow" id="MathJax-Span-67536"><span class="mo" id="MathJax-Span-67537" style="font-size: 70.7%; font-family: MathJax_Main;">(</span><span class="mn" id="MathJax-Span-67538" style="font-size: 70.7%; font-family: MathJax_Main;">1</span><span class="mo" id="MathJax-Span-67539" style="font-size: 70.7%; font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.186em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.277em; vertical-align: -0.067em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-5630">F^{(1)}</script></span>。然而这种检测图像中定向边缘的方法计算量大。因此我们使用两种方法来估算<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-5631-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-67540" style="width: 5.35em; display: inline-block;"><span style="display: inline-block; position: relative; width: 4.372em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.462em 1000em 3.321em -0.471em); top: -2.678em; left: 0em;"><span class="mrow" id="MathJax-Span-67541"><span class="msubsup" id="MathJax-Span-67542"><span style="display: inline-block; position: relative; width: 1.714em; height: 0px;"><span style="position: absolute; clip: rect(1.853em 1000em 2.634em -0.471em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-67543" style="font-family: MathJax_Math; font-style: italic;">m</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.145em; left: 0.929em;"><span class="texatom" id="MathJax-Span-67544"><span class="mrow" id="MathJax-Span-67545"><span class="mi" id="MathJax-Span-67546" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">b</span><span class="mi" id="MathJax-Span-67547" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">u</span></span></span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span></span><span class="mo" id="MathJax-Span-67548" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-67549"><span style="display: inline-block; position: relative; width: 1.851em; height: 0px;"><span style="position: absolute; clip: rect(1.615em 1000em 2.623em -0.461em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-67550" style="font-family: MathJax_Math; font-style: italic;">F<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.106em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; clip: rect(1.655em 1000em 2.69em -0.425em); top: -2.871em; left: 0.847em;"><span class="texatom" id="MathJax-Span-67551"><span class="mrow" id="MathJax-Span-67552"><span class="mo" id="MathJax-Span-67553" style="font-size: 70.7%; font-family: MathJax_Main;">(</span><span class="mn" id="MathJax-Span-67554" style="font-size: 70.7%; font-family: MathJax_Main;">1</span><span class="mo" id="MathJax-Span-67555" style="font-size: 70.7%; font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span><span style="position: absolute; clip: rect(1.633em 1000em 2.604em -0.453em); top: -1.961em; left: 0.659em;"><span class="texatom" id="MathJax-Span-67556"><span class="mrow" id="MathJax-Span-67557"><span class="mi" id="MathJax-Span-67558" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.042em;"></span></span><span class="mi" id="MathJax-Span-67559" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">r</span><span class="mi" id="MathJax-Span-67560" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">c</span></span></span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span></span><span class="mo" id="MathJax-Span-67561" style="font-family: MathJax_Main;">)</span></span><span style="display: inline-block; width: 0px; height: 2.678em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 2.001em; vertical-align: -0.651em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-5631">m_{bu}(F_{frc}^{(1)})</script></span></p><h3 id="5.-learning"><a name="5.-learning" href="#5.-learning"></a>5. learning</h3><p>这一步要学习一个层次模型。算法自底向上逐层推进。例如对于深度为4的模型，先学习feature layer <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-5632-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-67562" style="width: 2.283em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.858em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.085em 1000em 2.35em -0.461em); top: -2.186em; left: 0em;"><span class="mrow" id="MathJax-Span-67563"><span class="msubsup" id="MathJax-Span-67564"><span style="display: inline-block; position: relative; width: 1.851em; height: 0px;"><span style="position: absolute; clip: rect(1.615em 1000em 2.623em -0.461em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-67565" style="font-family: MathJax_Math; font-style: italic;">F<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.106em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.757em; left: 0.847em;"><span class="texatom" id="MathJax-Span-67566"><span class="mrow" id="MathJax-Span-67567"><span class="mo" id="MathJax-Span-67568" style="font-size: 70.7%; font-family: MathJax_Main;">(</span><span class="mn" id="MathJax-Span-67569" style="font-size: 70.7%; font-family: MathJax_Main;">1</span><span class="mo" id="MathJax-Span-67570" style="font-size: 70.7%; font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.186em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.277em; vertical-align: -0.067em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-5632">F^{(1)}</script></span>的参数，然后学习<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-5633-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-67571" style="width: 2.283em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.858em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.085em 1000em 2.35em -0.461em); top: -2.186em; left: 0em;"><span class="mrow" id="MathJax-Span-67572"><span class="msubsup" id="MathJax-Span-67573"><span style="display: inline-block; position: relative; width: 1.851em; height: 0px;"><span style="position: absolute; clip: rect(1.615em 1000em 2.623em -0.461em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-67574" style="font-family: MathJax_Math; font-style: italic;">F<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.106em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.757em; left: 0.847em;"><span class="texatom" id="MathJax-Span-67575"><span class="mrow" id="MathJax-Span-67576"><span class="mo" id="MathJax-Span-67577" style="font-size: 70.7%; font-family: MathJax_Main;">(</span><span class="mn" id="MathJax-Span-67578" style="font-size: 70.7%; font-family: MathJax_Main;">2</span><span class="mo" id="MathJax-Span-67579" style="font-size: 70.7%; font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.186em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.277em; vertical-align: -0.067em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-5633">F^{(2)}</script></span>、<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-5634-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-67580" style="width: 2.283em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.858em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.085em 1000em 2.35em -0.461em); top: -2.186em; left: 0em;"><span class="mrow" id="MathJax-Span-67581"><span class="msubsup" id="MathJax-Span-67582"><span style="display: inline-block; position: relative; width: 1.851em; height: 0px;"><span style="position: absolute; clip: rect(1.615em 1000em 2.623em -0.461em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-67583" style="font-family: MathJax_Math; font-style: italic;">F<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.106em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.757em; left: 0.847em;"><span class="texatom" id="MathJax-Span-67584"><span class="mrow" id="MathJax-Span-67585"><span class="mo" id="MathJax-Span-67586" style="font-size: 70.7%; font-family: MathJax_Main;">(</span><span class="mn" id="MathJax-Span-67587" style="font-size: 70.7%; font-family: MathJax_Main;">3</span><span class="mo" id="MathJax-Span-67588" style="font-size: 70.7%; font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.186em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.277em; vertical-align: -0.067em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-5634">F^{(3)}</script></span>、<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-5635-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-67589" style="width: 2.283em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.858em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.085em 1000em 2.35em -0.461em); top: -2.186em; left: 0em;"><span class="mrow" id="MathJax-Span-67590"><span class="msubsup" id="MathJax-Span-67591"><span style="display: inline-block; position: relative; width: 1.851em; height: 0px;"><span style="position: absolute; clip: rect(1.615em 1000em 2.623em -0.461em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-67592" style="font-family: MathJax_Math; font-style: italic;">F<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.106em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.757em; left: 0.847em;"><span class="texatom" id="MathJax-Span-67593"><span class="mrow" id="MathJax-Span-67594"><span class="mo" id="MathJax-Span-67595" style="font-size: 70.7%; font-family: MathJax_Main;">(</span><span class="mn" id="MathJax-Span-67596" style="font-size: 70.7%; font-family: MathJax_Main;">4</span><span class="mo" id="MathJax-Span-67597" style="font-size: 70.7%; font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.186em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.277em; vertical-align: -0.067em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-5635">F^{(4)}</script></span>。进入<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-5636-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-67598" style="width: 2.283em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.858em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.085em 1000em 2.35em -0.461em); top: -2.186em; left: 0em;"><span class="mrow" id="MathJax-Span-67599"><span class="msubsup" id="MathJax-Span-67600"><span style="display: inline-block; position: relative; width: 1.851em; height: 0px;"><span style="position: absolute; clip: rect(1.615em 1000em 2.623em -0.461em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-67601" style="font-family: MathJax_Math; font-style: italic;">F<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.106em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.757em; left: 0.847em;"><span class="texatom" id="MathJax-Span-67602"><span class="mrow" id="MathJax-Span-67603"><span class="mo" id="MathJax-Span-67604" style="font-size: 70.7%; font-family: MathJax_Main;">(</span><span class="mn" id="MathJax-Span-67605" style="font-size: 70.7%; font-family: MathJax_Main;">1</span><span class="mo" id="MathJax-Span-67606" style="font-size: 70.7%; font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.186em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.277em; vertical-align: -0.067em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-5636">F^{(1)}</script></span>的特征是通过预处理得到，不用学习。</p><p>模型需要学习两个component: features和lateral connections。特征可以从训练数据中学习，这里使用的是无监督字典学习和稀疏编码来提取轮廓。pooling layer的横向连接是从输入的轮廓中学习，并且使用perturbation模型来参数化的生成其扰动。由于各层是独立学习的，因此单个的pieces可以被替换。</p><p>学习过程主要依赖于未标记的数据。标签只在学习top level的features的时候才会被用到，且每个分类器特征只需要一个已标注的图像。</p><h4 id="5.1-feature-learning"><a name="5.1-feature-learning" href="#5.1-feature-learning"></a>5.1 feature learning</h4><p><img src="file:///E:/Markdown%20files/pics/214.png" alt=""><br>上图表示当<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-5637-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-67607" style="width: 2.283em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.858em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.085em 1000em 2.35em -0.461em); top: -2.186em; left: 0em;"><span class="mrow" id="MathJax-Span-67608"><span class="msubsup" id="MathJax-Span-67609"><span style="display: inline-block; position: relative; width: 1.851em; height: 0px;"><span style="position: absolute; clip: rect(1.615em 1000em 2.623em -0.461em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-67610" style="font-family: MathJax_Math; font-style: italic;">F<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.106em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.757em; left: 0.847em;"><span class="texatom" id="MathJax-Span-67611"><span class="mrow" id="MathJax-Span-67612"><span class="mo" id="MathJax-Span-67613" style="font-size: 70.7%; font-family: MathJax_Main;">(</span><span class="mn" id="MathJax-Span-67614" style="font-size: 70.7%; font-family: MathJax_Main;">1</span><span class="mo" id="MathJax-Span-67615" style="font-size: 70.7%; font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.186em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.277em; vertical-align: -0.067em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-5637">F^{(1)}</script></span>已经被学习好，然后学习<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-5638-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-67616" style="width: 2.283em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.858em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.085em 1000em 2.35em -0.461em); top: -2.186em; left: 0em;"><span class="mrow" id="MathJax-Span-67617"><span class="msubsup" id="MathJax-Span-67618"><span style="display: inline-block; position: relative; width: 1.851em; height: 0px;"><span style="position: absolute; clip: rect(1.615em 1000em 2.623em -0.461em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-67619" style="font-family: MathJax_Math; font-style: italic;">F<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.106em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.757em; left: 0.847em;"><span class="texatom" id="MathJax-Span-67620"><span class="mrow" id="MathJax-Span-67621"><span class="mo" id="MathJax-Span-67622" style="font-size: 70.7%; font-family: MathJax_Main;">(</span><span class="mn" id="MathJax-Span-67623" style="font-size: 70.7%; font-family: MathJax_Main;">2</span><span class="mo" id="MathJax-Span-67624" style="font-size: 70.7%; font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.186em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.277em; vertical-align: -0.067em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-5638">F^{(2)}</script></span>的过程，上面层的学习过程类似。当训练图像（在这种情况下，一颗星星）被送入到网络时，我们试图将其表示为现有已经学过的F（2）特征（图中的红色，绿色和蓝色）的组合。但是，图像的某些部分（在本例中是星星的右上角）将不会被现有的F（2）特征捕捉到，这些必须用图中<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-5639-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-67625" style="width: 2.55em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.077em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.764em 1000em 3.092em -0.461em); top: -2.678em; left: 0em;"><span class="mrow" id="MathJax-Span-67626"><span class="mi" id="MathJax-Span-67627" style="font-family: MathJax_Math; font-style: italic;">F<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.106em;"></span></span><span class="mo" id="MathJax-Span-67628" style="font-family: MathJax_Main;">(</span><span class="mn" id="MathJax-Span-67629" style="font-family: MathJax_Main;">1</span><span class="mo" id="MathJax-Span-67630" style="font-family: MathJax_Main;">)</span></span><span style="display: inline-block; width: 0px; height: 2.678em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.353em; vertical-align: -0.372em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-5639">F(1)</script></span>特征(图中pink和yellow)来表示。这些将会形成一个由<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-5640-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-67631" style="width: 2.55em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.077em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.764em 1000em 3.092em -0.461em); top: -2.678em; left: 0em;"><span class="mrow" id="MathJax-Span-67632"><span class="mi" id="MathJax-Span-67633" style="font-family: MathJax_Math; font-style: italic;">F<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.106em;"></span></span><span class="mo" id="MathJax-Span-67634" style="font-family: MathJax_Main;">(</span><span class="mn" id="MathJax-Span-67635" style="font-family: MathJax_Main;">2</span><span class="mo" id="MathJax-Span-67636" style="font-family: MathJax_Main;">)</span></span><span style="display: inline-block; width: 0px; height: 2.678em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.353em; vertical-align: -0.372em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-5640">F(2)</script></span>和<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-5641-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-67637" style="width: 2.55em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.077em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.764em 1000em 3.092em -0.461em); top: -2.678em; left: 0em;"><span class="mrow" id="MathJax-Span-67638"><span class="mi" id="MathJax-Span-67639" style="font-family: MathJax_Math; font-style: italic;">F<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.106em;"></span></span><span class="mo" id="MathJax-Span-67640" style="font-family: MathJax_Main;">(</span><span class="mn" id="MathJax-Span-67641" style="font-family: MathJax_Main;">1</span><span class="mo" id="MathJax-Span-67642" style="font-family: MathJax_Main;">)</span></span><span style="display: inline-block; width: 0px; height: 2.678em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.353em; vertical-align: -0.372em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-5641">F(1)</script></span>组成的图像的一个解析(也称为sparsification)。属于<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-5642-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-67643" style="width: 2.55em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.077em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.764em 1000em 3.092em -0.461em); top: -2.678em; left: 0em;"><span class="mrow" id="MathJax-Span-67644"><span class="mi" id="MathJax-Span-67645" style="font-family: MathJax_Math; font-style: italic;">F<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.106em;"></span></span><span class="mo" id="MathJax-Span-67646" style="font-family: MathJax_Main;">(</span><span class="mn" id="MathJax-Span-67647" style="font-family: MathJax_Main;">1</span><span class="mo" id="MathJax-Span-67648" style="font-family: MathJax_Main;">)</span></span><span style="display: inline-block; width: 0px; height: 2.678em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.353em; vertical-align: -0.372em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-5642">F(1)</script></span>的active特征但不属于<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-5643-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-67649" style="width: 2.55em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.077em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.764em 1000em 3.092em -0.461em); top: -2.678em; left: 0em;"><span class="mrow" id="MathJax-Span-67650"><span class="mi" id="MathJax-Span-67651" style="font-family: MathJax_Math; font-style: italic;">F<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.106em;"></span></span><span class="mo" id="MathJax-Span-67652" style="font-family: MathJax_Main;">(</span><span class="mn" id="MathJax-Span-67653" style="font-family: MathJax_Main;">2</span><span class="mo" id="MathJax-Span-67654" style="font-family: MathJax_Main;">)</span></span><span style="display: inline-block; width: 0px; height: 2.678em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.353em; vertical-align: -0.372em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-5643">F(2)</script></span>的active特征可以根据轮廓的连续性来进行分组来形成新的<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-5644-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-67655" style="width: 1.55em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.257em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.834em 1000em 2.842em -0.461em); top: -2.678em; left: 0em;"><span class="mrow" id="MathJax-Span-67656"><span class="mi" id="MathJax-Span-67657" style="font-family: MathJax_Math; font-style: italic;">F<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.106em;"></span></span><span class="mn" id="MathJax-Span-67658" style="font-family: MathJax_Main;">2</span></span><span style="display: inline-block; width: 0px; height: 2.678em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.963em; vertical-align: -0.067em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-5644">F2</script></span>特征(将粉红色和黄色特征分组以创建新的 F（2）特征，如图中虚线所示)。对所有训练图像重复这一过程，可以产生一组<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-5645-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-67659" style="width: 2.55em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.077em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.764em 1000em 3.092em -0.461em); top: -2.678em; left: 0em;"><span class="mrow" id="MathJax-Span-67660"><span class="mi" id="MathJax-Span-67661" style="font-family: MathJax_Math; font-style: italic;">F<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.106em;"></span></span><span class="mo" id="MathJax-Span-67662" style="font-family: MathJax_Main;">(</span><span class="mn" id="MathJax-Span-67663" style="font-family: MathJax_Main;">2</span><span class="mo" id="MathJax-Span-67664" style="font-family: MathJax_Main;">)</span></span><span style="display: inline-block; width: 0px; height: 2.678em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.353em; vertical-align: -0.372em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-5645">F(2)</script></span>特征，然后可以基于多个活动特征和重构误差之间的折衷来修剪该特征。</p><h3 id="5.1.1-sparsification"><a name="5.1.1-sparsification" href="#5.1.1-sparsification"></a>5.1.1 sparsification</h3><p>特征学习的很重要的一步就是sparsification。其目的是给予可变换、可重用的特征来计算一副输入图像的压缩表示。sparsification的过程为:</p><p><span class="MathJax_Preview"></span></p><div class="MathJax_Display" role="textbox" aria-readonly="true" style="text-align: center;"><span class="MathJax" id="MathJax-Element-5646-Frame"><nobr><span class="math" id="MathJax-Span-67665" style="width: 17.883em; display: inline-block;"><span style="display: inline-block; position: relative; width: 14.645em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.764em 1000em 3.092em -0.44em); top: -2.678em; left: 0em;"><span class="mrow" id="MathJax-Span-67666"><span class="mi" id="MathJax-Span-67667" style="font-family: MathJax_Math; font-style: italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.032em;"></span></span><span class="mo" id="MathJax-Span-67668" style="font-family: MathJax_Main; padding-left: 0.278em;">=</span><span class="mo" id="MathJax-Span-67669" style="font-family: MathJax_Main; padding-left: 0.278em;">{</span><span class="mo" id="MathJax-Span-67670" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-67671"><span style="display: inline-block; position: relative; width: 0.999em; height: 0px;"><span style="position: absolute; clip: rect(1.59em 1000em 2.828em -0.437em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-67672" style="font-family: MathJax_Math; font-style: italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.06em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.109em; left: 0.541em;"><span class="mn" id="MathJax-Span-67673" style="font-size: 70.7%; font-family: MathJax_Main;">1</span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span></span></span><span class="mo" id="MathJax-Span-67674" style="font-family: MathJax_Main;">,</span><span class="msubsup" id="MathJax-Span-67675" style="padding-left: 0.167em;"><span style="display: inline-block; position: relative; width: 0.949em; height: 0px;"><span style="position: absolute; clip: rect(1.853em 1000em 2.634em -0.471em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-67676" style="font-family: MathJax_Math; font-style: italic;">r</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.2em; left: 0.492em;"><span class="mn" id="MathJax-Span-67677" style="font-size: 70.7%; font-family: MathJax_Main;">1</span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span></span></span><span class="mo" id="MathJax-Span-67678" style="font-family: MathJax_Main;">,</span><span class="msubsup" id="MathJax-Span-67679" style="padding-left: 0.167em;"><span style="display: inline-block; position: relative; width: 0.895em; height: 0px;"><span style="position: absolute; clip: rect(1.853em 1000em 2.634em -0.458em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-67680" style="font-family: MathJax_Math; font-style: italic;">c</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.2em; left: 0.437em;"><span class="mn" id="MathJax-Span-67681" style="font-size: 70.7%; font-family: MathJax_Main;">1</span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span></span></span><span class="mo" id="MathJax-Span-67682" style="font-family: MathJax_Main;">)</span><span class="mo" id="MathJax-Span-67683" style="font-family: MathJax_Main;">,</span><span class="mo" id="MathJax-Span-67684" style="font-family: MathJax_Main; padding-left: 0.167em;">⋯</span><span class="mo" id="MathJax-Span-67685" style="font-family: MathJax_Main; padding-left: 0.167em;">,</span><span class="mo" id="MathJax-Span-67686" style="font-family: MathJax_Main; padding-left: 0.167em;">(</span><span class="msubsup" id="MathJax-Span-67687"><span style="display: inline-block; position: relative; width: 1.272em; height: 0px;"><span style="position: absolute; clip: rect(1.59em 1000em 2.828em -0.437em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-67688" style="font-family: MathJax_Math; font-style: italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.06em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.055em; left: 0.541em;"><span class="mi" id="MathJax-Span-67689" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">K<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.028em;"></span></span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span></span><span class="mo" id="MathJax-Span-67690" style="font-family: MathJax_Main;">,</span><span class="msubsup" id="MathJax-Span-67691" style="padding-left: 0.167em;"><span style="display: inline-block; position: relative; width: 1.223em; height: 0px;"><span style="position: absolute; clip: rect(1.853em 1000em 2.634em -0.471em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-67692" style="font-family: MathJax_Math; font-style: italic;">r</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.145em; left: 0.492em;"><span class="mi" id="MathJax-Span-67693" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">K<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.028em;"></span></span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span></span><span class="mo" id="MathJax-Span-67694" style="font-family: MathJax_Main;">,</span><span class="msubsup" id="MathJax-Span-67695" style="padding-left: 0.167em;"><span style="display: inline-block; position: relative; width: 1.168em; height: 0px;"><span style="position: absolute; clip: rect(1.853em 1000em 2.634em -0.458em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-67696" style="font-family: MathJax_Math; font-style: italic;">c</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.145em; left: 0.437em;"><span class="mi" id="MathJax-Span-67697" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">K<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.028em;"></span></span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span></span><span class="mo" id="MathJax-Span-67698" style="font-family: MathJax_Main;">}</span></span><span style="display: inline-block; width: 0px; height: 2.678em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.353em; vertical-align: -0.372em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-5646">
S=\{(f_1,r_1,c_1),\cdots,(f_K,r_K,c_K\}</script><p></p><p>其中每个<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-5647-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-67699" style="width: 1.617em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.311em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.317em 1000em 2.59em -0.437em); top: -2.186em; left: 0em;"><span class="mrow" id="MathJax-Span-67700"><span class="msubsup" id="MathJax-Span-67701"><span style="display: inline-block; position: relative; width: 1.272em; height: 0px;"><span style="position: absolute; clip: rect(1.59em 1000em 2.828em -0.437em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-67702" style="font-family: MathJax_Math; font-style: italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.06em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.055em; left: 0.541em;"><span class="mi" id="MathJax-Span-67703" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">K<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.028em;"></span></span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.186em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.287em; vertical-align: -0.36em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-5647">f_K</script></span>表示在第<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-5648-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-67704" style="width: 0.417em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.328em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.601em 1000em 2.634em -0.454em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-67705"><span class="mi" id="MathJax-Span-67706" style="font-family: MathJax_Math; font-style: italic;">l</span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.993em; vertical-align: -0.08em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-5648">l</script></span>层的一个特征。sparsification的目的是在第<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-5649-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-67707" style="width: 0.417em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.328em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.601em 1000em 2.634em -0.454em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-67708"><span class="mi" id="MathJax-Span-67709" style="font-family: MathJax_Math; font-style: italic;">l</span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.993em; vertical-align: -0.08em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-5649">l</script></span>层最小化下面的损失函数:</p><p><span class="MathJax_Preview"></span></p><div class="MathJax_Display" role="textbox" aria-readonly="true" style="text-align: center;"><span class="MathJax" id="MathJax-Element-5650-Frame"><nobr><span class="math" id="MathJax-Span-67710" style="width: 17.817em; display: inline-block;"><span style="display: inline-block; position: relative; width: 14.59em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.764em 1000em 3.129em -0.435em); top: -2.678em; left: 0em;"><span class="mrow" id="MathJax-Span-67711"><span class="msubsup" id="MathJax-Span-67712"><span style="display: inline-block; position: relative; width: 2.729em; height: 0px;"><span style="position: absolute; clip: rect(1.612em 1000em 2.645em -0.435em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-67713" style="font-family: MathJax_Math; font-style: italic;">J<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.078em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.145em; left: 0.578em;"><span class="texatom" id="MathJax-Span-67714"><span class="mrow" id="MathJax-Span-67715"><span class="mi" id="MathJax-Span-67716" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">s</span><span class="mi" id="MathJax-Span-67717" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">p</span><span class="mi" id="MathJax-Span-67718" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">a</span><span class="mi" id="MathJax-Span-67719" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">r</span><span class="mi" id="MathJax-Span-67720" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">s</span><span class="mi" id="MathJax-Span-67721" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">e</span></span></span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span></span><span class="mo" id="MathJax-Span-67722" style="font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-67723" style="font-family: MathJax_Math; font-style: italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.032em;"></span></span><span class="mo" id="MathJax-Span-67724" style="font-family: MathJax_Main;">;</span><span class="mi" id="MathJax-Span-67725" style="font-family: MathJax_Math; font-style: italic; padding-left: 0.167em;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.024em;"></span></span><span class="mo" id="MathJax-Span-67726" style="font-family: MathJax_Main;">)</span><span class="mo" id="MathJax-Span-67727" style="font-family: MathJax_Main; padding-left: 0.278em;">=</span><span class="mi" id="MathJax-Span-67728" style="font-family: MathJax_Math; font-style: italic; padding-left: 0.278em;">α</span><span class="texatom" id="MathJax-Span-67729"><span class="mrow" id="MathJax-Span-67730"><span class="mo" id="MathJax-Span-67731" style="font-family: MathJax_Main;">|</span></span></span><span class="mi" id="MathJax-Span-67732" style="font-family: MathJax_Math; font-style: italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.032em;"></span></span><span class="texatom" id="MathJax-Span-67733"><span class="mrow" id="MathJax-Span-67734"><span class="mo" id="MathJax-Span-67735" style="font-family: MathJax_Main;">|</span></span></span><span class="mo" id="MathJax-Span-67736" style="font-family: MathJax_Main; padding-left: 0.222em;">+</span><span class="mi" id="MathJax-Span-67737" style="font-family: MathJax_Main; padding-left: 0.222em;">log</span><span class="mo" id="MathJax-Span-67738"></span><span class="mi" id="MathJax-Span-67739" style="font-family: MathJax_Math; font-style: italic; padding-left: 0.167em;">P<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.109em;"></span></span><span class="mo" id="MathJax-Span-67740" style="font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-67741" style="font-family: MathJax_Math; font-style: italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.024em;"></span></span><span class="texatom" id="MathJax-Span-67742"><span class="mrow" id="MathJax-Span-67743"><span class="mo" id="MathJax-Span-67744" style="font-family: MathJax_Main;">|</span></span></span><span class="mi" id="MathJax-Span-67745" style="font-family: MathJax_Math; font-style: italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.032em;"></span></span><span class="mo" id="MathJax-Span-67746" style="font-family: MathJax_Main;">)</span></span><span style="display: inline-block; width: 0px; height: 2.678em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.399em; vertical-align: -0.417em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-5650">
J_{sparse}(S;X)=\alpha |S|+\log P(X|S)</script><p></p><p>给定S中的特征恰好在<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-5651-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-67747" style="width: 3.35em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.732em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.601em 1000em 2.634em -0.454em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-67748"><span class="mi" id="MathJax-Span-67749" style="font-family: MathJax_Math; font-style: italic;">l</span><span class="mi" id="MathJax-Span-67750" style="font-family: MathJax_Math; font-style: italic;">e</span><span class="mi" id="MathJax-Span-67751" style="font-family: MathJax_Math; font-style: italic;">v</span><span class="mi" id="MathJax-Span-67752" style="font-family: MathJax_Math; font-style: italic;">e</span><span class="mi" id="MathJax-Span-67753" style="font-family: MathJax_Math; font-style: italic;">l</span><span class="mspace" id="MathJax-Span-67754" style="height: 0em; vertical-align: 0em; width: 0.413em; display: inline-block; overflow: hidden;"></span><span class="mi" id="MathJax-Span-67755" style="font-family: MathJax_Math; font-style: italic;">l</span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.993em; vertical-align: -0.08em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-5651">level\hspace{0.2cm} l</script></span>上，其中<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-5652-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-67756" style="width: 4.083em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.333em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.764em 1000em 3.092em -0.459em); top: -2.678em; left: 0em;"><span class="mrow" id="MathJax-Span-67757"><span class="mi" id="MathJax-Span-67758" style="font-family: MathJax_Math; font-style: italic;">P<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.109em;"></span></span><span class="mo" id="MathJax-Span-67759" style="font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-67760" style="font-family: MathJax_Math; font-style: italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.024em;"></span></span><span class="texatom" id="MathJax-Span-67761"><span class="mrow" id="MathJax-Span-67762"><span class="mo" id="MathJax-Span-67763" style="font-family: MathJax_Main;">|</span></span></span><span class="mi" id="MathJax-Span-67764" style="font-family: MathJax_Math; font-style: italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.032em;"></span></span><span class="mo" id="MathJax-Span-67765" style="font-family: MathJax_Main;">)</span></span><span style="display: inline-block; width: 0px; height: 2.678em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.353em; vertical-align: -0.372em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-5652">P(X|S)</script></span>为生成模型的边缘图上的条件分布。该方法类似于matching pursuit，只是我们使用RCN来允许匹配过程中的特征失真。而其他的分层学习方法不允许学习过程中的特征失真，这是RCN的一大贡献。</p><p>在每次迭代中，该算法保持当前的稀疏表示和最低级激活的剩余未解释部分（自底向上消息到F（1））。 然后，它截取正向传递到C 1级，并选择最活跃的C级功能。 然后执行反向传递来确定相应的F（1）特征，并抑制每个这样的F（1）特征的邻域内的所有激活。 重复该过程直到整个图像被解释或者没有良好的匹配。算法过程如下：<br><img src="file:///E:/Markdown%20files/pics/215.png" alt=""></p><h3 id="5.1.2-中间层特征的学习"><a name="5.1.2-中间层特征的学习" href="#5.1.2-中间层特征的学习"></a>5.1.2 中间层特征的学习</h3><p>RCN的中间层的特征是从未标记的数据中学习。第<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-5653-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-67766" style="width: 0.417em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.328em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.601em 1000em 2.634em -0.454em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-67767"><span class="mi" id="MathJax-Span-67768" style="font-family: MathJax_Math; font-style: italic;">l</span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.993em; vertical-align: -0.08em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-5653">l</script></span>层的特征包含<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-5654-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-67769" style="width: 1.15em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.929em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.612em 1000em 2.623em -0.461em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-67770"><span class="mi" id="MathJax-Span-67771" style="font-family: MathJax_Math; font-style: italic;">N<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.085em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.967em; vertical-align: -0.067em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-5654">N</script></span>个features(N是一个确定值)。每个特征包含一组子pool，写作<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-5655-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-67772" style="width: 16.35em; display: inline-block;"><span style="display: inline-block; position: relative; width: 13.388em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.764em 1000em 3.092em -0.427em); top: -2.678em; left: 0em;"><span class="mrow" id="MathJax-Span-67773"><span class="mo" id="MathJax-Span-67774" style="font-family: MathJax_Main;">{</span><span class="mo" id="MathJax-Span-67775" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-67776"><span style="display: inline-block; position: relative; width: 0.999em; height: 0px;"><span style="position: absolute; clip: rect(1.59em 1000em 2.828em -0.437em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-67777" style="font-family: MathJax_Math; font-style: italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.06em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.109em; left: 0.541em;"><span class="mn" id="MathJax-Span-67778" style="font-size: 70.7%; font-family: MathJax_Main;">1</span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span></span></span><span class="mo" id="MathJax-Span-67779" style="font-family: MathJax_Main;">,</span><span class="msubsup" id="MathJax-Span-67780" style="padding-left: 0.167em;"><span style="display: inline-block; position: relative; width: 0.949em; height: 0px;"><span style="position: absolute; clip: rect(1.853em 1000em 2.634em -0.471em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-67781" style="font-family: MathJax_Math; font-style: italic;">r</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.2em; left: 0.492em;"><span class="mn" id="MathJax-Span-67782" style="font-size: 70.7%; font-family: MathJax_Main;">1</span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span></span></span><span class="mo" id="MathJax-Span-67783" style="font-family: MathJax_Main;">,</span><span class="msubsup" id="MathJax-Span-67784" style="padding-left: 0.167em;"><span style="display: inline-block; position: relative; width: 0.895em; height: 0px;"><span style="position: absolute; clip: rect(1.853em 1000em 2.634em -0.458em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-67785" style="font-family: MathJax_Math; font-style: italic;">c</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.2em; left: 0.437em;"><span class="mn" id="MathJax-Span-67786" style="font-size: 70.7%; font-family: MathJax_Main;">1</span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span></span></span><span class="mo" id="MathJax-Span-67787" style="font-family: MathJax_Main;">)</span><span class="mo" id="MathJax-Span-67788" style="font-family: MathJax_Main;">,</span><span class="mo" id="MathJax-Span-67789" style="font-family: MathJax_Main; padding-left: 0.167em;">⋯</span><span class="mo" id="MathJax-Span-67790" style="font-family: MathJax_Main; padding-left: 0.167em;">,</span><span class="mo" id="MathJax-Span-67791" style="font-family: MathJax_Main; padding-left: 0.167em;">(</span><span class="msubsup" id="MathJax-Span-67792"><span style="display: inline-block; position: relative; width: 1.381em; height: 0px;"><span style="position: absolute; clip: rect(1.59em 1000em 2.828em -0.437em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-67793" style="font-family: MathJax_Math; font-style: italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.06em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.055em; left: 0.541em;"><span class="mi" id="MathJax-Span-67794" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">M<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span></span><span class="mo" id="MathJax-Span-67795" style="font-family: MathJax_Main;">,</span><span class="msubsup" id="MathJax-Span-67796" style="padding-left: 0.167em;"><span style="display: inline-block; position: relative; width: 1.332em; height: 0px;"><span style="position: absolute; clip: rect(1.853em 1000em 2.634em -0.471em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-67797" style="font-family: MathJax_Math; font-style: italic;">r</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.145em; left: 0.492em;"><span class="mi" id="MathJax-Span-67798" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">M<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span></span><span class="mo" id="MathJax-Span-67799" style="font-family: MathJax_Main;">,</span><span class="msubsup" id="MathJax-Span-67800" style="padding-left: 0.167em;"><span style="display: inline-block; position: relative; width: 1.277em; height: 0px;"><span style="position: absolute; clip: rect(1.853em 1000em 2.634em -0.458em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-67801" style="font-family: MathJax_Math; font-style: italic;">c</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.145em; left: 0.437em;"><span class="mi" id="MathJax-Span-67802" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">M<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span></span><span class="mo" id="MathJax-Span-67803" style="font-family: MathJax_Main;">)</span><span class="mo" id="MathJax-Span-67804" style="font-family: MathJax_Main;">}</span></span><span style="display: inline-block; width: 0px; height: 2.678em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.353em; vertical-align: -0.372em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-5655">\{(f_1,r_1,c_1),\cdots,(f_M, r_M, c_M)\}</script></span>。其中<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-5656-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-67805" style="width: 6.55em; display: inline-block;"><span style="display: inline-block; position: relative; width: 5.355em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.764em 1000em 3.092em -0.398em); top: -2.678em; left: 0em;"><span class="mrow" id="MathJax-Span-67806"><span class="mo" id="MathJax-Span-67807" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-67808"><span style="display: inline-block; position: relative; width: 1.272em; height: 0px;"><span style="position: absolute; clip: rect(1.59em 1000em 2.828em -0.437em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-67809" style="font-family: MathJax_Math; font-style: italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.06em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.055em; left: 0.541em;"><span class="mi" id="MathJax-Span-67810" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">m</span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span></span><span class="mo" id="MathJax-Span-67811" style="font-family: MathJax_Main;">,</span><span class="msubsup" id="MathJax-Span-67812" style="padding-left: 0.167em;"><span style="display: inline-block; position: relative; width: 1.223em; height: 0px;"><span style="position: absolute; clip: rect(1.853em 1000em 2.634em -0.471em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-67813" style="font-family: MathJax_Math; font-style: italic;">r</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.145em; left: 0.492em;"><span class="mi" id="MathJax-Span-67814" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">m</span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span></span><span class="mo" id="MathJax-Span-67815" style="font-family: MathJax_Main;">,</span><span class="msubsup" id="MathJax-Span-67816" style="padding-left: 0.167em;"><span style="display: inline-block; position: relative; width: 1.168em; height: 0px;"><span style="position: absolute; clip: rect(1.853em 1000em 2.634em -0.458em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-67817" style="font-family: MathJax_Math; font-style: italic;">c</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.145em; left: 0.437em;"><span class="mi" id="MathJax-Span-67818" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">m</span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span></span><span class="mo" id="MathJax-Span-67819" style="font-family: MathJax_Main;">)</span></span><span style="display: inline-block; width: 0px; height: 2.678em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.353em; vertical-align: -0.372em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-5656">(f_m, r_m,c_m)</script></span>表示以<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-5657-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-67820" style="width: 3.217em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.623em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.085em 1000em 2.35em -0.461em); top: -2.186em; left: 0em;"><span class="mrow" id="MathJax-Span-67821"><span class="msubsup" id="MathJax-Span-67822"><span style="display: inline-block; position: relative; width: 2.616em; height: 0px;"><span style="position: absolute; clip: rect(1.615em 1000em 2.623em -0.461em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-67823" style="font-family: MathJax_Math; font-style: italic;">F<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.106em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.757em; left: 0.847em;"><span class="texatom" id="MathJax-Span-67824"><span class="mrow" id="MathJax-Span-67825"><span class="mo" id="MathJax-Span-67826" style="font-size: 70.7%; font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-67827" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">l</span><span class="mo" id="MathJax-Span-67828" style="font-size: 70.7%; font-family: MathJax_Main;">−</span><span class="mn" id="MathJax-Span-67829" style="font-size: 70.7%; font-family: MathJax_Main;">1</span><span class="mo" id="MathJax-Span-67830" style="font-size: 70.7%; font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.186em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.277em; vertical-align: -0.067em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-5657">F^{(l-1)}</script></span>特征为中心的子级<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-5658-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-67831" style="width: 3.417em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.787em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.082em 1000em 2.35em -0.461em); top: -2.186em; left: 0em;"><span class="mrow" id="MathJax-Span-67832"><span class="msubsup" id="MathJax-Span-67833"><span style="display: inline-block; position: relative; width: 2.765em; height: 0px;"><span style="position: absolute; clip: rect(1.612em 1000em 2.623em -0.461em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-67834" style="font-family: MathJax_Math; font-style: italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.76em; left: 0.996em;"><span class="texatom" id="MathJax-Span-67835"><span class="mrow" id="MathJax-Span-67836"><span class="mo" id="MathJax-Span-67837" style="font-size: 70.7%; font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-67838" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">l</span><span class="mo" id="MathJax-Span-67839" style="font-size: 70.7%; font-family: MathJax_Main;">−</span><span class="mn" id="MathJax-Span-67840" style="font-size: 70.7%; font-family: MathJax_Main;">1</span><span class="mo" id="MathJax-Span-67841" style="font-size: 70.7%; font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.186em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.281em; vertical-align: -0.067em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-5658">H^{(l-1)}</script></span>的pool。</p><h3 id="8.1-preprocess-layer"><a name="8.1-preprocess-layer" href="#8.1-preprocess-layer"></a>8.1 preprocess layer</h3><p>PreProc（预处理）管道将图像转换为一组定向过滤器激活</p><h4 id="8.1.1-2d-correlation"><a name="8.1.1-2d-correlation" href="#8.1.1-2d-correlation"></a>8.1.1 2D correlation</h4><p>给定一组预定义的灰度边缘滤波器，每个滤波器的<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-5659-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-67842" style="width: 1.483em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.202em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.339em 1000em 2.5em -0.46em); top: -2.186em; left: 0em;"><span class="mrow" id="MathJax-Span-67843"><span class="msubsup" id="MathJax-Span-67844"><span style="display: inline-block; position: relative; width: 1.168em; height: 0px;"><span style="position: absolute; clip: rect(1.612em 1000em 2.623em -0.46em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-67845" style="font-family: MathJax_Math; font-style: italic;">L</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.2em; left: 0.71em;"><span class="mn" id="MathJax-Span-67846" style="font-size: 70.7%; font-family: MathJax_Main;">1</span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.186em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.15em; vertical-align: -0.25em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-5659">L_1</script></span>的正则化范数为1.0。首先在图像上上执行标注的你的2D correlation，将强度值量化为0-255的整数值。通常使用16个edge orientsations,每个filter包含一个正高斯和负高斯，每个滤波器都有一个标准差，我们成为filter scale。高斯滤波器由2个标准差分开(见例 S10)。如果输入的X是一个彩色图像，我们对图像的每个通道执行分开的2D correlation,对于灰度化的图像也执行，然后将滤波器得分<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-5660-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-67847" style="width: 15.017em; display: inline-block;"><span style="display: inline-block; position: relative; width: 12.295em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.714em 1000em 3.042em -0.461em); top: -2.678em; left: 0em;"><span class="mrow" id="MathJax-Span-67848"><span class="msubsup" id="MathJax-Span-67849"><span style="display: inline-block; position: relative; width: 2.233em; height: 0px;"><span style="position: absolute; clip: rect(1.615em 1000em 2.623em -0.461em); top: -2.459em; left: 0em;"><span class="mi" id="MathJax-Span-67850" style="font-family: MathJax_Math; font-style: italic;">F<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.106em;"></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span><span style="position: absolute; top: -2.702em; left: 0.847em;"><span class="texatom" id="MathJax-Span-67851"><span class="mrow" id="MathJax-Span-67852"><span class="mi" id="MathJax-Span-67853" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">c</span><span class="mi" id="MathJax-Span-67854" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">o</span><span class="mi" id="MathJax-Span-67855" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">r</span><span class="mi" id="MathJax-Span-67856" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">r</span></span></span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span></span><span class="mo" id="MathJax-Span-67857" style="font-family: MathJax_Main; padding-left: 0.278em;">=</span><span class="mi" id="MathJax-Span-67858" style="font-family: MathJax_Math; font-style: italic; padding-left: 0.278em;">c</span><span class="mi" id="MathJax-Span-67859" style="font-family: MathJax_Math; font-style: italic;">o</span><span class="mi" id="MathJax-Span-67860" style="font-family: MathJax_Math; font-style: italic;">r</span><span class="mi" id="MathJax-Span-67861" style="font-family: MathJax_Math; font-style: italic;">r</span><span class="mi" id="MathJax-Span-67862" style="font-family: MathJax_Math; font-style: italic;">e</span><span class="mi" id="MathJax-Span-67863" style="font-family: MathJax_Math; font-style: italic;">l</span><span class="mi" id="MathJax-Span-67864" style="font-family: MathJax_Math; font-style: italic;">a</span><span class="mi" id="MathJax-Span-67865" style="font-family: MathJax_Math; font-style: italic;">t</span><span class="mi" id="MathJax-Span-67866" style="font-family: MathJax_Math; font-style: italic;">i</span><span class="mi" id="MathJax-Span-67867" style="font-family: MathJax_Math; font-style: italic;">o</span><span class="mi" id="MathJax-Span-67868" style="font-family: MathJax_Math; font-style: italic;">n</span><span class="mn" id="MathJax-Span-67869" style="font-family: MathJax_Main;">2</span><span class="mi" id="MathJax-Span-67870" style="font-family: MathJax_Math; font-style: italic;">D</span><span class="texatom" id="MathJax-Span-67871"><span class="mrow" id="MathJax-Span-67872"><span class="mo" id="MathJax-Span-67873"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 82%; font-style: normal; font-weight: normal;">（</span></span></span></span><span class="mi" id="MathJax-Span-67874" style="font-family: MathJax_Math; font-style: italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.024em;"></span></span><span class="texatom" id="MathJax-Span-67875"><span class="mrow" id="MathJax-Span-67876"><span class="mo" id="MathJax-Span-67877"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 82%; font-style: normal; font-weight: normal;">）</span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.678em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.353em; vertical-align: -0.311em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-5660">F^{corr}=correlation2D（X）</script></span>作为每个彩色和灰度通道的元素最大值。 该过程的输出如图S11（b）所示。</p><p>2D correlation：2D correlation通常用来计算两个2D信号的相关性，结果用一个举证保存。两个矩阵a和b的2D correlation为:</p><p><span class="MathJax_Preview"></span></p><div class="MathJax_Display" role="textbox" aria-readonly="true" style="text-align: center;"><span class="MathJax" id="MathJax-Element-5661-Frame"><nobr><span class="math" id="MathJax-Span-67878" style="width: 20.35em; display: inline-block;"><span style="display: inline-block; position: relative; width: 16.667em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(0.781em 1000em 4.037em -0.471em); top: -2.678em; left: 0em;"><span class="mrow" id="MathJax-Span-67879"><span class="mi" id="MathJax-Span-67880" style="font-family: MathJax_Math; font-style: italic;">r</span><span class="mo" id="MathJax-Span-67881" style="font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-67882" style="font-family: MathJax_Math; font-style: italic;">i</span><span class="mo" id="MathJax-Span-67883" style="font-family: MathJax_Main;">,</span><span class="mi" id="MathJax-Span-67884" style="font-family: MathJax_Math; font-style: italic; padding-left: 0.167em;">j</span><span class="mo" id="MathJax-Span-67885" style="font-family: MathJax_Main;">)</span><span class="mo" id="MathJax-Span-67886" style="font-family: MathJax_Main; padding-left: 0.278em;">=</span><span class="munderover" id="MathJax-Span-67887" style="padding-left: 0.278em;"><span style="display: inline-block; position: relative; width: 1.53em; height: 0px;"><span style="position: absolute; clip: rect(2.657em 1000em 4.384em -0.437em); top: -3.77em; left: 0.027em;"><span class="mo" id="MathJax-Span-67888" style="font-family: MathJax_Size2; vertical-align: 0em;">∑</span><span style="display: inline-block; width: 0px; height: 3.77em;"></span></span><span style="position: absolute; clip: rect(1.715em 1000em 2.621em -0.477em); top: -1.262em; left: 0em;"><span class="texatom" id="MathJax-Span-67889"><span class="mrow" id="MathJax-Span-67890"><span class="mi" id="MathJax-Span-67891" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">m</span><span class="mo" id="MathJax-Span-67892" style="font-size: 70.7%; font-family: MathJax_Main;">=</span><span class="mn" id="MathJax-Span-67893" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span><span style="position: absolute; clip: rect(1.548em 1000em 2.459em -0.467em); top: -3.445em; left: 0.383em;"><span class="mi" id="MathJax-Span-67894" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">M<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span></span><span class="munderover" id="MathJax-Span-67895" style="padding-left: 0.167em;"><span style="display: inline-block; position: relative; width: 1.475em; height: 0px;"><span style="position: absolute; clip: rect(2.657em 1000em 4.384em -0.437em); top: -3.77em; left: 0em;"><span class="mo" id="MathJax-Span-67896" style="font-family: MathJax_Size2; vertical-align: 0em;">∑</span><span style="display: inline-block; width: 0px; height: 3.77em;"></span></span><span style="position: absolute; clip: rect(1.715em 1000em 2.621em -0.477em); top: -1.262em; left: 0.055em;"><span class="texatom" id="MathJax-Span-67897"><span class="mrow" id="MathJax-Span-67898"><span class="mi" id="MathJax-Span-67899" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">n</span><span class="mo" id="MathJax-Span-67900" style="font-size: 70.7%; font-family: MathJax_Main;">=</span><span class="mn" id="MathJax-Span-67901" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 2.35em;"></span></span><span style="position: absolute; clip: rect(1.548em 1000em 2.459em -0.47em); top: -3.445em; left: 0.41em;"><span class="mi" id="MathJax-Span-67902" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">N<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.06em;"></span></span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span></span><span class="mi" id="MathJax-Span-67903" style="font-family: MathJax_Math; font-style: italic; padding-left: 0.167em;">a</span><span class="mo" id="MathJax-Span-67904" style="font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-67905" style="font-family: MathJax_Math; font-style: italic;">m</span><span class="mo" id="MathJax-Span-67906" style="font-family: MathJax_Main;">,</span><span class="mi" id="MathJax-Span-67907" style="font-family: MathJax_Math; font-style: italic; padding-left: 0.167em;">n</span><span class="mo" id="MathJax-Span-67908" style="font-family: MathJax_Main;">)</span><span class="mi" id="MathJax-Span-67909" style="font-family: MathJax_Math; font-style: italic;">b</span><span class="mo" id="MathJax-Span-67910" style="font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-67911" style="font-family: MathJax_Math; font-style: italic;">m</span><span class="mo" id="MathJax-Span-67912" style="font-family: MathJax_Main; padding-left: 0.222em;">−</span><span class="mi" id="MathJax-Span-67913" style="font-family: MathJax_Math; font-style: italic; padding-left: 0.222em;">i</span><span class="mo" id="MathJax-Span-67914" style="font-family: MathJax_Main;">,</span><span class="mi" id="MathJax-Span-67915" style="font-family: MathJax_Math; font-style: italic; padding-left: 0.167em;">n</span><span class="mo" id="MathJax-Span-67916" style="font-family: MathJax_Main; padding-left: 0.222em;">−</span><span class="mi" id="MathJax-Span-67917" style="font-family: MathJax_Math; font-style: italic; padding-left: 0.222em;">j</span><span class="mo" id="MathJax-Span-67918" style="font-family: MathJax_Main;">)</span></span><span style="display: inline-block; width: 0px; height: 2.678em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 3.706em; vertical-align: -1.525em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-5661">
r(i, j)=\sum_{m=1}^M\sum_{n=1}^Na(m,n)b(m-i,n-j)</script><p></p><p>计算2D correlation的方法有2种： FFT和shift-accumulation. shift accumulation计算方法与上式相同。FFT计算方法为：</p><ul>
<li>两个2D信号的离散傅立叶变换是使用2D FFT计算的。</li><li>将第一信号的傅里叶系数与第二信号的共轭系数相乘。</li><li>对产品执行逆离散傅里叶变换。</li></ul><p>FFT可以加快计算速度，但是对于某些边界点计算不是很准确。</p><p>预处理的总体过程是：</p><ul>
<li>图片扩充到<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-5662-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-67919" style="width: 5.217em; display: inline-block;"><span style="display: inline-block; position: relative; width: 4.262em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.848em 1000em 2.864em -0.442em); top: -2.678em; left: 0em;"><span class="mrow" id="MathJax-Span-67920"><span class="mn" id="MathJax-Span-67921" style="font-family: MathJax_Main;">200</span><span class="mo" id="MathJax-Span-67922" style="font-family: MathJax_Main; padding-left: 0.222em;">×</span><span class="mn" id="MathJax-Span-67923" style="font-family: MathJax_Main; padding-left: 0.222em;">200</span></span><span style="display: inline-block; width: 0px; height: 2.678em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.973em; vertical-align: -0.094em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-5662">200\times 200</script></span></li><li>进行一个<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-5663-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-67924" style="width: 6.817em; display: inline-block;"><span style="display: inline-block; position: relative; width: 5.574em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.59em 1000em 2.828em -0.442em); top: -2.459em; left: 0em;"><span class="mrow" id="MathJax-Span-67925"><span class="mi" id="MathJax-Span-67926" style="font-family: MathJax_Math; font-style: italic;">G</span><span class="mi" id="MathJax-Span-67927" style="font-family: MathJax_Math; font-style: italic;">a</span><span class="mi" id="MathJax-Span-67928" style="font-family: MathJax_Math; font-style: italic;">b</span><span class="mi" id="MathJax-Span-67929" style="font-family: MathJax_Math; font-style: italic;">o</span><span class="mi" id="MathJax-Span-67930" style="font-family: MathJax_Math; font-style: italic;">r</span><span class="mspace" id="MathJax-Span-67931" style="height: 0em; vertical-align: 0em; width: 0.413em; display: inline-block; overflow: hidden;"></span><span class="mi" id="MathJax-Span-67932" style="font-family: MathJax_Math; font-style: italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.06em;"></span></span><span class="mi" id="MathJax-Span-67933" style="font-family: MathJax_Math; font-style: italic;">i</span><span class="mi" id="MathJax-Span-67934" style="font-family: MathJax_Math; font-style: italic;">l</span><span class="mi" id="MathJax-Span-67935" style="font-family: MathJax_Math; font-style: italic;">t</span><span class="mi" id="MathJax-Span-67936" style="font-family: MathJax_Math; font-style: italic;">e</span><span class="mi" id="MathJax-Span-67937" style="font-family: MathJax_Math; font-style: italic;">r</span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.244em; vertical-align: -0.317em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-5663">Gabor\hspace{0.2cm} filter</script></span>,non-max suppression, (0,1)的clip之后，输出一个<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-5664-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-67938" style="width: 7.883em; display: inline-block;"><span style="display: inline-block; position: relative; width: 6.448em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.848em 1000em 2.864em -0.409em); top: -2.678em; left: 0em;"><span class="mrow" id="MathJax-Span-67939"><span class="mn" id="MathJax-Span-67940" style="font-family: MathJax_Main;">16</span><span class="mo" id="MathJax-Span-67941" style="font-family: MathJax_Main; padding-left: 0.222em;">×</span><span class="mn" id="MathJax-Span-67942" style="font-family: MathJax_Main; padding-left: 0.222em;">200</span><span class="mo" id="MathJax-Span-67943" style="font-family: MathJax_Main; padding-left: 0.222em;">×</span><span class="mn" id="MathJax-Span-67944" style="font-family: MathJax_Main; padding-left: 0.222em;">200</span></span><span style="display: inline-block; width: 0px; height: 2.678em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.973em; vertical-align: -0.094em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-5664">16\times 200\times 200</script></span>的矩阵作为下一步的输入。这一步的处理没有学习过程。<br>a<br>a<br>a<br>a<br>a<br>a<br>a<br>a<br>a<br>a<br>aa</li></ul><p>a<br>a<br>a<br>a<br>a<br>a<br>a<br>a<br>a</p><p>a<br>a<br>a<br>a<br>a</p><p>a<br>a<br>aa</p><p>a<br>a<br>a<br>a<br>a</p><p>a<br>a<br>a<br>a</p><p>a<br>a<br>a<br>a</p><p>a<br>a<br>a</p><p>a</p><p>a<br>a<br>a<br>a<br>a</p><p>a<br>a<br>a<br>a</p><p>a<br>a<br>a<br>a<br>a</p><p>a<br>a<br>a<br>a<br>a</p><p>a<br>aa</p>

<footer style="position:fixed; font-size:.8em; text-align:right; bottom:0px; margin-left:-25px; height:20px; width:100%;">generated by <a href="http://pad.haroopress.com" target="_blank">haroopad</a></footer>
</body>
</html>
